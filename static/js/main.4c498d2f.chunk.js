(this["webpackJsonp@unique-dao/react-app"]=this["webpackJsonp@unique-dao/react-app"]||[]).push([[0],{1003:function(e,t){},1120:function(e,t){},1123:function(e,t){},1128:function(e,t){},1129:function(e,t){},1160:function(e,t){},1162:function(e,t){},117:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));n(184);var i=n(392),a=n(22),r=n(63),s=n(0);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}Object(a.throttle)((function(e){i.b.warning("\u5f88\u9057\u61be\uff0c\u6682\u65f6\u4e0d\u652f\u6301 Chain ID \u4e3a ".concat(e," \u7684\u94fe\uff01"))}),5e3);var l=function(){var e=Object(r.g)().search,t=Object(r.f)(),n=Object(s.useCallback)((function(e){var n,i="/lockers?";for(var a in e)e[a]&&(i+="".concat(a,"=").concat(e[a],"&"));t.push(null===(n=i)||void 0===n?void 0:n.slice(0,-1))}),[]),i=Object(s.useCallback)((function(e){var t=e.split("&"),n={};return t.map((function(e){var t=e.split("=");return t.length>1&&(n[t[0]]=t[1]),e})),n}),[]);return{searchString:Object(s.useMemo)((function(){var t=e.slice(1);return i(t)}),[e]),setSearchString:n,getSearchObj:i}}}).call(this,n(16).Buffer)},1182:function(module,__webpack_exports__,__webpack_require__){"use strict";var char="0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ/+)(*&^%$#@!{}><?;:\"~=.,[]'\xb7\xa5|",cha1="0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ/+)(*&^%$#@!{}><?;:\"~=.,[]'\xb7\xa5|",stringRadixDeal=function(e,t,n){var i="";try{if(10===t)i=string10ToOtherRadix(e,n);else if(10===n)i=String(stringOtherRadixTo10(e,t));else{i=string10ToOtherRadix(String(stringOtherRadixTo10(e,t)),n)}}catch(a){console.error(a)}return i},stringOtherRadixTo10=function stringOtherRadixTo10(strNumber,beforeRadix){for(var res=BigInt(0),len=strNumber.length,radixBig=BigInt(beforeRadix),chars=char.slice(0,beforeRadix),i=0;i<len;i++){var count=len-1-i,pow=eval("(function(a,b){return a**b})");Math.pow=pow;var miNum=Math.pow(radixBig,BigInt(i));res+=BigInt(chars.indexOf(strNumber[count]))*miNum}return res};function string10ToOtherRadix(e,t){if(2===e.length)return"";var n=char.slice(0,t).split(""),i=BigInt(n.length),a=BigInt(e),r=[];do{var s=a%i;a=(a-s)/i,r.unshift(n[Number(s)])}while(a);return r.join("")}},1197:function(e,t){},1204:function(e,t,n){"use strict";n.r(t);var i,a,r,s,o,l,d,c=n(50),u=n.n(c),p=(n(640),n(641),n(63)),m=n(35),b=n(286),y=n.n(b),v=n(22),f=n(0),h=n.n(f),j=n(9),g=f.createContext({}),x=function(){return f.useContext(g)},O=function(e){var t=e.children,n=f.useState(!1),i=Object(m.a)(n,2),a=i[0],r=i[1],s=Object(v.debounce)((function(){r(!1)}),1e3);return Object(j.jsx)(g.Provider,{value:{loading:a,openLoading:function(){r(!0)},closeLoading:function(){r(!1)},closeDelayLoading:s},children:t})},w=function(){var e=x(),t=e.loading,n=e.closeLoading,i=f.useState(!1),a=Object(m.a)(i,2),r=a[0],s=a[1];return f.useEffect((function(){var e;return t&&setTimeout((function(){s(!0),clearTimeout(e)}),2e3),function(){s(!1),clearTimeout(e)}}),[t]),t&&Object(j.jsx)("div",{id:"loading",children:Object(j.jsxs)("div",{id:"loading-center",children:[Object(j.jsxs)("div",{id:"loading-center-absolute",children:[Object(j.jsx)("div",{className:"object",id:"object_four"}),Object(j.jsx)("div",{className:"object",id:"object_three"}),Object(j.jsx)("div",{className:"object",id:"object_two"}),Object(j.jsx)("div",{className:"object",id:"object_one"})]}),r&&Object(j.jsx)("div",{id:"close-loading",onClick:n,children:Object(j.jsx)(y.a,{})}),r&&Object(j.jsx)("div",{id:"close-text",children:"\u4e0a\u94fe\u4ee5\u53ca\u83b7\u53d6\u901f\u5ea6\u8f83\u6162\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u54e6\u3002"})]})})},T=n(20),I=n(66),k=n(47),M=n(1248),C=n(160),N=n(1241),S=Object(N.a)(i||(i=Object(C.a)(["\nquery($address:Bytes){\n        avaters(where: {id: $address} ) {\n        id\n        avater{\n          id\n          owner\n          rawData\n          remake\n          composed\n          composes\n          config{\n              id\n              name\n              time\n              position\n              zIndex\n              decode\n              sort\n          }\n        }\n      }\n    }\n  "]))),D=Object(N.a)(a||(a=Object(C.a)(["\n  query($first: Int, $ids: [BigInt]) {\n    materials(\n      first: $first,\n      where: {\n        id_in: $ids\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}"]))),L=Object(N.a)(r||(r=Object(C.a)(['\nquery GetMaterialsLen {\n  materials(\n      first: 1,\n      orderBy: "createID", \n      orderDirection: "desc",\n      where: {\n        createID_not: "0"\n      }) {\n        id\n    }\n}']))),E=Object(N.a)(s||(s=Object(C.a)(['\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: Bytes) {\n    materials(\n      first: $first,\n      orderBy: "createID", \n      orderDirection: $orderDirection,\n      where: {\n        composed: 0,\n        owner_not: "0x0000000000000000000000000000000000000000",\n        createID_lt: $createID,\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}']))),A=Object(N.a)(o||(o=Object(C.a)(['\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $id: [BigInt]) {\n    materials(\n      orderBy: "createID", \n      orderDirection: $orderDirection,\n      where: {\n        createID_lt: $createID,\n        id_in: $id\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}']))),z=Object(N.a)(l||(l=Object(C.a)(['\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: Bytes) {\n    materials(\n      first: $first,\n      orderBy: "createID", \n      orderDirection: $orderDirection,\n      where: {\n        createID_lt: $createID,\n        owner: $owner\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}']))),P=Object(N.a)(d||(d=Object(C.a)(['\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: [Bytes], $id: BigInt) {\n    materials(\n      first: $first,\n      orderBy: "createID", \n      orderDirection: $orderDirection, \n      where: {\n        createID_gt: $createID,\n        id_in: $id,\n        owner: $owner\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}']))),B=n(117),R=Object(f.createContext)({}),G=function(){return Object(f.useContext)(R)},_=function(e){var t;return{composes:(null===e||void 0===e?void 0:e.composes)||[],material:{id:null===e||void 0===e?void 0:e.id,compose:null===e||void 0===e?void 0:e.composed,time:"time",position:"position",zIndex:"zIndex",owner:null===e||void 0===e?void 0:e.owner,data:null===e||void 0===e?void 0:e.dataBytes},baseInfo:{data:null===e||void 0===e?void 0:e.rawData,category:"category",decode:"decode",name:null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.name,userId:"userId"},composeData:[]}},F=function(e){return Object(f.useMemo)((function(){if(Object(v.isEmpty)(e))return{};var t=Object(v.keyBy)(e,(function(e){var t;return null===e||void 0===e||null===(t=e.material)||void 0===t?void 0:t.id}));return Object(v.map)(e,(function(e){var n,i,a=function(e){var n=[];return function e(i){var a;0!==(null===i||void 0===i||null===(a=i.composes)||void 0===a?void 0:a.length)&&Object(v.map)(null===i||void 0===i?void 0:i.composes,(function(i){t[i]&&n.push(t[i]),e(t[i])}))}(e),n}(e);Object(v.isEmpty)(a)&&(t[null===e||void 0===e||null===(n=e.material)||void 0===n?void 0:n.id].composeData=[e]),t[null===e||void 0===e||null===(i=e.material)||void 0===i?void 0:i.id].composeData=a})),t}),[e])},$=function(e){var t,n,i=(n=e,Object(f.useMemo)((function(){if(!(null===n||void 0===n?void 0:n.length))return{list:[],composes:[]};var e=[];return{list:Object(v.map)(n,(function(t){return e.push.apply(e,Object(I.a)((null===t||void 0===t?void 0:t.composes)||[])),_(t)})),composes:e}}),[n])),a=i.list,r=function(e){return Object(M.a)(D,{variables:{ids:e},skip:0===(null===e||void 0===e?void 0:e.length)})}(i.composes),s=Object(f.useMemo)((function(){var e;return a?[].concat(Object(I.a)(a),Object(I.a)(Object(v.map)(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.materials,(function(e){return _(e)})))):[]}),[null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.materials,a]),o=F(s);return[a,o]},V=function(e){var t,n,i,a,r=e.children,s=Object(f.useState)(),o=Object(m.a)(s,2),l=o[0],d=o[1],c=h.a.useState([]),u=Object(m.a)(c,2),p=u[0],b=u[1],y=x(),v=y.openLoading,g=y.closeDelayLoading,O=Object(k.f)(),w=O.address,I=(O.chainId,Object(B.b)().searchString),C=Object(k.d)().contracts,N=function(){var e=f.useState(!1),t=Object(m.a)(e,2),n=t[0];return{SmallLoading:function(e){var t=e.size,i=e.color,a=void 0===i?"#165DFF":i;return n&&Object(j.jsx)("div",{className:"small-loading",style:{width:t,height:t,background:"conic-gradient(from 114.04deg at 50% 50%, ".concat(a," -3.75deg, rgba(22, 93, 255, 0) 331.83deg, ").concat(a," 339.88deg, ").concat(a," 356.25deg, rgba(22, 93, 255, 0) 691.83deg)")}})},setSmallLoading:t[1],smallLoading:n}}(),D=N.setSmallLoading,G=N.SmallLoading,_=(null===I||void 0===I?void 0:I.address)||w,F=Object(M.a)(S,{variables:{address:null===_||void 0===_?void 0:_.toLowerCase()},skip:!_}),V=Object(f.useMemo)((function(){var e,t,n;return(null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.avaters)?null===F||void 0===F||null===(t=F.data)||void 0===t||null===(n=t.avaters[0])||void 0===n?void 0:n.avater:{}}),[null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.avaters]),q=function(){var e,t=Object(M.a)(L),n=Object(f.useMemo)((function(){var e,n,i;return(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.materials)?null===t||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.materials[0])||void 0===i?void 0:i.id:{}}),[null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.materials]),i=Object(B.b)().searchString;return Object(f.useMemo)((function(){var e=(null===i||void 0===i?void 0:i.createID)?Number(null===i||void 0===i?void 0:i.createID)+1:n?Number(n)+1:n;return e?String(e):""}),[i,n])}(),U=function(e){var t=Object(f.useState)("all"),n=Object(m.a)(t,2),i=n[0],a=n[1];Object(f.useEffect)((function(){(null===e||void 0===e?void 0:e.owner)&&!(null===e||void 0===e?void 0:e.id)?a("address"):(null===e||void 0===e?void 0:e.id)&&!(null===e||void 0===e?void 0:e.owner)?a("id"):(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e?void 0:e.owner)?a("address-id"):a("all")}),[null===e||void 0===e?void 0:e.owner,null===e||void 0===e?void 0:e.id]);var r=Object(M.a)(E,{variables:{first:10,orderDirection:"desc",createID:null===e||void 0===e?void 0:e.createID},skip:"all"!==i||!(null===e||void 0===e?void 0:e.createID),pollInterval:(null===e||void 0===e?void 0:e.pollInterval)||0}),s=Object(M.a)(z,{variables:{first:10,orderDirection:"desc",createID:null===e||void 0===e?void 0:e.createID,owner:null===e||void 0===e?void 0:e.owner},skip:"address"!==i||!(null===e||void 0===e?void 0:e.createID),pollInterval:(null===e||void 0===e?void 0:e.pollInterval)||0}),o=Object(M.a)(A,{variables:{first:10,orderDirection:"desc",createID:null===e||void 0===e?void 0:e.createID,id:null===e||void 0===e?void 0:e.id},skip:"id"!==i||!(null===e||void 0===e?void 0:e.createID),pollInterval:(null===e||void 0===e?void 0:e.pollInterval)||0}),l=Object(M.a)(P,{variables:{first:10,orderDirection:"desc",createID:null===e||void 0===e?void 0:e.createID,owner:null===e||void 0===e?void 0:e.owner,id:null===e||void 0===e?void 0:e.id},skip:"address-id"!==i||!(null===e||void 0===e?void 0:e.createID),pollInterval:(null===e||void 0===e?void 0:e.pollInterval)||0});return Object(f.useMemo)((function(){return(null===e||void 0===e?void 0:e.owner)&&!(null===e||void 0===e?void 0:e.id)?s:(null===e||void 0===e?void 0:e.id)&&!(null===e||void 0===e?void 0:e.owner)?o:(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e?void 0:e.owner)?l:r}),[e,r,s,o,l])}({createID:q,owner:(null===I||void 0===I?void 0:I.owner)||"",id:(null===I||void 0===I?void 0:I.id)?null===I||void 0===I||null===(n=I.id)||void 0===n?void 0:n.split(","):void 0});Object(f.useEffect)((function(){(null===U||void 0===U?void 0:U.loading)?v():g()}),[null===U||void 0===U?void 0:U.loading]);var H=$(null===U||void 0===U||null===(i=U.data)||void 0===i?void 0:i.materials),J=Object(m.a)(H,2),W=J[0],K=J[1];return Object(f.useEffect)((function(){null===U||void 0===U||U.stopPolling(),D(!1)}),[W]),Object(f.useEffect)((function(){var e=C.PixelsMetaverse;null===e||void 0===e||e.on("AvaterEvent",(function(e){(null===e||void 0===e?void 0:e.toLowerCase())===(null===w||void 0===w?void 0:w.toLowerCase())&&(F.startPolling(1e3),D(!0))}))}),[C,w]),Object(f.useEffect)((function(){var e=C.PixelsMetaverse,t=null;return null===e||void 0===e||e.on("MaterialEvent",(function(e,n){var i;U.refetch(Object(T.a)(Object(T.a)({},U.variables),{},{createID:null===n||void 0===n||null===(i=n.add(1))||void 0===i?void 0:i.toString()})),t&&(clearTimeout(t),U.stopPolling()),t=setTimeout((function(){U.startPolling(1e3),D(!0)}),1e3)})),function(){clearTimeout(t)}}),[C]),Object(f.useEffect)((function(){var e=C.PixelsMetaverse,t=null;return null===e||void 0===e||e.on("ComposeEvent",(function(e,n,i,a){var r;(null===(r=U.variables)||void 0===r?void 0:r.createID)&&!a&&(U.refetch(),t&&(clearTimeout(t),U.stopPolling()),t=setTimeout((function(){U.startPolling(1e3)}),1e3))})),function(){clearTimeout(t)}}),[C,U.variables]),Object(f.useEffect)((function(){null===F||void 0===F||F.stopPolling(),D(!1)}),[null===F||void 0===F||null===(a=F.data)||void 0===a?void 0:a.avaters]),Object(j.jsx)(R.Provider,{value:{getMaterials:U,userInfo:V,materialList:W,materialId:l,setMaterialId:d,composeList:p,setComposeList:b,materialListObj:K,setSmallLoading:D,SmallLoading:G},children:r})},q=n(148),U=n(121),H=function(){return Object(f.useCallback)((function(e,t){if(t.withGrid){e.strokeStyle=(null===t||void 0===t?void 0:t.gridColor)||"white";for(var n=0;n<t.imgSize.width;n+=t.sizeGrid)0!==n&&(e.beginPath(),e.moveTo(n,0),e.lineTo(n,t.imgSize.height),e.stroke());for(var i=0;i<t.imgSize.height;i+=t.sizeGrid)0!==i&&(e.beginPath(),e.moveTo(0,i),e.lineTo(t.imgSize.width,i),e.stroke())}}),[])},J=function(){return Object(f.useCallback)((function(e,t){e&&(e.width=t.width,e.height=t.height,e.style.width=t.width+"px",e.style.height=t.height+"px")}),[])},W=function(){return Object(f.useCallback)((function(e,t){e&&(t.beginPath(),t.clearRect(0,0,e.width,e.height),t.stroke())}),[])},K=function(){return Object(f.useCallback)((function(e,t,n,i){if(t)for(var a in n)if(n[a]){t.beginPath();var r=Number(a||0),s=e.width/i,o=((r%s||s)-1)*i,l=(Math.ceil(r/s)-1)*i;t.fillStyle=n[a],t.fillRect(o,l,i,i),t.stroke()}}),[])},X=function(){return Object(f.useCallback)((function(e){var t;if(Object(v.isEmpty)(null===e||void 0===e?void 0:e.positions))return{};for(var n=null===e||void 0===e||null===(t=e.positions)||void 0===t?void 0:t.split("-"),i={},a="",r=n.length,s=Number(n[r-1]),o=0;o<r;o++)if(o!==r-1){if(o%2===0&&(a="".concat(parseInt(n[o],36).toString(16))).length){for(var l="",d=0;d<6-a.length;d++)l+="0";a="#"+l+a}if(o%2===1)for(var c=n[o].split("|"),u=0;u<c.length;u++)i[Number(parseInt(c[u],36))+s]=a}return i}),[])},Y=function(e){var t=X();return Object(f.useMemo)((function(){var n={};Object(v.map)(e,(function(e){var i=t({positions:null===e||void 0===e?void 0:e.data});n=Object(T.a)(Object(T.a)({},n),i)}));var i={};for(var a in n)i[n[a]]?i[n[a]].push(Number(a)):i[n[a]]=[Number(a)];var r="";for(var s in i){var o=Object(v.map)(i[s],(function(e){return(e-1).toString(36)})).join("|");r+="".concat(parseInt(s.slice(1),16).toString(36),"-").concat(o,"-")}return"".concat(r).concat(1)}),[e])},Q=n(25),Z=n(3),ee=n.n(Z),te=n(159),ne=n.n(te),ie=n(602),ae=Object(f.createContext)({}),re=function(e){var t=e.children,n=e.library,i=Object(f.useState)(),a=Object(m.a)(i,2),r=a[0],s=a[1],o=Object(f.useState)(),l=Object(m.a)(o,2),d=l[0],c=l[1],u=Object(f.useState)(),p=Object(m.a)(u,2),b=p[0],y=p[1],v=function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie[n||31337];case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(Q.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t?void 0:t.on){e.next=2;break}return e.abrupt("return");case 2:t.on("close",(function(){})),t.on("chainChanged",function(){var e=Object(Q.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(parseInt(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){n&&(n instanceof ne.a&&(null===n||void 0===n?void 0:n.currentProvider)&&h(null===n||void 0===n?void 0:n.currentProvider),n instanceof ne.a?null===n||void 0===n||n.eth.getChainId().then((function(e){s(parseInt("".concat(e||3)))})):null===n||void 0===n||n.getNetwork().then((function(e){var t=null===e||void 0===e?void 0:e.chainId;s(parseInt("".concat(t)))})))}),[n]),Object(f.useEffect)((function(){r&&n&&v(n,r)}),[r,n]),Object(j.jsx)(ae.Provider,{value:{networkId:r,contract:d,setNetworkId:s,setContract:c,etherContract:b,setEtherContract:y},children:t})},se=function(e,t){return{x:Math.ceil(e.x/t),y:Math.ceil(e.y/t)}},oe=function(e,t,n){return e.x+(e.y-1)*(t/n)},le=(n(1182),Object(f.createContext)({})),de=function(){return Object(f.useContext)(le)},ce=function(e){var t=e.children,n=e.data,i=e.size,a=e.showGrid,r=e.handDraw,s=Object(f.useState)({imgSize:{width:i,height:i},sizeGrid:"small"===n.size?i/48:i/24,withGrid:!!a,bgImg:"",bgImgUp:"",bgColor:n.bgColor||"transparent",gridColor:n.gridColor||"#e1e1e1",isHandDraw:!!r}),o=Object(m.a)(s,2),l=o[0],d=o[1],c=Object(f.useState)([]),u=Object(m.a)(c,2),p=u[0],b=u[1],y=Object(f.useState)({}),h=Object(m.a)(y,2),g=h[0],x=h[1],O=Object(f.useState)([]),w=Object(m.a)(O,2),I=w[0],k=w[1],M=Object(f.useRef)(null),C=Object(f.useRef)(null),N=function(){var e=Object(f.useState)({}),t=Object(m.a)(e,2),n=t[0],i=t[1],a=Object(f.useCallback)((function(e,t){i((function(n){return Object(T.a)(Object(T.a)({},n),{},Object(U.a)({},e,t))}))}),[]),r=Object(f.useCallback)((function(e){i((function(t){var n=Object(v.cloneDeep)(t);return delete n[e],n}))}),[]);return{value:n,add:a,remove:r,clear:Object(f.useCallback)((function(){i({})}),[]),setValue:i}}(),S=Object(f.useCallback)((function(e,t){return t?{x:e.pageX-((null===t||void 0===t?void 0:t.offsetLeft)||0),y:e.pageY-((null===t||void 0===t?void 0:t.offsetTop)||0)}:{x:0,y:0}}),[]),D=X();return Object(f.useEffect)((function(){if(n.positions){"empty"===n.positions&&x({});var e={};Object(v.map)(p,(function(t){var n=D({positions:t});e=Object(T.a)(Object(T.a)({},e),n)}));var t=D(n);x(Object(T.a)(Object(T.a)({},t),e))}}),[n.positions,p]),Object(f.useEffect)((function(){null===N||void 0===N||N.setValue(Object(T.a)({},g))}),[g,null===N||void 0===N?void 0:N.setValue]),Object(j.jsx)(le.Provider,{value:{config:l,setConfig:d,positions:g,setPositions:x,canvasRef:M,dealClick:N,canvas2Ref:C,getGradPosition:S,positionsArr:I,setPositionsArr:k,selectList:p,setSelectList:b},children:t})},ue=["data","size","showGrid"],pe=["canvasRef","showBgImg","showGridColor"],me=["data","config","canvasRef","showBgImg","showGridColor"],be=function(e){var t=e.data,n=e.size,i=e.showGrid,a=Object(q.a)(e,ue),r=Object(f.useRef)(null),s=X(),o=Object(f.useMemo)((function(){return{imgSize:{width:n,height:n},sizeGrid:"large"===t.size?n/48:n/24,withGrid:!!i,bgImg:"",bgColor:"red",gridColor:"red"}}),[t]),l=Y((null===t||void 0===t?void 0:t.materialData)||[]),d=Object(f.useMemo)((function(){return l&&(null===l||void 0===l?void 0:l.includes("-"))?s(Object(T.a)(Object(T.a)({},t),{},{positions:l})):{}}),[l]);return Object(j.jsx)(ve,Object(T.a)({config:o,data:d,canvasRef:r,showGridColor:!0,style:{backgroundColor:null===o||void 0===o?void 0:o.bgColor}},a))},ye=function(e){var t,n=e.canvasRef,i=e.showBgImg,a=e.showGridColor,r=Object(q.a)(e,pe),s=de(),o=s.config,l=s.getGradPosition,d=s.setPositionsArr,c=s.positionsArr,u=s.dealClick,p=u.add,m=u.value,b=u.remove,y=function(e,n){clearTimeout(t),(null===n||void 0===n?void 0:n.current)&&(t=setTimeout((function(){var t,i=se(l(e,n.current),o.sizeGrid),a=null===(t=n.current)||void 0===t?void 0:t.getContext("2d"),r=l(e,n.current),s=r.x,u=r.y,m=a.getImageData(s,u,1,1).data,b="rgb("+m[0]+","+m[1]+","+m[2]+")",y=oe(i,o.imgSize.width,o.sizeGrid),v=function(e){if(/^(rgb|RGB)/.test(e)){for(var t="#",n=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i=0;i<n.length;i++){var a=Number(n[i]).toString(16);a.length<2&&(a="0".concat(a)),t+=a}return t}return String(e)}(o.drawColor||b);p(y,v),c.includes(y)||d((function(e){return[].concat(Object(I.a)(e),[y])}))}),200))};return Object(j.jsx)(ve,Object(T.a)({config:o,data:m,canvasRef:n,showBgImg:i,showGridColor:a,style:{backgroundColor:null===o||void 0===o?void 0:o.bgColor},onClick:function(e){o.isHandDraw&&y(e,n)},onDoubleClick:function(e){o.isHandDraw&&function(e,n){if(clearTimeout(t),null===n||void 0===n?void 0:n.current){var i=se(l(e,n.current),o.sizeGrid),a=oe(i,o.imgSize.width,o.sizeGrid);b(a),d((function(e){var t=Object(v.cloneDeep)(e),n=t.indexOf(a);return t.splice(n,1),t}))}}(e,n)}},r))},ve=function(e){var t=e.data,n=e.config,i=e.canvasRef,a=(e.showBgImg,e.showGridColor),r=Object(q.a)(e,me),s=J(),o=H(),l=K(),d=W();return Object(f.useEffect)((function(){var e=null===i||void 0===i?void 0:i.current;if(!(!e||n.imgSize.width<=0||(null===n||void 0===n?void 0:n.withGrid)&&n.sizeGrid<=0)){var r=e.getContext("2d");s(e,n.imgSize),d(e,r),n.imgSize.width>1&&n.imgSize.height>1&&n.sizeGrid>=1&&a&&l(n.imgSize,r,t,n.sizeGrid),n.sizeGrid>=1&&o(r,n)}}),[i,t,n]),Object(j.jsx)("canvas",Object(T.a)(Object(T.a)({ref:i,width:0,height:0},r),{},{children:"Sorry, your browser dose not support canvas."}))},fe=n(603),he=n(6),je=n(7),ge=function(){function e(t,n,i){Object(he.a)(this,e),this.rgbImage=Uint8ClampedArray.from(t),this.imageArray=Array.from(t),this.width=n,this.height=i}return Object(je.a)(e,[{key:"rgb2lab",value:function(e,t,n){var i,a,r,s,o,l=e/255,d=t/255,c=n/255,u=.008856,p=903.3,m=(.4124564*(i=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4))+.3575761*(a=d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4))+.1804375*(r=c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)))/.950456,b=(.2126729*i+.7151522*a+.072175*r)/1,y=(.0193339*i+.119192*a+.9503041*r)/1.088754;return s=m>u?Math.pow(m,1/3):(p*m+16)/116,{l:116*(o=b>u?Math.pow(b,1/3):(p*b+16)/116)-16,a:500*(s-o),b:200*(o-(y>u?Math.pow(y,1/3):(p*y+16)/116))}}},{key:"lab2rgb",value:function(e,t,n){}},{key:"showCenters",value:function(e){e.fillStyle="#"+("00000"+(16777215*Math.random()+.5>>0).toString(16)).slice(-6);for(var t=0;t<this.centers.length;t++)e.fillRect(this.centers[t].y,this.centers[t].x,5,5)}},{key:"showContours",value:function(e){for(var t=this,n=[-1,-1,0,1,1,1,0,-1],i=[0,-1,-1,-1,0,1,1,1],a=[],r=Array.from({length:this.height}).map((function(e){return Array.from({length:t.width}).map((function(e){return!1}))})),s=0;s<this.height;s++)for(var o=0;o<this.width;o++){for(var l=0,d=0;d<8;d++){var c=s+n[d],u=o+i[d];c>=0&&c<this.height&&u>=0&&u<this.width&&!1===r[c][u]&&this.clusterID[s*this.width+o]!==this.clusterID[c*this.width+u]&&(l+=1)}l>=2&&(a.push({x:s,y:o}),r[s][o]=!0)}for(var p=0;p<a.length;p++)e.fillStyle="#ffffff",e.fillRect(a[p].y,a[p].x,2,2)}},{key:"findLocalMinimum",value:function(e,t){for(var n=Number.MAX_VALUE,i={},a=e-1;a<=e+1&&a>=0&&a<this.height-1;a++)for(var r=t-1;r<=t+1&&r>=0&&r<this.width-1;r++){var s=this.imageArray[4*(a*this.width+r+1)],o=this.imageArray[4*((a+1)*this.width+r+1)],l=this.imageArray[4*(a*this.width+r)];Math.sqrt(Math.pow(s-l,2))+Math.sqrt(Math.pow(o-l,2))<n&&(n=Math.abs(s-l)+Math.abs(o-l),i.x=a,i.y=r)}return i}},{key:"computeDist",value:function(e,t,n){var i=this.centers[e],a=Math.sqrt(Math.pow(i.l-this.imageArray[4*(t*this.width+n)],2)+Math.pow(i.a-this.imageArray[4*(t*this.width+n)+1],2)+Math.pow(i.b-this.imageArray[4*(t*this.width+n)+2],2)),r=Math.sqrt(Math.pow(i.x-t,2)+Math.pow(i.y-n,2));return Math.pow(a/this.weight,2)+Math.pow(r/this.step,2)}},{key:"computePixel",value:function(){this.clusterID=Array.from({length:this.width*this.height}).map((function(e){return-1})),this.centers=new Array;for(var e=this.step;e<this.height;e+=this.step)for(var t=this.step;t<this.width;t+=this.step){var n=this.findLocalMinimum(e,t);n.l=this.imageArray[4*(n.x*this.width+n.y)],n.a=this.imageArray[4*(n.x*this.width+n.y)+1],n.b=this.imageArray[4*(n.x*this.width+n.y)+2],this.centers.push(n)}for(var i=0;i<this.iters;i++){for(var a=Array.from({length:this.width*this.height}).map((function(e){return Number.MAX_VALUE})),r=0;r<this.centers.length;r++)for(var s=this.centers[r].x-this.step;s<this.centers[r].x+this.step;s++)for(var o=this.centers[r].y-this.step;o<this.centers[r].y+this.step;o++)if(s>=0&&s<this.height&&o>=0&&o<this.width){var l=this.computeDist(r,s,o);l<a[s*this.width+o]&&(a[s*this.width+o]=l,this.clusterID[s*this.width+o]=r)}var d,c=JSON.parse(JSON.stringify(this.centers)),u=Object(fe.a)(this.centers);try{for(u.s();!(d=u.n()).done;){var p=d.value;p.c=p.l=p.a=p.b=p.x=p.y=0}}catch(f){u.e(f)}finally{u.f()}for(var m=0;m<this.height;m++)for(var b=0;b<this.width;b++){var y=this.clusterID[m*this.width+b];-1!==y&&(this.centers[y].l+=this.imageArray[4*(m*this.width+b)],this.centers[y].a+=this.imageArray[4*(m*this.width+b)+1],this.centers[y].b+=this.imageArray[4*(m*this.width+b)+2],this.centers[y].x+=m,this.centers[y].y+=b,this.centers[y].c+=1)}for(var v in this.centers){if(0===this.centers[v].c||void 0===this.centers[v].x||void 0===this.centers[v].y)this.centers[v]=JSON.parse(JSON.stringify(c[v])),document.getElementById("canvas").getContext("2d").fillRect(this.centers[v].y,this.centers[v].x,10,10);else this.centers[v].l/=this.centers[v].c,this.centers[v].a/=this.centers[v].c,this.centers[v].b/=this.centers[v].c,this.centers[v].x=Math.floor(this.centers[v].x/this.centers[v].c),this.centers[v].y=Math.floor(this.centers[v].y/this.centers[v].c)}}}},{key:"pickPixel",value:function(){for(var e=Math.ceil(this.height/this.stride),t=Math.ceil(this.width/this.stride),n=new Uint8ClampedArray(this.width*this.height*4),i=0;i<e;i++)for(var a=0;a<t;a++){for(var r=i*this.stride,s=a*this.stride,o={},l=r;l<r+this.stride&&l<this.height;l++)for(var d=s;d<s+this.stride&&d<this.width;d++){var c=this.clusterID[l*this.width+d];-1!==c&&(o[c]?o[c]++:o[c]=1)}var u=-1,p=Number.MIN_VALUE;for(var m in o)o[m]>p&&(p=o[m],u=m);for(var b=r;b<r+this.stride&&b<this.height;b++)for(var y=s;y<s+this.stride&&y<this.width;y++)n[4*(b*this.width+y)]=this.rgbImage[4*(this.centers[u].x*this.width+this.centers[u].y)],n[4*(b*this.width+y)+1]=this.rgbImage[4*(this.centers[u].x*this.width+this.centers[u].y)+1],n[4*(b*this.width+y)+2]=this.rgbImage[4*(this.centers[u].x*this.width+this.centers[u].y)+2],n[4*(b*this.width+y)+3]=this.rgbImage[4*(this.centers[u].x*this.width+this.centers[u].y)+3]}return n}},{key:"pixelDeal",value:function(e,t,n,i){this.step=e,this.iters=t,this.stride=n,this.weight=i;for(var a=0;a<this.width*this.height;a+=4){var r=this.rgb2lab(this.imageArray[a],this.imageArray[a+1],this.imageArray[a+2]);this.imageArray[a]=r.l,this.imageArray[a+2]=r.a,this.imageArray[a+3]=r.b}return this.computePixel(),this.pickPixel()}},{key:"changeBlockSize",value:function(e){return this.step=e,this.computePixel(),this.pickPixel()}},{key:"changeWeight",value:function(e){return this.weight=e,this.computePixel(),this.pickPixel()}},{key:"changeStride",value:function(e){return this.stride=e,this.pickPixel()}},{key:"changeIters",value:function(e){return this.iters=e,this.computePixel(),this.pickPixel()}}]),e}(),xe=function(e){var t,n,i=e.canvas,a=e.context,r=e.img,s=e.sizeGrid,o={blockSize:s,weight:30,iters:s,stride:s,withGrid:!1,withCenters:!1,withContours:!1};r&&function(e){a.drawImage(e,0,0,i.width,i.height);var r=a.getImageData(0,0,i.width,i.height).data,s=i.width;o.blockSize=Math.round(Math.sqrt(i.width*i.height/s)),n=new ge(r,i.width,i.height),t=n.pixelDeal(o.blockSize,o.iters,o.stride,o.weight),function(){for(var e=a.createImageData(i.width,i.height),n=0;n<t.length;n++)e.data[n]=t[n];if(a.putImageData(e,0,0),o.withGrid){a.strokeStyle="white",a.lineWidth=1;for(var r=0;r<i.width;r+=o.stride)a.beginPath(),a.moveTo(r,0),a.lineTo(r,i.height),a.stroke();for(var s=0;s<i.height;s+=o.stride)a.beginPath(),a.moveTo(0,s),a.lineTo(i.width,s),a.stroke()}}()}(r)},Oe=function(e){var t,n,i=e.img,a=e.sizeGrid,r=de(),s=r.setConfig,o=r.config,l=r.canvasRef,d=r.dealClick.value,c=Object(f.useRef)(null),u=Object(f.useCallback)((function(e,t,n){n&&t.drawImage(n,0,0,e.width,e.height)}),[]),p=W(),m=H(),b=480,y=480;return Object(f.useEffect)((function(){var e,t=c.current;t&&(t.width=b,t.height=y,t.style.width=b+"px",t.style.height=y+"px",e=t.getContext("2d")),t&&e&&xe({canvas:t,context:e,img:i,sizeGrid:a})}),[i,c,a]),Object(f.useEffect)((function(){var e=l.current,t=c.current;if(e&&t){var n=e.getContext("2d");p(e,n),u(e,n,o.bgImgUp),m(n,o)}}),[c,l,o,d,o.bgImgUp]),Object(f.useEffect)((function(){var e=l.current,t=c.current;if(e&&t){var n=t.toDataURL("image/jpeg");if(!n)return;var i=new Image;i.src=n,i.onload=function(){s((function(e){return Object(T.a)(Object(T.a)({},e),{},{bgImgUp:i})}))}}}),[o.bgImg]),Object(j.jsx)("div",{className:"absolute",style:{left:(null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.offsetLeft)||30,top:null===l||void 0===l||null===(n=l.current)||void 0===n?void 0:n.offsetTop},children:Object(j.jsx)("canvas",{ref:c,children:"Sorry, your browser dose not support canvas."})})},we=n(1249),Te=(n(1236),n(256)),Ie=[{label:"\u751f\u4ea7",path:"/produced"},{label:"\u4ed3\u5e93",path:"/lockers"}],ke=Object(f.memo)((function(){var e=Object(k.f)(),t=e.connected,n=e.address,i=e.killSession,a=e.toConnect,r=e.chainData,s=(Object(we.a)().t,Object(p.f)()),o=Object(p.g)().pathname,l=function(){var e=Object(p.g)().search.substring(1);return new URLSearchParams(e)}(),d=Object(f.useState)(),c=Object(m.a)(d,2),u=(c[0],c[1]),b=G().SmallLoading;return Object(f.useEffect)((function(){l&&(null===l||void 0===l?void 0:l.get("address"))&&u(null===l||void 0===l?void 0:l.get("address"))}),[null===l||void 0===l?void 0:l.get("address")]),Object(j.jsxs)("div",{className:"flex px-4 items-center justify-between text-l fixed w-full h-16 bg-white bg-opacity-10 text-white text-opacity-70 z-50",children:[Object(j.jsx)("div",{className:"text-2xl cursor-pointer mr-20",onClick:function(){return s.push("/")},children:"\u50cf\u7d20\u5143\u5b87\u5b99"}),Object(j.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[Object(j.jsx)("div",{className:"flex justify-around items-center w-40",children:Ie.map((function(e){return Object(j.jsx)("div",{style:{color:o===(null===e||void 0===e?void 0:e.path)?"#EF4444":"rgba(225,225,225,.9)"},className:"cursor-pointer hover:text-red-500",onClick:function(){return s.push(null===e||void 0===e?void 0:e.path)},children:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.label)}))}),Object(j.jsxs)("div",{className:"flex justify-end relative",children:[Object(j.jsx)("div",{className:"mr-4 flex items-center",children:Object(j.jsx)(b,{size:20,color:"#EF4444"})}),n&&!Object(v.isEmpty)(r)&&t?Object(j.jsxs)("div",{className:"px-2 rounded bg-white bg-opacity-10 relative w-52 h-11",children:[Object(j.jsx)("div",{className:"font-bold",children:Object(B.a)(n,12)}),Object(j.jsxs)("div",{className:"flex justify-between text-xs",children:[Object(j.jsx)("div",{className:"w-32 ellipsis",children:null===r||void 0===r?void 0:r.name}),Object(j.jsx)("span",{className:"cursor-pointer hover:text-white",onClick:i,children:"\u65ad\u5f00\u8fde\u63a5"})]})]}):Object(j.jsx)("div",{className:"flex items-center justify-center rounded cursor-pointer bg-white bg-opacity-10 w-24 hover:text-white h-10",onClick:function(){localStorage.clear(),a&&a()},children:"\u8fde\u63a5\u94b1\u5305"})]})]})]})})),Me=n.p+"static/media/bg.751f37e6.svg",Ce=n(388),Ne=n(1194).JsSignatureProvider,Se="https",De="api-kylin.eosasia.one",Le=443,Ee="5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",Ae=new Ne(["5JSAusb6xRiunAo5x9qCwk7MMATxLEEKHWDa5FmLpXVLoXBbCsU"]),ze=Se+"://"+De+":"+Le,Pe=new Ce.JsonRpc(ze),Be=new Ce.Api({rpc:Pe,signatureProvider:Ae,chainId:Ee}),Re=function(){var e=Object(Q.a)(ee.a.mark((function e(t){var n,i,a,r,s,o,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.actor,i=void 0===n?"yijiaxunkeji":n,a=t.permission,r=void 0===a?"active":a,s=t.action,o=t.data,e.prev=1,e.next=4,Be.transact({actions:[{account:i,name:s,authorization:[{actor:i,permission:r}],data:o}]},{blocksBehind:3,expireSeconds:30});case 4:return l=e.sent,e.abrupt("return",l);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(p.f)(),t=Object(f.useRef)(null),n={print:Object(f.useCallback)((function(e,t){if(e.current){var n=e.current,i=0,a=0;!function e(){i<=t.length?(n.innerHTML=t.slice(0,i++)+"_",a=setTimeout(e,200)):(n.innerHTML=t,clearTimeout(a))}()}}),[])},i=n.print;return Object(f.useEffect)((function(){var e;localStorage.getItem("transaction_id")||(e="\u9879\u76ee\u88ab\u514b\u9686\u548c\u542f\u52a8\u4e86",Re({action:"add",data:{content:e}}).then((function(e){return e}))).then((function(e){var t=null===e||void 0===e?void 0:e.transaction_id;localStorage.setItem("transaction_id",t)}))}),[]),Object(f.useEffect)((function(){i(t,"\u8fd9\u91cc\u662f\u50cf\u7d20\u5143\u5b87\u5b99\uff0c\u4e00\u4e2a\u5df2\u7ecf\u521b\u4e16\u4f46\u662f\u8fd8\u6ca1\u6709\u88ab\u7ed8\u5236\u7684\u4e16\u754c\uff01\u7b49\u5f85\u7740\u6211\u4eec\u53bb\u5efa\u9020\uff0c\u4f60\u51c6\u5907\u597d\u4e86\u5417\uff01\u6211\u7684\u5c11\u5e74\uff01\u8ba9\u6211\u4eec\u4e00\u8d77\u5728\u50cf\u7d20\u7684\u4e16\u754c\u91cc\u9068\u6e38\u5427\uff01\u50cf\u7d20\u5143\u5b87\u5b99\uff0c\u6211\u4eec\u6765\u5566\uff01")}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("main",{className:"mx-auto max-w-7xl px-4",children:Object(j.jsxs)("div",{className:"sm:text-center lg:text-left lg:pt-40",children:[Object(j.jsxs)("h1",{className:"tracking-tight font-extrabold text-gray-200 sm:text-4xl text-xl",children:[Object(j.jsx)("p",{className:"block md:mb-8",children:"\u6b22\u8fce\u6765\u5230\uff0c\u6211\u7684\u50cf\u7d20\u5143\u5b87\u5b99\uff01"}),Object(j.jsx)("p",{className:"font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-green-300 to-blue-500 animate-pulse",children:"Hello! Pixels Metaverse!"})]}),Object(j.jsx)("p",{className:"mt-3 text-base text-gray-400 h-48 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0 lg:mt-12",ref:t}),Object(j.jsx)("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start lg:mt-12 text-2xl",children:Object(j.jsx)("div",{className:"rounded-md shadow transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105",children:Object(j.jsx)("div",{className:"cursorP w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white hover:text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10",onClick:function(){return e.push("produced")},children:"Get started"})})})]})})})},_e=n(178),Fe=n(1242),$e=n(1244),Ve=(n(1251),n(1246)),qe=n(1239),Ue=n(392),He=n(1245),Je={name:"addition",contract:"PixelsMetaverse",fun:function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.ids,a=n.idList,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.addition(i,a);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,t.methods.addition(i,a).send({from:t.sendAccount});case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},We=(function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.addressParams1,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.avater(i);case 6:return a=e.sent,e.abrupt("return",Object(k.c)(a));case 10:return e.next=12,t.methods.avater(i).call();case 12:return r=e.sent,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))}(),{name:"compose",contract:"PixelsMetaverse",fun:function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s,o,l,d,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.idList,a=n.name,r=n.time,s=n.position,o=n.zIndex,l=n.decode,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.compose(i,a,r,s,o,l);case 6:return d=e.sent,e.abrupt("return",d);case 10:return e.next=12,t.methods.compose(i,a,r,s,o,l).send({from:t.sendAccount});case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Ke=(function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.bytes32Params1,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.dataOwner(i);case 6:return a=e.sent,e.abrupt("return",Object(k.c)(a));case 10:return e.next=12,t.methods.dataOwner(i).call();case 12:return r=e.sent,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.from,a=n.to,r=n.id,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.handleTransfer(i,a,r);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.next=12,t.methods.handleTransfer(i,a,r).send({from:t.sendAccount});case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))}(),{name:"make",contract:"PixelsMetaverse",fun:function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s,o,l,d,c,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.name,a=n.rawData,r=n.time,s=n.position,o=n.zIndex,l=n.decode,d=n.num,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.make(i,a,r,s,o,l,d);case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.next=12,t.methods.make(i,a,r,s,o,l,d).send({from:t.sendAccount});case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Xe=(function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.uint256Params1,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.material(i);case 6:return a=e.sent,e.abrupt("return",Object(k.c)(a));case 10:return e.next=12,t.methods.material(i).call();case 12:return r=e.sent,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.id,a=n.num,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.reMake(i,a);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,t.methods.reMake(i,a).send({from:t.sendAccount});case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))}(),{name:"setAvater",contract:"PixelsMetaverse",fun:function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.id,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.setAvater(i);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.next=12,t.methods.setAvater(i).send({from:t.sendAccount});case 12:return r=e.sent,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Ye=(function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s,o,l,d,c,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.id,a=n.name,r=n.time,s=n.position,o=n.zIndex,l=n.decode,d=n.sort,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.setConfig(i,a,r,s,o,l,d);case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.next=12,t.methods.setConfig(i,a,r,s,o,l,d).send({from:t.sendAccount});case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.dataBytes,a=n.to,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.setDataOwner(i,a);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,t.methods.setDataOwner(i,a).send({from:t.sendAccount});case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))}(),{name:"subtract",contract:"PixelsMetaverse",fun:function(){var e=Object(Q.a)(ee.a.mark((function e(t,n){var i,a,r,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.ids,a=n.idList,!(null===t||void 0===t?void 0:t.address)||(null===t||void 0===t?void 0:t.methods)){e.next=10;break}return e.next=6,t.subtract(i,a);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,t.methods.subtract(i,a).send({from:t.sendAccount});case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Qe=(Ve.a.Option,qe.a.TabPane),Ze=function(e){var t=e.children,n=e.noNeed;return Object(j.jsxs)("div",{className:"pd-4 mb-1",children:[t,!n&&Object(j.jsx)("span",{className:"text-red-500",children:"*"})]})},et=function(e){var t=e.setIsModalVisible,n=Object(f.useState)(),i=Object(m.a)(n,2),a=i[0],r=i[1],s=Object(f.useState)("new"),o=Object(m.a)(s,2),l=o[0],d=o[1],c=h.a.useState("-1"),u=Object(m.a)(c,2),p=u[0],b=u[1],y=G(),g=y.composeList,x=y.setComposeList,O=y.materialListObj,w=y.userInfo,M=y.setSmallLoading,C=h.a.useState({name:"",num:""}),N=Object(m.a)(C,2),S=N[0].name,D=N[1],L=Object(k.e)(We,{isGlobalTransactionHookValid:!0,onSuccess:function(){t(!1),M(!0)},onTransactionSuccess:function(){Ue.b.success("\u5408\u6210\u6210\u529f\uff01\u6b63\u5728\u83b7\u53d6\u94fe\u4e0a\u65b0\u6570\u636e..."),x&&x([])}},[]),E=Object(m.a)(L,1)[0],A=Object(k.e)(Je,{isGlobalTransactionHookValid:!0,onSuccess:function(){t(!1),M(!0)},onTransactionSuccess:function(){Ue.b.success("\u5408\u6210\u81f3 ".concat(p," \u6210\u529f\uff01\u6b63\u5728\u83b7\u53d6\u94fe\u4e0a\u65b0\u6570\u636e...")),x&&x([]),t(!1)}},[p,g]),z=Object(m.a)(A,1)[0];Object(f.useEffect)((function(){if(!Object(v.isEmpty)(g)&&!Object(v.isEmpty)(O)){var e={singles:[],composes:[],composesData:[]};Object(v.map)(g,(function(t){var n,i;Object(v.isEmpty)(null===(n=O[t])||void 0===n?void 0:n.composes)?(null===e||void 0===e||e.singles.push(t),null===e||void 0===e||e.composesData.push(O[t])):(null===e||void 0===e||e.composes.push(t),e.composesData=[].concat(Object(I.a)(null===e||void 0===e?void 0:e.composesData),Object(I.a)(null===(i=O[t])||void 0===i?void 0:i.composeData)))})),r(e)}}),[g,O]);var P=Object(f.useMemo)((function(){return Object(v.isEmpty)(null===a||void 0===a?void 0:a.composesData)?[]:Object(v.map)(null===a||void 0===a?void 0:a.composesData,(function(e){var t;return Object(T.a)(Object(T.a)({},e),{},{data:null===e||void 0===e||null===(t=e.baseInfo)||void 0===t?void 0:t.data})}))}),[null===a||void 0===a?void 0:a.composesData]),B=Object(f.useCallback)((function(){if(S)return!0;Ue.b.warn("\u8bf7\u8f93\u5165\u7269\u54c1\u540d\u79f0")}),[S]),R=Object(f.useMemo)((function(){return"0"!==(null===w||void 0===w?void 0:w.id)}),[w]);return Object(j.jsxs)("div",{className:"rounded-md text-black text-opacity-70 bg-white bg-opacity-10 flex items-center justify-between",style:{height:400},children:[Object(j.jsx)(be,{data:{positions:"",materialData:P},size:400,style:{background:"#323945",cursor:"pointer",boxShadow:"0px 0px 5px rgba(225,225,225,0.3)",marginRight:20}}),Object(j.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[Object(v.isEmpty)(null===a||void 0===a?void 0:a.composes)?Object(j.jsx)(nt,{name:S,setMerchandies:D}):Object(j.jsxs)(qe.a,{defaultActiveKey:"1",centered:!0,onChange:function(e){d(e)},children:[Object(j.jsx)(Qe,{tab:"\u5408\u5e76\u4e3a\u65b0\u7684\u7269\u54c1",children:Object(j.jsx)(nt,{name:S,setMerchandies:D})},"new"),Object(j.jsx)(Qe,{tab:"\u5408\u5e76\u81f3\u5df2\u5b58\u5728\u7684\u7269\u54c1",children:Object(j.jsx)(it,{composes:null===a||void 0===a?void 0:a.composes,value:p,setValue:b})},"exist")]}),Object(j.jsx)(_e.a,{type:"primary",size:"large",onClick:function(){if(R){if("new"===l)if(!B())return;if("exist"===l&&!isNaN(Number(p))&&Number(p)<=0)Ue.b.warn("\u8bf7\u9009\u62e9\u4f60\u8981\u5408\u5e76\u5230\u7684\u76ee\u6807ID");else if("new"===l)E({idList:g,name:S,decode:"",time:"",position:"",zIndex:""});else{var e=Object(I.a)(g);e.splice(null===e||void 0===e?void 0:e.indexOf(p),1),z({ids:Number(p),idList:e})}}},children:"\u786e\u5b9a"})]})]})},tt=function(e){return Object(j.jsx)("input",Object(T.a)(Object(T.a)({className:"pl-2 inputPlaceholder outline-none :focus:outline-none h-10 bg-black bg-opacity-10 rounded-sm w-full"},e),{},{placeholder:"\u8bf7\u8f93\u5165".concat(e.placeholder)}))},nt=function(e){var t=e.name,n=(e.category,e.setMerchandies);return Object(j.jsxs)("div",{id:"create-material",className:"overflow-y-scroll",style:{width:400},children:[Object(j.jsx)(Ze,{children:"\u540d\u79f0"}),Object(j.jsx)(tt,{value:t,placeholder:"\u7269\u54c1\u540d\u79f0",maxLength:15,onChange:function(e){return n((function(t){return Object(T.a)(Object(T.a)({},t),{},{name:e.target.value})}))}}),Object(j.jsx)("div",{className:"h-8"})]})},it=function(e){var t=e.composes,n=e.value,i=e.setValue,a=G().materialListObj;return Object(j.jsx)("div",{className:"overflow-y-scroll",style:{width:400,height:280},children:Object(j.jsx)(He.a.Group,{onChange:function(e){i(e.target.value)},value:n,children:Object(v.map)(t,(function(e){var t,n;return Object(j.jsx)(He.a,{value:e,style:{marginTop:20},children:Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsxs)("div",{className:"inline-block",style:{width:50},children:["ID:",e," "]}),Object(j.jsxs)("div",{className:"ellipsis inline-block",style:{width:300},children:["\u2003",null===(t=a[e])||void 0===t||null===(n=t.baseInfo)||void 0===n?void 0:n.name]})]})},e)}))})})},at=function(){var e=Object(f.useState)(!1),t=Object(m.a)(e,2),n=t[0],i=t[1],a=G().composeList,r=Object(B.b)(),s=r.searchString,o=r.setSearchString,l=Object(f.useState)({owner:(null===s||void 0===s?void 0:s.owner)||"",id:(null===s||void 0===s?void 0:s.id)||""}),d=Object(m.a)(l,2),c=d[0],u=c.id,p=c.owner,b=d[1],y=function(){var e=Object(T.a)(Object(T.a)({},s),{},{id:u.trim()?null===u||void 0===u?void 0:u.split(","):void 0,owner:p.trim()||void 0,createID:""});o(e)};return Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)(_e.a,{type:"primary",disabled:(null===a||void 0===a?void 0:a.length)<2,onClick:function(){i(!0)},children:"\u4e00\u952e\u5408\u6210"}),Object(j.jsx)(Fe.a,{title:"\u5408\u6210\u865a\u62df\u7269\u54c1",okText:"\u5408\u6210",cancelText:"\u53d6\u6d88",width:1e3,visible:n,footer:null,onCancel:function(){i(!1)},children:Object(j.jsx)(et,{setIsModalVisible:i})}),Object(j.jsx)($e.a,{style:{width:350,marginLeft:10},allowClear:!0,placeholder:"\u6240\u6709\u8005\u5730\u5740",value:p,onPressEnter:y,onChange:function(e){b((function(t){var n,i;return Object(T.a)(Object(T.a)({},t),{},{owner:null===e||void 0===e||null===(n=e.target)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.trim()})}))}}),Object(j.jsx)($e.a,{style:{width:350,marginLeft:10,marginRight:10},allowClear:!0,placeholder:"\u7269\u54c1ID\uff0c\u67e5\u8be2\u591a\u4e2aID\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u9694\u5f00",value:u,onPressEnter:y,onChange:function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;""===n&&b((function(e){return Object(T.a)(Object(T.a)({},e),{},{id:""})}));var i=null===n||void 0===n?void 0:n.slice(-1),a=null===n||void 0===n?void 0:n.slice(-2);""!==(null===i||void 0===i?void 0:i.trim())&&",,"!==a&&(isNaN(Number(i))&&","!==i||b((function(e){return Object(T.a)(Object(T.a)({},e),{},{id:n})})))}}),Object(j.jsx)(_e.a,{type:"primary",onClick:y,children:"\u67e5\u8be2"})]})},rt=n(620),st=n(1252),ot=n(1238),lt=n(1240),dt=n(179),ct=n(1247),ut=["children","toRight","toDetails"],pt=ot.a.Text,mt=function(e){var t=e.item,n=e.setIsModalVisible,i=G(),a=i.materialListObj,r=i.setSmallLoading,s=Object(k.e)(Ye,{isGlobalTransactionHookValid:!0,onSuccess:function(){n&&n(!1),r(!0)},onTransactionSuccess:function(){Ue.b.success("\u79fb\u9664\u6210\u529f\uff01\u6b63\u5728\u83b7\u53d6\u94fe\u4e0a\u65b0\u6570\u636e...")}},[t]),o=Object(m.a)(s,1)[0],l=Object(f.useMemo)((function(){var e;return a[null===t||void 0===t||null===(e=t.material)||void 0===e?void 0:e.compose]}),[a,t]);return Object(f.useMemo)((function(){var e;return"0"===(null===l||void 0===l||null===(e=l.material)||void 0===e?void 0:e.compose)}),[l,t])?Object(j.jsx)("span",{className:"inline-block bg-red-500 text-white ml-4 px-2 rounded-sm cursor-pointer",onClick:function(){var e,n;o({ids:null===l||void 0===l||null===(e=l.material)||void 0===e?void 0:e.id,idList:[null===t||void 0===t||null===(n=t.material)||void 0===n?void 0:n.id]})},children:"\u79fb\u9664\u8be5\u7269\u54c1"}):null},bt=function(e){var t,n,i,a=e.item,r=x(),s=(r.openLoading,r.closeDelayLoading,Object(k.f)().address),o=G(),l=(o.composeList,o.setComposeList,o.materialListObj,o.userInfo),d=o.setSmallLoading,c=Object(k.e)(Xe,{isGlobalTransactionHookValid:!0,onSuccess:function(){d(!0)},onTransactionSuccess:function(){Ue.b.success("\u5934\u50cf\u8bbe\u7f6e\u6210\u529f\uff01\u6b63\u5728\u83b7\u53d6\u94fe\u4e0a\u65b0\u6570\u636e...")}}),u=Object(m.a)(c,1)[0];return(null===s||void 0===s?void 0:s.toLowerCase())===(null===a||void 0===a||null===(t=a.material)||void 0===t||null===(n=t.owner)||void 0===n?void 0:n.toLowerCase())&&String(null===l||void 0===l?void 0:l.id)!==(null===a||void 0===a||null===(i=a.material)||void 0===i?void 0:i.id)?Object(j.jsx)("span",{className:"inline-block bg-red-500 text-white ml-4 px-2 rounded-sm cursor-pointer",onClick:function(){var e;u({id:null===a||void 0===a||null===(e=a.material)||void 0===e?void 0:e.id})},children:"\u8bbe\u7f6e\u4e3a\u5934\u50cf"}):null},yt=function(e){var t,n,i,a,r,s,o,l=e.item,d=e.child,c=e.setIsModalVisible,u=G(),p=u.materialListObj,m=(u.userInfo,Object(k.f)().address,Object(f.useMemo)((function(){var e;return Object(v.isEmpty)(l)||Object(v.isEmpty)(p)?[]:Object(v.isEmpty)(null===l||void 0===l?void 0:l.composes)?[Object(T.a)(Object(T.a)({},l),{},{data:null===l||void 0===l||null===(e=l.baseInfo)||void 0===e?void 0:e.data})]:Object(v.map)(null===l||void 0===l?void 0:l.composeData,(function(e){var t;return Object(T.a)(Object(T.a)({},e),{},{data:null===e||void 0===e||null===(t=e.baseInfo)||void 0===t?void 0:t.data})}))}),[l,p]));return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(be,{data:Object(T.a)(Object(T.a)({},l),{},{positions:null===l||void 0===l||null===(t=l.baseInfo)||void 0===t?void 0:t.data,materialData:m}),size:200,style:{background:"#323945",cursor:"pointer",boxShadow:"0px 0px 5px rgba(225,225,225,0.3)"}}),Object(j.jsxs)("div",{className:"ml-10 flex flex-col justify-between",children:[Object(j.jsxs)("div",{children:["\u7269\u54c1\u540d\u79f0\uff1a",(null===l||void 0===l||null===(n=l.baseInfo)||void 0===n?void 0:n.name)||"\u8fd9\u4ec0\u4e48\u9b3c\u540d\u79f0",Object(j.jsx)(bt,{item:l})]}),Object(j.jsxs)("div",{className:"flex",children:["\u7ec4\u6210\u90e8\u5206\uff1a",Object(j.jsx)("div",{className:"overflow-x-scroll",style:{maxWidth:d?400:800},children:(null===l||void 0===l||null===(i=l.composes)||void 0===i?void 0:i.join(","))||"\u6682\u65e0"})]}),Object(j.jsxs)("div",{className:"relative",children:["\u6240\u5c5e\u5730\u5740\uff1a",Object(j.jsx)(pt,{copyable:{text:null===l||void 0===l||null===(a=l.material)||void 0===a?void 0:a.owner,icon:[Object(j.jsx)(rt.a,{className:"absolute top-1"}),Object(j.jsx)(st.a,{className:"absolute top-1"})],tooltips:!1},children:null===l||void 0===l||null===(r=l.material)||void 0===r?void 0:r.owner})]}),Object(j.jsxs)("div",{children:["\u6240\u5c5eID\uff1a",Number(null===l||void 0===l||null===(s=l.material)||void 0===s?void 0:s.compose)>0?Object(j.jsxs)(j.Fragment,{children:[null===l||void 0===l||null===(o=l.material)||void 0===o?void 0:o.compose,Object(j.jsx)(mt,{item:l,setIsModalVisible:c})]}):"\u6682\u672a\u88ab\u5408\u6210"]})]})]})},vt=function(e){var t,n=e.item,i=G().materialListObj,a=Object(f.useState)(),r=Object(m.a)(a,2),s=r[0],o=r[1],l=Object(f.useState)(),d=Object(m.a)(l,2),c=d[0],u=d[1];Object(f.useEffect)((function(){var e,t;if(!Object(v.isEmpty)(n)&&!Object(v.isEmpty)(i)){var a=[];!function e(t,n){var a;0!==(null===t||void 0===t||null===(a=t.composes)||void 0===a?void 0:a.length)&&Object(v.map)(null===t||void 0===t?void 0:t.composes,(function(a){var r,s,o;if(i[a]&&(null===(r=i[a])||void 0===r||null===(s=r.material)||void 0===s?void 0:s.compose)===(null===t||void 0===t||null===(o=t.material)||void 0===o?void 0:o.id)){var l;null===n||void 0===n||n.push({key:a,title:a,children:[]});var d=null===(l=Object(v.find)(n,(function(e){return e.key===a})))||void 0===l?void 0:l.children;d&&e(i[a],d)}}))}(n,a),(null===(e=a[0])||void 0===e?void 0:e.key)&&o(i[null===(t=a[0])||void 0===t?void 0:t.key]),u(a)}}),[n,i]);return Object(j.jsxs)("div",{className:"flex justify-between",style:{height:300,minWidth:1200},children:[c&&c[0]&&Object(j.jsx)(lt.a,{className:"flex-1",height:300,showLine:!0,defaultExpandedKeys:[null===(t=c[0])||void 0===t?void 0:t.key],onSelect:function(e){!Object(v.isEmpty)(e)&&o(i[e[0]])},treeData:c}),!Object(v.isEmpty)(c)&&s&&Object(j.jsx)("div",{className:"border-l border-black border-opacity-10 p-4",style:{width:800,minWidth:800},children:Object(j.jsx)(yt,{item:s,child:!0})})]})},ft=function(e){var t=e.id,n=e.setIsModalVisible,i=G().materialListObj,a=Object(f.useMemo)((function(){return i[t]}),[i,t]);return Object(j.jsxs)("div",{className:"text-black text-opacity-70",children:[Object(j.jsxs)("p",{className:"text-xl",children:["ID:",t," \u8be6\u60c5"]}),Object(j.jsx)(yt,{item:a,setIsModalVisible:n}),!Object(v.isEmpty)(null===a||void 0===a?void 0:a.composes)&&Object(j.jsx)("div",{className:"pt-4 mt-8 border-t border-black border-opacity-70 border-dashed",children:Object(j.jsx)(vt,{item:a})})]})},ht=function(e){var t=e.children,n=e.toRight,i=e.toDetails,a=Object(q.a)(e,ut),r=Object(f.useState)(!1),s=Object(m.a)(r,2),o=s[0],l=s[1];return t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(dt.a,{className:"cursor-pointer text-sm",color:"#29303d",title:i?"\u70b9\u51fb\u53ef\u67e5\u770b\u8be6\u60c5":"",children:Object(j.jsx)("div",Object(T.a)(Object(T.a)({className:"p px-2 rounded-sm bg-white bg-opacity-10 text-white text-opacity-90",style:{marginRight:n?0:10,marginLeft:n?10:0,cursor:i?"pointer":"default"},onClick:function(){i&&l(!0)}},a),{},{children:t}))}),i&&Object(j.jsx)(Fe.a,{title:"",width:1200,visible:o,footer:null,onCancel:function(){l(!1)},children:Object(j.jsx)(ft,{id:String(t),setIsModalVisible:l})})]}):null},jt=function(e){var t,n,i,a,r,s=e.item,o=Object(k.f)().address,l=G(),d=l.composeList,c=l.setComposeList;return Object(j.jsx)(j.Fragment,{children:0===Number(null===s||void 0===s||null===(t=s.material)||void 0===t?void 0:t.compose)?(null===o||void 0===o?void 0:o.toLowerCase())===(null===s||void 0===s||null===(n=s.material)||void 0===n||null===(i=n.owner)||void 0===i?void 0:i.toLowerCase())?Object(j.jsx)(ct.a,{checked:d.includes(null===s||void 0===s||null===(a=s.material)||void 0===a?void 0:a.id),onChange:function(e){c&&c((function(t){var n,i,a,r=Object(v.cloneDeep)(t);(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.checked)?null===r||void 0===r||r.push(null===s||void 0===s||null===(i=s.material)||void 0===i?void 0:i.id):null===r||void 0===r||r.splice(r.indexOf(null===s||void 0===s||null===(a=s.material)||void 0===a?void 0:a.id),1);return r}))}}):Object(j.jsx)("div",{children:"\u975e\u5f53\u524d\u8d26\u6237"}):Object(j.jsxs)("div",{children:["\u5df2\u5408\u6210\u81f3",null===s||void 0===s||null===(r=s.material)||void 0===r?void 0:r.compose]})})},gt=(ot.a.Paragraph,function(e){var t,n,i,a,r,s,o,l,d,c,u,p=e.item,b=G(),y=b.userInfo,h=b.materialListObj,g=Object(f.useState)(!1),x=Object(m.a)(g,2),O=x[0],w=x[1],I=Object(f.useState)(!1),M=Object(m.a)(I,2),C=M[0],N=M[1],S=(Object(k.f)().address,Object(f.useMemo)((function(){var e;return Object(v.isEmpty)(p)||Object(v.isEmpty)(h)?[]:Object(v.isEmpty)(null===p||void 0===p?void 0:p.composes)?[Object(T.a)(Object(T.a)({},p),{},{data:null===p||void 0===p||null===(e=p.baseInfo)||void 0===e?void 0:e.data})]:Object(v.map)(null===p||void 0===p?void 0:p.composeData,(function(e){var t;return Object(T.a)(Object(T.a)({},e),{},{data:null===e||void 0===e||null===(t=e.baseInfo)||void 0===t?void 0:t.data})}))}),[p,h]));return Object(j.jsxs)("div",{className:"p-2 mb-4 flex-col flex rounded-md bg-white bg-opacity-10",style:{height:316,width:216,margin:7},children:[Object(j.jsx)(be,{data:Object(T.a)(Object(T.a)({},p),{},{positions:null===p||void 0===p||null===(n=p.baseInfo)||void 0===n?void 0:n.data,materialData:S}),size:200,style:{background:(null===y||void 0===y||null===(i=y.user)||void 0===i?void 0:i.bgColor)||"#e1e1e11a",cursor:"pointer",boxShadow:"0px 0px 5px rgba(225,225,225,0.3)"},onClick:function(){N(!0)}}),Object(j.jsxs)("div",{className:"flex flex-col justify-between flex-1 mt-4",style:{fontSize:12,width:200},children:[Object(j.jsx)("div",{className:"text-right flex-1",style:{height:40,textOverflow:"ellipsis",overflow:"hidden"},children:(null===p||void 0===p||null===(a=p.baseInfo)||void 0===a?void 0:a.name)||"\u8fd9\u4ec0\u4e48\u9b3c"}),Object(j.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[Object(j.jsx)("div",{className:"flex justify-between items-center",children:Object(j.jsx)(ht,{toDetails:!0,children:null===p||void 0===p||null===(r=p.material)||void 0===r?void 0:r.id})}),Object(j.jsx)(jt,{item:p})]}),Object(j.jsx)("div",{className:"flex justify-between items-center mt-2",children:(null===p||void 0===p||null===(s=p.material)||void 0===s?void 0:s.owner)&&Object(j.jsx)("div",{className:"p rounded-sm overflow-x-scroll hover:text-red-500 cursor-pointer",style:{height:20,textOverflow:"ellipsis",overflow:"hidden"},onClick:function(){var e;!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),Ue.b.success("\u590d\u5236\u6210\u529f\uff01")}(null===p||void 0===p||null===(e=p.material)||void 0===e?void 0:e.owner)},children:Object(B.a)(null===p||void 0===p||null===(o=p.material)||void 0===o?void 0:o.owner,15)})})]}),O&&(null===p||void 0===p||null===(l=p.material)||void 0===l?void 0:l.id)&&Object(j.jsx)(Fe.a,{title:"",width:1200,visible:O,footer:null,onCancel:function(){w(!1)},children:Object(j.jsx)(ft,{id:null===p||void 0===p||null===(d=p.material)||void 0===d?void 0:d.id,setIsModalVisible:w})}),C&&(null===p||void 0===p||null===(c=p.material)||void 0===c?void 0:c.id)&&Object(j.jsx)(Fe.a,{title:"",width:600,visible:C,footer:null,bodyStyle:{padding:0},closable:!1,onCancel:function(){N(!1)},children:Object(j.jsx)(be,{data:Object(T.a)(Object(T.a)({},p),{},{positions:null===p||void 0===p||null===(u=p.baseInfo)||void 0===u?void 0:u.data,materialData:S}),size:600,style:{background:"#323945",cursor:"pointer",boxShadow:"0px 0px 5px rgba(225,225,225,0.3)",margin:"auto"}})})]},null===p||void 0===p||null===(t=p.material)||void 0===t?void 0:t.id)}),xt=n(222),Ot=function(e){var t=e.data,n=e.children,i=e.styleCSS,a=e.classCSS,r=e.emptyDesc,s=void 0===r?"\u8bf7\u94fe\u63a5\u94b1\u5305":r,o=Object(k.f)(),l=o.connected,d=o.networkId;return Object(j.jsx)("div",{className:"w-full h-full ".concat(a),style:Object(T.a)({height:"calc(100vh - 170px)"},i),children:Object(v.isEmpty)(t)?Object(j.jsx)("div",{className:"w-full h-full flex justify-center items-center opacity-70",children:Object(j.jsx)(xt.a,{image:xt.a.PRESENTED_IMAGE_SIMPLE,description:l&&d?[42].includes(d)?"\u6682\u65e0\u6570\u636e":"\u8bf7\u94fe\u63a5 Kovan \u7f51\u7edc":s,style:{color:"#fff"}})}):n})},wt=n(612),Tt=n.n(wt),It=(Ve.a.Option,function(e){var t=e.children,n=e.noNeed;return Object(j.jsxs)("div",{className:"pt-4 mb-1",children:[t,!n&&Object(j.jsx)("span",{className:"text-red-500",children:"*"})]})}),kt=function(e){return Object(j.jsx)("input",Object(T.a)(Object(T.a)({className:"pl-2 inputPlaceholder outline-none :focus:outline-none h-10 bg-white bg-opacity-20 rounded-sm w-full"},e),{},{placeholder:"\u8bf7\u8f93\u5165".concat(e.placeholder)}))},Mt=function(e){var t,n=Number(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value);return Number(e.target.value)>=0&&!isNaN(n)?e.target.value:isNaN(parseFloat(e.target.value))?"":"".concat(parseFloat(e.target.value))},Ct=[{label:"\u8138",value:"face"},{label:"\u5934\u53d1",value:"hair"},{label:"\u773c\u775b",value:"eye"},{label:"\u9f3b\u5b50",value:"nose"},{label:"\u5634\u5df4",value:"mouth"},{label:"\u8033\u6735",value:"ear"},{label:"\u8116\u5b50",value:"neck"},{label:"\u80e1\u5b50",value:"beard"},{label:"\u9970\u54c1",value:"accessories"},{label:"\u5176\u4ed6",value:"other"}],Nt=function(){var e=de(),t=e.positionsArr,n=e.setPositionsArr,i=(e.config,e.dealClick),a=i.value,r=i.clear,s=h.a.useState({name:"",num:"",decode:"",time:"",position:"",zIndex:""}),o=Object(m.a)(s,2),l=o[0],d=l.name,c=l.num,u=l.decode,p=l.time,b=l.position,y=l.zIndex,g=o[1],O=Object(f.useState)(""),w=Object(m.a)(O,2),M=w[0],C=w[1],N=Object(f.useState)(!1),S=Object(m.a)(N,2),D=S[0],L=S[1],E=Object(k.f)().address,A=G().setSmallLoading,z=x(),P=z.openLoading,B=z.closeDelayLoading,R=E,_=(Object(k.d)().contracts,Object(k.e)(Ke,{onSuccessBefore:P,onSuccess:function(){A(!0),B()},onTransactionSuccess:function(){Ue.b.success("\u7269\u54c1\u5236\u9020\u6210\u529f\uff01\u6b63\u5728\u83b7\u53d6\u94fe\u4e0a\u65b0\u6570\u636e..."),g({name:"",num:""}),r(),n([])},onFail:function(){L(!1)}},[R,d,c,u,b,p,y])),F=Object(m.a)(_,1)[0],$=Object(f.useMemo)((function(){return Math.min.apply(Math,Object(I.a)(t))}),[t]),V=Object(f.useCallback)((function(){var e="".concat(M).concat($);F({name:d,num:c,rawData:e,decode:"",position:"",zIndex:"",time:""}),L(!1)}),[M,$,d,c]),q=Object(f.useMemo)((function(){var e={};return Object(v.map)(t,(function(t){e[a[t]]?e[a[t]].push(t):e[a[t]]=[t]})),e}),[a,t]),U=Object(f.useCallback)((function(){for(var e="",n=Math.min.apply(Math,Object(I.a)(t)),i=Object(v.keys)(q).sort((function(e,t){return parseInt(e.slice(1),16)-parseInt(t.slice(1),16)})),a=0;a<i.length;a++){var r=Object(v.map)(q[i[a]],(function(e){return(e-n).toString(36)})).join("|");e+="".concat(parseInt(i[a].slice(1),16).toString(36),"-").concat(r,"-")}return"".concat(e)}),[a,t,q,$]),H=Object(f.useCallback)((function(){if(d){if(c)return!0;Ue.b.warn("\u8bf7\u8f93\u5165\u7269\u54c1\u6570\u91cf")}else Ue.b.warn("\u8bf7\u8f93\u5165\u7269\u54c1\u540d\u79f0")}),[d,c,u,b,p,y]);return Object(j.jsxs)("div",{className:"rounded-md text-gray-300 w-72 p-4 bg-white bg-opacity-10",children:[Object(j.jsx)("div",{className:"flex items-center text-2xl text-gray-300",children:"\u5236\u4f5c\u865a\u62df\u7269\u54c1\xa0"}),Object(j.jsxs)("div",{className:"overflow-y-scroll",style:{height:480},children:[Object(j.jsx)(It,{children:"\u540d\u79f0"}),Object(j.jsx)(kt,{value:d,placeholder:"\u7269\u54c1\u540d\u79f0",maxLength:15,onChange:function(e){return g((function(t){return Object(T.a)(Object(T.a)({},t),{},{name:e.target.value})}))}}),Object(j.jsx)(It,{children:"\u6570\u91cf"}),Object(j.jsx)(kt,{value:c,placeholder:"\u7269\u54c1\u6570\u91cf",maxLength:8,onChange:function(e){return g((function(t){return Object(T.a)(Object(T.a)({},t),{},{num:Mt(e)})}))}}),Object(j.jsx)(_e.a,{type:"primary",size:"large",className:"mt-6 w-full rounded",onClick:function(){if(H()){var e=U();C(e),e?L(!0):Ue.b.warn("\u8bf7\u7ed8\u5236\u865a\u62df\u7269\u54c1")}},children:"\u63d0\u4ea4"})]}),Object(j.jsxs)(Fe.a,{title:"\u662f\u5426\u53d1\u5e03\u7269\u54c1",okText:(null===M||void 0===M?void 0:M.length)>=64?"\u4e0d\u7528\u62c5\u5fc3\uff0c\u786c\u6838\u63d0\u4ea4":"\u786e\u8ba4",cancelText:"\u53d6\u6d88",visible:D,onOk:V,onCancel:function(){L(!1)},children:[Object(j.jsx)("p",{children:"\u662f\u5426\u786e\u8ba4\u53d1\u5e03\u8be5\u7269\u54c1\uff1f"}),Object(j.jsx)("p",{children:(null===M||void 0===M?void 0:M.length)>=50&&"\u5f53\u524d\u6570\u636e\u91cf\u8f83\u5927\uff0c\u53ef\u80fd\u6d88\u8017\u7684GAS\u8f83\u591a\uff0c\u4e14\u6709\u53ef\u80fd\u63d0\u4ea4\u4e0d\u6210\u529f\uff0c\u8bf7\u95ee\u662f\u5426\u7ee7\u7eed\u63d0\u4ea4\u6570\u636e\uff1f"})]})]})},St=function(e){var t,n,i,a,r,s,o=e.item,l=e.star,d=Object(k.f)().address,c=(de().setSelectList,Object(p.g)().search),u=(c&&c.split("=")[1],G()),m=u.materialListObj,b=u.userInfo,y=Object(f.useMemo)((function(){var e;return Object(v.isEmpty)(o)||Object(v.isEmpty)(m)?[]:Object(v.isEmpty)(null===o||void 0===o?void 0:o.composes)?[Object(T.a)(Object(T.a)({},o),{},{data:null===o||void 0===o||null===(e=o.baseInfo)||void 0===e?void 0:e.data})]:Object(v.map)(null===o||void 0===o?void 0:o.composeData,(function(e){var t;return Object(T.a)(Object(T.a)({},e),{},{data:null===e||void 0===e||null===(t=e.baseInfo)||void 0===t?void 0:t.data})}))}),[o,m]);return Object(j.jsxs)("div",{className:"mt-2 item-avatar p-2 flex justify-between border-gray-500 border-b",children:[Object(j.jsx)(be,{data:Object(T.a)(Object(T.a)({},o),{},{positions:null===o||void 0===o||null===(n=o.baseInfo)||void 0===n?void 0:n.data,materialData:y}),size:96,style:{background:(null===b||void 0===b||null===(i=b.user)||void 0===i?void 0:i.bgColor)||"#e1e1e11a",cursor:"pointer",boxShadow:"0px 0px 5px rgba(225,225,225,0.3)"},onClick:function(){}}),Object(j.jsx)("div",{className:"flex justify-end flex-1",children:Object(j.jsxs)("div",{className:"ml-2 flex flex-col justify-between items-end",children:[Object(j.jsx)("div",{className:"text-right",style:{height:40,textOverflow:"ellipsis",overflow:"hidden"},children:(null===o||void 0===o||null===(a=o.baseInfo)||void 0===a?void 0:a.name)||"\u8fd9\u4ec0\u4e48\u9b3c"}),!l&&Object(j.jsx)(jt,{item:o}),Object(j.jsxs)("div",{className:"flex justify-end items-center",children:[Object(j.jsx)(ht,{toRight:!0,toDetails:!0,children:null===o||void 0===o||null===(r=o.material)||void 0===r?void 0:r.id}),Object(j.jsx)(ht,{toRight:!0,children:null===(s=Object(v.find)(Ct,(function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null===o||void 0===o||null===(t=o.baseInfo)||void 0===t?void 0:t.category)}))||{})||void 0===s?void 0:s.label})]})]})})]},null===o||void 0===o||null===(t=o.material)||void 0===t?void 0:t.id)},Dt=function(e){var t=e.avater,n=e.colectionList,i=e.onwerList,a=Object(p.f)(),r=Object(p.g)().search,s=r?r.split("=")[1]:"";return Object(j.jsxs)("div",{className:"border m-4 p-4 card",children:[Object(j.jsxs)("div",{className:"mb-2 flex justify-between",children:[Object(j.jsx)("div",{children:"\u4e2a\u4eba\u4e2d\u5fc3"}),Object(j.jsx)("div",{className:"cursor-pointer hover:text-red-500",onClick:function(){a.push("/person-center".concat(s?"?address="+s:""))},children:"\u67e5\u770b\u66f4\u591a"})]}),Object(j.jsx)(Ot,{data:[].concat(Object(I.a)(n),Object(I.a)(i)),children:Object(j.jsxs)("div",{className:"overflow-y-scroll",style:{height:"calc(100% - 30px)"},children:[t&&Object(j.jsxs)("div",{className:"mt-2 pb-4",children:[Object(j.jsx)("div",{className:"",children:"Avater"}),Object(v.map)([t],(function(e){return Object(j.jsx)(St,{item:e},null===e||void 0===e?void 0:e.material.id)}))]}),!Object(v.isEmpty)(i)&&Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsx)("div",{className:"",children:"Your Material"}),Object(v.map)(i,(function(e){var t;return Object(j.jsx)(St,{item:e},null===e||void 0===e||null===(t=e.material)||void 0===t?void 0:t.id)}))]}),!Object(v.isEmpty)(n)&&Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsx)("div",{className:"",children:"Your Star"}),Object(v.map)(n,(function(e){var t;return Object(j.jsx)(St,{item:e,star:!0},null===e||void 0===e||null===(t=e.material)||void 0===t?void 0:t.id)}))]})]})})]})},Lt=function(){var e,t,n,i=de(),a=i.config,r=i.canvas2Ref;return Object(j.jsx)("div",{className:"m-4 card main-box overflow-hidden bg-transparent",style:{width:null===a||void 0===a||null===(e=a.imgSize)||void 0===e?void 0:e.width,height:null===a||void 0===a||null===(t=a.imgSize)||void 0===t?void 0:t.height,minWidth:null===a||void 0===a||null===(n=a.imgSize)||void 0===n?void 0:n.width},children:Object(j.jsx)(ye,{canvasRef:r,showGridColor:!0})})},Et=function(e){var t=e.noCollectionList,n=Object(p.f)();return Object(j.jsxs)("div",{className:"border m-4 p-4 card",style:{boxShadow:"5px 5px 10px rgba(225,225,225,0.3)"},children:[Object(j.jsxs)("div",{className:"mb-2 flex justify-between",children:[Object(j.jsx)("div",{children:"\u672a\u6536\u85cf"}),Object(j.jsx)("div",{className:"cursor-pointer hover:text-red-500",onClick:function(){n.push("/lockers")},children:"\u53bb\u6536\u85cf\u66f4\u591a"})]}),Object(j.jsx)(Ot,{data:t,children:Object(j.jsx)("div",{className:"overflow-y-scroll",style:{height:"calc(100% - 30px)"},children:Object(v.map)(t,(function(e){var t;return Object(j.jsx)(St,{item:e,star:!0},null===e||void 0===e||null===(t=e.material)||void 0===t?void 0:t.id)}))})})]})},At=n(1253),zt=n(1254),Pt=n(1255),Bt=n(257),Rt=function(){var e=de(),t=e.setConfig,n=e.config,i=e.setPositionsArr,a=e.dealClick,r=a.clear,s=a.value;return Object(j.jsxs)("div",{className:"flex flex-col items-center text-gray-300 w-8 absolute py-4 left-0 top-38 text-xl",style:{height:482,boxShadow:"0px 0px 10px rgba(225,225,225,0.3)"},children:[Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:"".concat((null===n||void 0===n?void 0:n.withGrid)?"\u9690\u85cf":"\u663e\u793a","\u8f85\u52a9\u7ebf"),color:"#29303d",children:Object(j.jsx)(At.a,{style:{color:(null===n||void 0===n?void 0:n.withGrid)?"white":"gray"},onClick:function(){return t((function(e){return Object(T.a)(Object(T.a)({},e),{},{withGrid:!(null===n||void 0===n?void 0:n.withGrid)})}))}})}),Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:"\u6e05\u9664\u753b\u5e03",color:"#29303d",children:Object(j.jsx)(zt.a,{style:{color:Object(v.isEmpty)(s)?"gray":"white"},onClick:function(){r(),i([])}})}),Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:"\u9009\u62e9\u7ed8\u5236\u989c\u8272",color:"#29303d",children:Object(j.jsx)("input",{type:"color",className:"w-5",onChange:function(e){return t((function(t){return Object(T.a)(Object(T.a)({},t),{},{drawColor:e.target.value})}))}})}),Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:"\u4e22\u5f03\u9009\u53d6\u7684\u989c\u8272",color:"#29303d",children:Object(j.jsx)(Pt.a,{style:{color:Object(v.isEmpty)(null===n||void 0===n?void 0:n.drawColor)?"gray":"white"},onClick:function(){return t((function(e){return Object(T.a)(Object(T.a)({},e),{},{drawColor:""})}))}})}),Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:"\u8c03\u6574\u80cc\u666f\u8272",color:"#29303d",children:Object(j.jsx)("input",{type:"color",className:"w-5",onChange:function(e){return t((function(t){return Object(T.a)(Object(T.a)({},t),{},{bgColor:e.target.value})}))}})}),Object(j.jsx)(dt.a,{placement:"right",className:"mb-4 cursor-pointer",title:function(){return Object(j.jsxs)("div",{style:{fontSize:12},children:[Object(j.jsx)("div",{children:"1.\u6e05\u9664\u753b\u5e03\u6570\u636e\u4f1a\u5bfc\u81f4\u4e4b\u524d\u6240\u6709\u7ed8\u5236\u4e22\u5931"}),Object(j.jsx)("div",{children:"2.\u9009\u62e9\u4e86\u7ed8\u5236\u989c\u8272\u540e\uff0c\u5c06\u4e0d\u4f1a\u4ece\u5f53\u524d\u9009\u4e2d\u5730\u65b9\u53d6\u8272\uff0c\u9664\u975e\u4e22\u5f03\u8be5\u989c\u8272"}),Object(j.jsx)("div",{children:"3.\u4e22\u5f03\u5f53\u524d\u9009\u4e2d\u8272\u540e\uff0c\u7ed8\u5236\u7684\u989c\u8272\u5c06\u662f\u70b9\u51fb\u5904\u989c\u8272"}),Object(j.jsx)("div",{children:"4.\u53cc\u51fb\u5373\u53ef\u5220\u9664\u5f53\u524d\u4f4d\u7f6e\u6570\u636e"})]})},color:"#29303d",children:Object(j.jsx)(Bt.a,{})})]})},Gt=function(){var e=de(),t=e.setConfig,n=e.config,i=e.dealClick.setValue,a=Object(f.useRef)(null),r=Object(f.useState)(localStorage.getItem("imgUrl")||""),s=Object(m.a)(r,2),o=s[0],l=s[1],d=Object(f.useState)(o),c=Object(m.a)(d,2),u=c[0],p=c[1],b=Object(f.useCallback)((function(){var e=a.current;if(e&&(null===e||void 0===e?void 0:e.files)){var n=null===e||void 0===e?void 0:e.files[0];if(!n.type.match("image.*"))return;var r=new FileReader;r.onload=function(){var e=this.result,n=new Image;n.src=""+e,n.onload=function(){i({}),t((function(e){return Object(T.a)(Object(T.a)({},e),{},{bgImg:n})}))}},r.readAsDataURL(n)}}),[a]);return Object(f.useEffect)((function(){localStorage.setItem("imgUrl",u),function(e){var n=new Image;n.src=e,n.crossOrigin="",n.onload=function(){i({}),t((function(e){return Object(T.a)(Object(T.a)({},e),{},{bgImg:n})}))}}(o)}),[o]),Object(j.jsxs)("div",{className:"mb-4 flex items-center justify-between h-10 text-white",style:{width:null===n||void 0===n?void 0:n.imgSize.width},children:[Object(j.jsxs)("div",{className:"flex items-center justify-between rounded-sm bg-white bg-opacity-10 w-96",children:[Object(j.jsx)("input",{className:"pl-4 bg-transparent search w-64",style:{outline:"none"},placeholder:"\u8bf7\u8f93\u5165\u56fe\u7247\u94fe\u63a5",value:u,onChange:function(e){return p(e.target.value)}}),u&&Object(j.jsx)(y.a,{onClick:function(){return p("")}}),Object(j.jsx)(_e.a,{type:"primary",size:"large",className:"w-24",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){l(u),u||t((function(e){return Object(T.a)(Object(T.a)({},e),{},{bgImg:null})}))},children:"\u5bfc\u5165\u56fe\u7247"})]}),Object(j.jsxs)(_e.a,{type:"primary",size:"large",className:"ml-2 w-24",onClick:function(){return l(u)},children:[Object(j.jsx)("input",{type:"file",id:"avatar",accept:"image/png, image/jpeg, image.jpg",hidden:!0,onChange:b,ref:a}),Object(j.jsx)("label",{htmlFor:"avatar",className:"cursor-pointer",children:"\u4e0a\u4f20\u6587\u4ef6"})]})]})},_t=function(){var e=de(),t=e.config,n=e.canvasRef,i=e.canvas2Ref;return Object(j.jsxs)("div",{className:"flex w-full p-8 pt-24 justify-between",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(Gt,{}),Object(j.jsx)(Rt,{}),Object(j.jsxs)("div",{className:"flex border border-gray-500",style:{cursor:"cell",boxShadow:"0px 0px 10px rgba(225,225,225,0.3)"},children:[(null===t||void 0===t?void 0:t.bgImg)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ye,{canvasRef:n,showBgImg:!0,className:"bg-transparent z-50"}),Object(j.jsx)(Oe,{img:null===t||void 0===t?void 0:t.bgImg,sizeGrid:null===t||void 0===t?void 0:t.sizeGrid})]}),Object(j.jsx)(ye,{canvasRef:i,showGridColor:!0,style:{backgroundColor:t.bgColor}})]})]}),Object(j.jsx)(Nt,{})]})},Ft=[{name:"\u63a7\u5236\u53f0",path:"/action",component:function(){var e=Object(k.f)().address,t=Object(p.g)().search,n=(t&&t.split("=")[1],G().userInfo),i=X(),a=(Object(p.h)(),function(){var e=Object(k.f)().address,t=Object(p.g)().search,n=t?t.split("=")[1]:e,i=G(),a=i.materialList,r=i.userInfo;return Object(f.useMemo)((function(){var e,t=[],i=[];return Object(v.map)(a,(function(a){var s,o,l,d,c=n===(null===a||void 0===a||null===(s=a.material)||void 0===s?void 0:s.owner);(null===a||void 0===a||null===(o=a.material)||void 0===o?void 0:o.id)===(null===r||void 0===r?void 0:r.id)?e=a:c?i.push(a):"0"!==(null===a||void 0===a||null===(l=a.baseInfo)||void 0===l?void 0:l.userId)&&"0"!==(null===a||void 0===a||null===(d=a.material)||void 0===d?void 0:d.id)&&t.push(a)})),{noCollectionList:t,avater:e,colectionList:[],onwerList:i}}),[a,r])}()),r=a.noCollectionList,s=a.avater,o=a.colectionList,l=a.onwerList,d=h.a.useMemo((function(){var e;return null===s||void 0===s||null===(e=s.composeData)||void 0===e||e.push(s),s}),[null===s||void 0===s?void 0:s.composeData]),c=Object(f.useMemo)((function(){if(Object(v.isEmpty)(null===d||void 0===d?void 0:d.composeData))return"empty";var e={};Object(v.map)(null===d||void 0===d?void 0:d.composeData,(function(t){var n;if(null===t||void 0===t||null===(n=t.baseInfo)||void 0===n?void 0:n.data){var a,r=i({positions:null===t||void 0===t||null===(a=t.baseInfo)||void 0===a?void 0:a.data});e=Object(T.a)(Object(T.a)({},e),r)}}));var t={};for(var n in e)t[e[n]]?t[e[n]].push(Number(n)):t[e[n]]=[Number(n)];var a="";for(var r in t){var s=Object(v.map)(t[r],(function(e){return(e-1).toString(36)})).join("|");a+="".concat(parseInt(r.slice(1),16).toString(36),"-").concat(s,"-")}return"".concat(a).concat(1)}),[null===d||void 0===d?void 0:d.composeData]);return Object(j.jsx)(ce,{size:480,showGrid:null===n||void 0===n?void 0:n.withGrid,data:{positions:c,size:"large",bgColor:null===n||void 0===n?void 0:n.bgColor,gridColor:null===n||void 0===n?void 0:n.gridColor},children:Object(j.jsxs)("div",{className:"flex justify-between bg-transparent flex-1 pt-20",children:[Object(j.jsx)(Dt,{avater:s,colectionList:o,onwerList:l}),Object(j.jsx)(Lt,{}),Object(j.jsx)(Et,{noCollectionList:r})]})})}},{name:"\u4f5c\u574a",path:"/produced",component:function(){return Object(j.jsx)(ce,{size:480,showGrid:!0,handDraw:!0,data:{positions:[],size:"large",bgColor:"transparent",gridColor:"rgba(225,225,225,0.7)"},children:Object(j.jsx)(_t,{})})}},{name:"\u50a8\u7269\u67dc",path:"/lockers",component:function(){var e=G().materialList,t=Object(B.b)(),n=t.searchString,i=t.setSearchString,a=Object(f.useState)(""),r=Object(m.a)(a,2),s=r[0],o=r[1];return Object(f.useEffect)((function(){o(null===n||void 0===n?void 0:n.createID)}),[null===n||void 0===n?void 0:n.createID]),Object(j.jsx)("main",{className:"pt-20",children:Object(j.jsxs)("div",{className:"m-auto p-6 rounded-md w-5/6",style:{background:"rgba(225,225,225, 0.05)",height:"calc(100vh - 90px)",color:"rgba(225, 225, 225, 0.8)",minWidth:1200},children:[Object(j.jsxs)("div",{className:"mb-4 flex justify-between",children:[Object(j.jsx)("div",{className:"text-2xl",children:"\u50a8\u7269\u5ba4"}),Object(j.jsx)(at,{})]}),Object(j.jsx)(Ot,{data:e,styleCSS:{height:"calc(100vh - 200px)"},children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"flex flex-wrap overflow-scroll",style:{height:"calc(100vh - 200px)"},children:Object(v.map)(e,(function(e,t){var n,i;return"0"===(null===e||void 0===e||null===(n=e.baseInfo)||void 0===n?void 0:n.userId)&&"0"===(null===e||void 0===e||null===(i=e.material)||void 0===i?void 0:i.id)?null:Object(j.jsx)(gt,{item:e},"".concat(t))}))})})}),!(null===n||void 0===n?void 0:n.id)&&!Object(v.isEmpty)(e)&&Object(j.jsx)("div",{className:"flex justify-center mt-2",children:Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)($e.a,{style:{width:100,marginLeft:10,marginRight:10},size:"small",allowClear:!0,placeholder:"\u8df3\u8f6c\u81f3ID",value:s,onPressEnter:function(){i(Object(T.a)(Object(T.a)({},n),{},{createID:s}))},onChange:function(e){var t;o(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}}),(null===e||void 0===e?void 0:e.length)>=10&&Object(j.jsx)(Tt.a,{className:"cursor-pointer mx-4",onClick:function(){var t,a,r,s,o=Object(T.a)(Object(T.a)({},n),{},{createID:(null===(t=Object(v.last)(e))||void 0===t||null===(a=t.material)||void 0===a?void 0:a.id)?String(Number(null===(r=Object(v.last)(e))||void 0===r||null===(s=r.material)||void 0===s?void 0:s.id)-1):""});i(o)}})]})})]})})}},{name:"\u9996\u9875",path:"/",component:Ge}],$t=function(){return Object(j.jsxs)(p.c,{children:[Object(v.map)(Ft,(function(e){return Object(j.jsx)(p.a,{path:null===e||void 0===e?void 0:e.path,component:e.component},e.path)})),Object(j.jsx)(p.a,{exact:!0,component:Ge})]})},Vt=n(1237),qt=n(1243),Ut=n(1235),Ht=[{contractName:"PMT721",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exits",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"setMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],chainId:"42",address:"0x96688f74507649170110d1F29884179ab4aD1b7B",frame:"hardhat",netName:"kovan"},{contractName:"PixelsMetaverse",abi:[{inputs:[{internalType:"address",name:"pmt721",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"avater",type:"uint256"}],name:"AvaterEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fromID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toID",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"id",type:"uint256[]"},{indexed:!1,internalType:"bool",name:"isAdd",type:"bool"}],name:"ComposeEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"time",type:"string"},{indexed:!1,internalType:"string",name:"position",type:"string"},{indexed:!1,internalType:"string",name:"zIndex",type:"string"},{indexed:!1,internalType:"string",name:"decode",type:"string"},{indexed:!1,internalType:"uint256",name:"sort",type:"uint256"}],name:"ConfigEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"bytes32",name:"dataBytes",type:"bytes32"}],name:"DataOwnerEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"uint256",name:"dataID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"configID",type:"uint256"},{indexed:!1,internalType:"string",name:"rawData",type:"string"},{indexed:!1,internalType:"bool",name:"remake",type:"bool"}],name:"MaterialEvent",type:"event"},{inputs:[{internalType:"uint256",name:"ids",type:"uint256"},{internalType:"uint256[]",name:"idList",type:"uint256[]"}],name:"addition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"avater",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"idList",type:"uint256[]"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"}],name:"compose",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"dataOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"handleTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"rawData",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"make",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"material",outputs:[{internalType:"uint256",name:"composed",type:"uint256"},{internalType:"bytes32",name:"dataBytes",type:"bytes32"},{internalType:"bool",name:"remake",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"num",type:"uint256"}],name:"reMake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"setAvater",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"},{internalType:"uint256",name:"sort",type:"uint256"}],name:"setConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataBytes",type:"bytes32"},{internalType:"address",name:"to",type:"address"}],name:"setDataOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"ids",type:"uint256"},{internalType:"uint256[]",name:"idList",type:"uint256[]"}],name:"subtract",outputs:[],stateMutability:"nonpayable",type:"function"}],chainId:"42",address:"0xe9b1Fb1B42C59aC6e660dAeCDe374505a1F0E75A",frame:"hardhat",netName:"kovan"},{contractName:"PMT721",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exits",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"setMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],chainId:"31337",address:"0xa513E6E4b8f2a923D98304ec87F64353C4D5C853",frame:"hardhat",netName:"localhost"},{contractName:"PixelsMetaverse",abi:[{inputs:[{internalType:"address",name:"pmt721",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"avater",type:"uint256"}],name:"AvaterEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"uint256",name:"beforeFatherID",type:"uint256"},{indexed:!0,internalType:"uint256",name:"afterFatherID",type:"uint256"}],name:"ComposeEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"time",type:"string"},{indexed:!1,internalType:"string",name:"position",type:"string"},{indexed:!1,internalType:"string",name:"zIndex",type:"string"},{indexed:!1,internalType:"string",name:"decode",type:"string"},{indexed:!1,internalType:"uint256",name:"sort",type:"uint256"}],name:"ConfigEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"dataBytes",type:"bytes32"},{indexed:!1,internalType:"string",name:"rawData",type:"string"},{indexed:!1,internalType:"uint256",name:"dataID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"configID",type:"uint256"},{indexed:!1,internalType:"bool",name:"remake",type:"bool"}],name:"MaterialEvent",type:"event"},{inputs:[{internalType:"uint256",name:"ids",type:"uint256"},{internalType:"uint256[]",name:"idList",type:"uint256[]"}],name:"addition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"avater",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"baseInfo",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"rawData",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"idList",type:"uint256[]"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"}],name:"compose",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"handleTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"rawData",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"make",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"material",outputs:[{internalType:"uint256",name:"composed",type:"uint256"},{internalType:"bytes32",name:"dataBytes",type:"bytes32"},{internalType:"bool",name:"remake",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"num",type:"uint256"}],name:"reMake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"setAvater",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"time",type:"string"},{internalType:"string",name:"position",type:"string"},{internalType:"string",name:"zIndex",type:"string"},{internalType:"string",name:"decode",type:"string"},{internalType:"uint256",name:"sort",type:"uint256"}],name:"setConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"ids",type:"uint256"},{internalType:"uint256[]",name:"idList",type:"uint256[]"}],name:"subtract",outputs:[],stateMutability:"nonpayable",type:"function"}],chainId:"31337",address:"0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6",frame:"hardhat",netName:"localhost"}],Jt=new Vt.a({uri:"https://api.thegraph.com/subgraphs/id/QmbuqjhEAzeU1hG9fn2tCEJwmj8FiQvax5rsb9CzZmj4mS",cache:new qt.a}),Wt=function(){var e=Object(p.g)().pathname,t=Object(k.f)().library,n=x(),i=n.openLoading,a=n.closeDelayLoading;return Object(j.jsx)(k.a,{library:t,abis:Ht,transactionHook:{onSuccessBefore:function(){i()},onSuccess:function(){a()},onFail:function(){a()}},children:Object(j.jsx)(re,{library:t,children:Object(j.jsxs)(V,{children:["/"!==e&&Object(j.jsx)(ke,{}),Object(j.jsx)($t,{}),Object(j.jsx)(w,{})]})})})},Kt=function(){return Object(j.jsx)("div",{className:"relative bg-white overflow-hidden",style:{minWidth:1400,minHeight:600},children:Object(j.jsx)("div",{className:"relative w-full h-full min-h-screen mx-auto bg-no-repeat md:bg-contain bg-cover bg-gray-900",style:{backgroundImage:"url(".concat(Me,")")},children:Object(j.jsx)(Ut.a,{client:Jt,children:Object(j.jsx)(k.b,{children:Object(j.jsx)(O,{children:Object(j.jsx)(Wt,{})})})})})})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1256)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))},Yt=n(114),Qt=n(259),Zt=n(618),en=n(613),tn=n(614),nn={cn:{translation:n(615)},en:{translation:en},hk:{translation:tn}};Te.a.use(Zt.a).use(Qt.e).init({resources:nn,fallbackLng:"cn",interpolation:{escapeValue:!1},detection:{caches:["localStorage","sessionStorage","cookie"]}});Te.a;u.a.render(Object(j.jsx)(Yt.a,{children:Object(j.jsx)(Kt,{})}),document.getElementById("root")),Xt()},602:function(e){e.exports=JSON.parse('{"31337":[{"name":"localhost","chainId":"31337","contracts":{"Avater":{"address":"0x5FbDB2315678afecb367f032d93F642f64180aa3","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"pmt721","type":"address"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"chainID","type":"uint256"}],"name":"AvaterEvent","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"avater","outputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"chainID","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"isAvater","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"chainID","type":"uint256"}],"name":"setAvater","outputs":[],"stateMutability":"nonpayable","type":"function"}]},"PixelsMetaverse":{"address":"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512","abi":[{"inputs":[{"internalType":"address","name":"_avater","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"indexed":false,"internalType":"struct PixelsMetaverse.PMTStruct","name":"toItem","type":"tuple"},{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"indexed":false,"internalType":"struct PixelsMetaverse.PMTStruct[]","name":"list","type":"tuple[]"},{"indexed":false,"internalType":"bool","name":"isAdd","type":"bool"}],"name":"ComposeEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pmt721","type":"address"},{"indexed":true,"internalType":"uint256","name":"pmt721_id","type":"uint256"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"time","type":"string"},{"indexed":false,"internalType":"string","name":"position","type":"string"},{"indexed":false,"internalType":"string","name":"zIndex","type":"string"},{"indexed":false,"internalType":"string","name":"decode","type":"string"},{"indexed":false,"internalType":"uint256","name":"sort","type":"uint256"}],"name":"ConfigEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"bytes32","name":"dataBytes","type":"bytes32"}],"name":"DataOwnerEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"pmt721","type":"address"},{"indexed":false,"internalType":"uint256","name":"pmt721_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"dataID","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"configID","type":"uint256"},{"indexed":false,"internalType":"string","name":"rawData","type":"string"},{"indexed":false,"internalType":"bool","name":"remake","type":"bool"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"MaterialEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pmt721","type":"address"},{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"PMT721Event","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"PMT721Minter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_materialId","type":"uint256"},{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"internalType":"struct PixelsMetaverse.PMTStruct[]","name":"list","type":"tuple[]"}],"name":"addition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"avater","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"internalType":"struct PixelsMetaverse.PMTStruct[]","name":"list","type":"tuple[]"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"time","type":"string"},{"internalType":"string","name":"position","type":"string"},{"internalType":"string","name":"zIndex","type":"string"},{"internalType":"string","name":"decode","type":"string"}],"name":"compose","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"composes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"_minter","type":"address"}],"name":"createPMT721","outputs":[{"internalType":"address","name":"pmt721","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"dataOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"name":"getMaterial","outputs":[{"internalType":"bytes32","name":"d","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"handleTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"rawData","type":"string"},{"internalType":"string","name":"time","type":"string"},{"internalType":"string","name":"position","type":"string"},{"internalType":"string","name":"zIndex","type":"string"},{"internalType":"string","name":"decode","type":"string"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"make","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"material","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"materialId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"materialIdToPmt721","outputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"newPMT721","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"pmt721ToMaterialId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"toPmt721","type":"address"},{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"reMake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"time","type":"string"},{"internalType":"string","name":"position","type":"string"},{"internalType":"string","name":"zIndex","type":"string"},{"internalType":"string","name":"decode","type":"string"},{"internalType":"uint256","name":"sort","type":"uint256"}],"name":"setConfig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataBytes","type":"bytes32"},{"internalType":"address","name":"to","type":"address"}],"name":"setDataOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pmt721","type":"address"},{"internalType":"address","name":"_minter","type":"address"}],"name":"setMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"internalType":"struct PixelsMetaverse.PMTStruct","name":"item","type":"tuple"},{"components":[{"internalType":"address","name":"pmt721","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"internalType":"struct PixelsMetaverse.PMTStruct[]","name":"list","type":"tuple[]"}],"name":"subtract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pmt721From","type":"address"},{"internalType":"address","name":"pmt721To","type":"address"},{"internalType":"uint256","name":"pmt721_id","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}}}]}')},613:function(e){e.exports=JSON.parse('{"home":{"title":"\u9996\u9875meiguo","content":"\u6211\u662f\u9996\u9875meiguo"},"about":{"title":"\u5173\u4e8e\u6211\u4eecmeiguo","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eecmeiguo"}}')},614:function(e){e.exports=JSON.parse('{"home":{"title":"\u9996\u9875xianggang","content":"\u6211\u662f\u9996\u9875xianggang"},"about":{"title":"\u5173\u4e8e\u6211\u4eecxianggang","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eecxianggang"}}')},615:function(e){e.exports=JSON.parse('{"common":{"home":"\u9996\u9875","stars":"\u6536\u85cf\u5939"},"header":{"title":"\u50cf\u7d20\u5143\u5b87\u5b99","play":"\u9996\u9875","producted":"\u4f5c\u574a","lockers":"\u50a8\u7269\u5ba4","person":"\u4e2a\u4eba\u4e2d\u5fc3","connect":"\u8fde\u63a5\u94b1\u5305","disConnect":"\u65ad\u5f00\u8fde\u63a5","lang":"\u5207\u6362\u8bed\u8a00","search":"\u67e5\u8be2","pleaseInputAddress":"\u8bf7\u8f93\u5165\u7528\u6237\u94b1\u5305\u5730\u5740/TOKEN ID"},"footer":{"tab":"\u9996\u9875","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eec"},"home":{"title":"\u9996\u9875","content":"\u6211\u662f\u9996\u9875","webcome":"\u8fd9\u91cc\u662f\u50cf\u7d20\u5143\u5b87\u5b99\uff0c\u4e00\u4e2a\u5df2\u7ecf\u521b\u4e16\u4f46\u662f\u8fd8\u6ca1\u6709\u88ab\u7ed8\u5236\u7684\u4e16\u754c\uff01\u7b49\u5f85\u7740\u6211\u4eec\u53bb\u5efa\u9020\uff0c\u4f60\u51c6\u5907\u597d\u4e86\u5417\uff01\u6211\u7684\u5c11\u5e74\uff01\u8ba9\u6211\u4eec\u4e00\u8d77\u5728\u50cf\u7d20\u7684\u4e16\u754c\u91cc\u9068\u6e38\u5427\uff01\u50cf\u7d20\u5143\u5b87\u5b99\uff0c\u6211\u4eec\u6765\u5566\uff01","started":"\u5f00\u59cb"},"play":{"tab":"\u9996\u9875","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eec","starMore":"\u53bb\u6536\u85cf\u66f4\u591a"},"lockers":{"tab":"\u9996\u9875","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eec"},"producted":{"tab":"\u9996\u9875","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eec"},"person":{"tab":"\u9996\u9875","content":"\u6211\u662f\u5173\u4e8e\u6211\u4eec"}}')},640:function(e,t,n){},641:function(e,t,n){},665:function(e,t){},668:function(e,t){},672:function(e,t){},697:function(e,t){},699:function(e,t){},710:function(e,t){},712:function(e,t){},841:function(e,t){},870:function(e,t){},872:function(e,t){},879:function(e,t){},880:function(e,t){},904:function(e,t){},911:function(e,t){},965:function(e,t){}},[[1204,1,2]]]);
//# sourceMappingURL=main.4c498d2f.chunk.js.map