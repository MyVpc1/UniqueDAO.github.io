{"version":3,"sources":["helpers/utilities.tsx","react-pixels-metaverse/src/utilities/radix.ts","components/Loading.tsx","gql/index.ts","components/UserProvider.tsx","react-pixels-metaverse/src/hook/canvas.tsx","react-pixels-metaverse/src/PixelsMetaversProvider.tsx","react-pixels-metaverse/src/utilities/position.ts","react-pixels-metaverse/src/PixelsMetaverseHandleImgProvider.tsx","react-pixels-metaverse/src/PixelsMetaversImg.tsx","react-pixels-metaverse/src/utilities/index.ts","react-pixels-metaverse/src/slic/index.ts","react-pixels-metaverse/src/SlicImg.ts","react-pixels-metaverse/src/CanvasSlicImg.tsx","components/Header.tsx","assets/image/bg.svg","eos-api/config.ts","eos-api/fetch.ts","pages/home/index.tsx","client/PixelsMetaverse.tsx","pages/lockers/components/ComposeDetails.tsx","pages/lockers/components/SearchQuery.tsx","components/Card.tsx","pages/lockers/components/MaterialCard.tsx","components/DataStateBox.tsx","pages/produced/components/Submit.tsx","components/AvatarCard.tsx","pages/play/components/PersonCenter.tsx","pages/play/components/Avatar.tsx","pages/play/components/Collections.tsx","pages/produced/components/Controller.tsx","pages/produced/components/UploadImg.tsx","pages/produced/index.tsx","routes/index.tsx","pages/play/index.tsx","pages/lockers/index.tsx","client/abis.ts","App.tsx","reportWebVitals.js","i18n/config.ts","index.js"],"names":["ellipseAddress","address","width","slice","throttle","chainId","message","warning","useQueryString","search","useLocation","history","useHistory","setSearchString","useCallback","obj","str","i","push","getSearchObj","queryArray","split","map","query","temp","length","searchString","useMemo","char","cha1","stringRadixDeal","strNumber","beforeRadix","afterRadix","strRadix","string10ToOtherRadix","String","stringOtherRadixTo10","error","console","res","BigInt","len","radixBig","chars","count","pow","eval","Math","miNum","indexOf","radix","qutient","arr","mod","unshift","Number","join","LoadingContext","React","useLoading","LoadingProvider","children","loading","setLoading","closeDelayLoading","debounce","Provider","value","openLoading","closeLoading","Loading","show","setShow","timer","setTimeout","clearTimeout","id","className","onClick","AVATER_LIST","gql","COMPOSE_LIST","MATERIAL_LEN_LIST","MATERIAL_ALL_LIST","MATERIAL_ID_LIST","MATERIAL_ADDRESS_LIST","MATERIAL_ADDRESS_ID_LIST","UserInfoContext","createContext","useUserInfo","useContext","convertedData","item","composes","material","compose","composed","time","position","zIndex","owner","data","dataBytes","baseInfo","rawData","category","decode","name","config","userId","composeData","useMaterialObj","list","isEmpty","keyBy","items","fun","ite","getData","useGetData","materials","getComposes","useQuery","variables","ids","skip","useComposeList","mergeList","materialObj","UserInfoProvider","useState","materialId","setMaterialId","composeList","setComposeList","useWeb3Info","contracts","useContractRequest","smallLoading","SmallLoading","props","size","color","style","height","background","setSmallLoading","useSmallLoading","addresss","getAvater","toLowerCase","userInfo","avaters","avater","createID","getMaterialLens","tokenID","useCreateID","getMaterials","type","setType","useEffect","getAllMaterials","first","orderDirection","pollInterval","getAddressMaterials","getIdMaterials","getAddressAndIdMaterials","useQueryMaterials","undefined","materialList","materialListObj","stopPolling","contract","on","startPolling","_","refetch","add","toString","isAdd","useDisplayGrad","context","withGrid","strokeStyle","gridColor","imgSize","sizeGrid","beginPath","moveTo","lineTo","stroke","useSetCanvasSize","canvas","useClearCanvas","clearRect","useDrawImgColor","sort","x","y","ceil","fillStyle","fillRect","useConvertedPostion","positions","positionObj","postionStr","min","parseInt","k","numArr","j","useGetPositionStr","outfitEdList","convertedPostion","positionsData","colors","PixelsMetaverseContext","PixelsMetaverseContextProvider","library","networkId","setNetworkId","setContract","etherContract","setEtherContract","getContract","a","PixelsMetaverseContract","subscribeProvider","provider","Web3","currentProvider","eth","getChainId","then","getNetwork","net","positionToGrad","point","gradToSort","grad","PixelsMetaverseHandleImgContext","usePixelsMetaverseHandleImg","PixelsMetaverseHandleImgProvider","showGrid","handDraw","bgImg","bgImgUp","bgColor","isHandDraw","setConfig","selectList","setSelectList","setPositions","positionsArr","setPositionsArr","canvasRef","useRef","canvas2Ref","dealClick","setValue","num","pre","remove","cloneDeep","clear","useDealClick","getGradPosition","event","pageX","offsetLeft","pageY","offsetTop","getPositionData","selectData","PixelsMetaverseImgByPositionData","getPositionStr","materialData","postionData","includes","showGridColor","backgroundColor","PixelsMetaverseHandleImg","showBgImg","clickCanvas","current","getContext","getImageData","rgba","ponitColor","test","strHex","colorArr","replace","hex","get16Color","drawColor","e","onDoubleClick","positionss","positionssIndex","splice","doubleClickCanvas","PixelsMetaverseCanvas","setSize","setGrad","drawPixelsImg","clearCanvas","ref","SLIC","imageArray","this","rgbImage","Uint8ClampedArray","from","Array","sR","sG","sB","r","g","b","fx","fy","R","G","B","epsilon","kappa","xr","yr","zr","l","sL","sA","ctx","random","centers","dx8","dy8","contours","istaken","linearray","nr_p","clusterID","hpos","wpos","min_grad","MAX_VALUE","loc_min","i1","i2","i3","sqrt","abs","centerPos","pixX","pixY","center","dc","ds","weight","step","findLocalMinimum","iters","distances","m","n","d","computeDist","oldcenters","JSON","parse","stringify","ele","c","index","document","getElementById","floor","row","stride","col","resultImage","startj","startk","counts","centerpos","max","MIN_VALUE","pos","labColor","rgb2lab","computePixel","pickPixel","blockSize","loadProduced","pixelImage","slic","img","withCenters","withContours","drawImage","binaryData","nr_superpixels","round","pixelDeal","imgData","createImageData","putImageData","lineWidth","displayImg","dealImg","CanvasSlicImg","drawImg","canvas2","imgURL","toDataURL","Image","src","onload","left","top","nav","label","path","Header","memo","connected","killSession","toConnect","chainData","useTranslation","t","pathname","params","parmasString","substring","URLSearchParams","useQueryParams","setInputStr","get","localStorage","JsSignatureProvider","require","network","signatureProvider","url","rpc","JsonRpc","api","Api","pushAction","actor","permission","action","transact","actions","account","authorization","blocksBehind","expireSeconds","result","Website","print","text","dom","typing","innerHTML","content","getItem","transaction_id","setItem","addition","arg","idList","methods","send","sendAccount","addressParams1","convertedBigNumber","call","make","bytes32Params1","dataOwner","to","handleTransfer","setAvater","uint256Params1","reMake","subtract","setDataOwner","TabPane","Select","Option","Tabs","Label","noNeed","ComposeDetails","setIsModalVisible","tab","setTab","setMerchandies","useRequest","isGlobalTransactionHookValid","onSuccess","onTransactionSuccess","success","composeFun","singles","composesData","it","checkData","warn","isUser","cursor","boxShadow","marginRight","defaultActiveKey","centered","onChange","key","isNaN","Input","placeholder","CreateMaterial","maxLength","target","MergeMaterial","Group","marginTop","SearchQuery","isModalVisible","setFilter","trim","disabled","title","okText","cancelText","visible","footer","onCancel","marginLeft","allowClear","onPressEnter","val","lastStr","last2Str","Text","Typography","RemoveCompose","substract","SetAvater","setAvaterFun","DetailsBody","child","maxWidth","copyable","icon","CopyOutlined","SmileOutlined","tooltips","MaterialTreeData","select","setSelect","treeData","setTreeData","nodeData","node","childNode","find","minWidth","showLine","defaultExpandedKeys","onSelect","selectedKeys","Details","MaterialLabel","toRight","toDetails","Composes","checked","MaterialCard","Paragraph","isBigImg","setIsBigImg","margin","user","fontSize","textOverflow","overflow","el","createElement","setAttribute","body","appendChild","setSelectionRange","execCommand","removeChild","copyToClipboard","bodyStyle","padding","closable","DataStateBox","styleCSS","classCSS","emptyDesc","image","Empty","PRESENTED_IMAGE_SIMPLE","description","mustNum","parseFloat","categoryData","Submit","positionData","setPostionData","onSuccessBefore","onFail","makeFun","handleOk","colorsObj","colorsArrBySort","keys","onOk","AvatarCard","star","PersonCenter","colectionList","onwerList","Avatar","Collections","noCollectionList","Controller","placement","AppstoreOutlined","ClearOutlined","DeleteOutlined","ExclamationCircleOutlined","UploadImg","filedomRef","setSrc","setUrl","fileOnChange","filedom","files","file","match","reader","FileReader","bytes","readAsDataURL","crossOrigin","onLoadImg","outline","borderTopLeftRadius","borderBottomLeftRadius","accept","hidden","htmlFor","ProducedCore","routes","component","useParams","isCurAddress","useGetPersonData","avaterData","setCreateID","last","Routes","exact","abis","client","ApolloClient","uri","cache","InMemoryCache","Main","transactionHook","App","minHeight","backgroundImage","bgSvg","ApolloProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","resources","cn","translation","en","hk","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","detection","caches","ReactDOM","render"],"mappings":"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","file":"static/js/main.4c498d2f.chunk.js","sourcesContent":["import * as ethUtil from \"ethereumjs-util\";\nimport { message } from \"antd\";\nimport { Dictionary, keys, throttle } from \"lodash\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useCallback, useMemo } from \"react\";\n\nexport function capitalize(string: string): string {\n  return string\n    .split(\" \")\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(\" \");\n}\n\nexport function ellipseText(\n  text: string = \"\",\n  maxLength: number = 9999\n): string {\n  if (text.length <= maxLength) {\n    return text;\n  }\n  const _maxLength = maxLength - 3;\n  let ellipse = false;\n  let currentLength = 0;\n  const result =\n    text\n      .split(\" \")\n      .filter(word => {\n        currentLength += word.length;\n        if (ellipse || currentLength >= _maxLength) {\n          ellipse = true;\n          return false;\n        } else {\n          return true;\n        }\n      })\n      .join(\" \") + \"...\";\n  return result;\n}\n\nexport function ellipseAddress(\n  address: string = \"\",\n  width: number = 8\n): string {\n  return `${address.slice(0, width)}...${address.slice(-width)}`;\n}\n\nexport function padLeft(n: string, width: number, z?: string): string {\n  z = z || \"0\";\n  n = n + \"\";\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n}\n\nexport function sanitizeHex(hex: string): string {\n  hex = hex.substring(0, 2) === \"0x\" ? hex.substring(2) : hex;\n  if (hex === \"\") {\n    return \"\";\n  }\n  hex = hex.length % 2 !== 0 ? \"0\" + hex : hex;\n  return \"0x\" + hex;\n}\n\nexport function removeHexPrefix(hex: string): string {\n  return hex.toLowerCase().replace(\"0x\", \"\");\n}\n\nexport function getDataString(func: string, arrVals: any[]): string {\n  let val = \"\";\n  for (let i = 0; i < arrVals.length; i++) {\n    val += padLeft(arrVals[i], 64);\n  }\n  const data = func + val;\n  return data;\n}\n\nexport function isMobile(): boolean {\n  let mobile: boolean = false;\n\n  function hasTouchEvent(): boolean {\n    try {\n      document.createEvent(\"TouchEvent\");\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function hasMobileUserAgent(): boolean {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n        navigator.userAgent\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        navigator.userAgent.substr(0, 4)\n      )\n    ) {\n      return true;\n    } else if (hasTouchEvent()) {\n      return true;\n    }\n    return false;\n  }\n\n  mobile = hasMobileUserAgent();\n\n  return mobile;\n}\n\nexport const warning = throttle((chainId: number | string) => {\n  message.warning(`很遗憾，暂时不支持 Chain ID 为 ${chainId} 的链！`)\n}, 5000)\n\nexport function hashPersonalMessage(msg: string): string {\n  const buffer = Buffer.from(msg);\n  const result = ethUtil.hashPersonalMessage(buffer);\n  const hash = ethUtil.bufferToHex(result);\n  return hash;\n}\n\nexport function recoverPublicKey(sig: string, hash: string): string {\n  const sigParams = ethUtil.fromRpcSig(sig);\n  const hashBuffer = Buffer.from(hash.replace(\"0x\", \"\"), \"hex\");\n  const result = ethUtil.ecrecover(\n    hashBuffer,\n    sigParams.v,\n    sigParams.r,\n    sigParams.s\n  );\n  const signer = ethUtil.bufferToHex(ethUtil.publicToAddress(result));\n  return signer;\n}\n\nexport function recoverPersonalSignature(sig: string, msg: string): string {\n  const hash = hashPersonalMessage(msg);\n  const signer = recoverPublicKey(sig, hash);\n  return signer;\n}\n\nexport function isObject(obj: any): boolean {\n  return typeof obj === \"object\" && !!Object.keys(obj).length;\n}\n\n// 提供36位的表达 0-9 a-z\nexport function getNums(number: number) {\n  var nums = [];\n  for (var i = 0; i < number; i++) {\n    if (i >= 0 && i <= 9) {\n      nums.push(i)\n    } else {\n      nums.push(String.fromCharCode(i + 55));\n    }\n  }\n  return nums;\n}\n\nexport const useQueryString = () => {\n  const { search } = useLocation();\n  const history = useHistory()\n  const setSearchString = useCallback((obj) => {\n    let str = \"/lockers?\"\n    for (let i in obj) {\n      if (!obj[i]) continue\n      str += `${i}=${obj[i]}&`\n    }\n    history.push(str?.slice(0, -1))\n  }, []);\n\n  const getSearchObj = useCallback((str: string) => {\n    let queryArray = str.split('&');\n    const obj: Dictionary<string> = {};\n    queryArray.map((query) => {\n      let temp = query.split('=');\n      if (temp.length > 1) {\n        obj[temp[0]] = temp[1];\n      }\n      return query\n    })\n    return obj\n  }, [])\n\n  const searchString = useMemo(() => {\n    const str = search.slice(1);\n    return getSearchObj(str)\n  }, [search]);\n\n  return { searchString, setSearchString, getSearchObj }\n}","\nexport const char = `0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ/+)(*&^%$#@!{}><?;:\"~=.,[]'·¥|`\n// char和char1必须严格相等，不然解析后就会出问题\nexport const cha1 = `0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ/+)(*&^%$#@!{}><?;:\"~=.,[]'·¥|`\n\nexport const stringRadixDeal = (strNumber: string, beforeRadix: number, afterRadix: number) => {\n  let strRadix = \"\"\n  try {\n    if (beforeRadix === 10) {\n      strRadix = string10ToOtherRadix(strNumber, afterRadix)\n    } else if (afterRadix === 10) {\n      strRadix = String(stringOtherRadixTo10(strNumber, beforeRadix))\n    } else {\n      const get10Radix = String(stringOtherRadixTo10(strNumber, beforeRadix))\n      strRadix = string10ToOtherRadix(get10Radix, afterRadix)\n    }\n  } catch (error) {\n    console.error(error)\n  }\n  return strRadix\n}\n\n//将其他进制转换成10进制\nexport const stringOtherRadixTo10 = (strNumber: string, beforeRadix: number) => {\n  let res = BigInt(0), len = strNumber.length;\n  const radixBig = BigInt(beforeRadix)\n  const chars = char.slice(0, beforeRadix)\n\n  for (let i = 0; i < len; i++) {\n    const count = len - 1 - i\n    let pow = eval(\"(function(a,b){return a**b})\")\n    Math.pow = pow;\n    const miNum = radixBig ** BigInt(i)\n    res += BigInt(chars.indexOf(strNumber[count])) * miNum\n  }\n  return res;\n}\n\n//将10进制数转换成其他\nexport function string10ToOtherRadix(strNumber: string, afterRadix: number) {\n  if (strNumber.length === 2) return \"\"\n  let chars = char.slice(0, afterRadix).split(\"\"),\n    radix = BigInt(chars.length),\n    qutient = BigInt(strNumber),\n    arr = [];\n  do {\n    const mod = qutient % radix;\n    qutient = (qutient - mod) / radix;\n    arr.unshift(chars[Number(mod)]);\n  } while (qutient);\n  return arr.join('');\n}","import CloseCircleOutlined from \"@ant-design/icons/lib/icons/CloseCircleOutlined\";\nimport { debounce } from \"lodash\";\nimport * as React from \"react\";\n\nexport const LoadingContext = React.createContext(\n  {} as {\n    loading: any;\n    closeLoading: () => void;\n    openLoading: () => void;\n    closeDelayLoading: () => void;\n  },\n);\n\nexport const useLoading = () => React.useContext(LoadingContext);\n\nexport const LoadingProvider = ({ children }: { children: React.ReactNode }) => {\n  const [loading, setLoading] = React.useState<boolean>(false);\n\n  const openLoading = () => {\n    setLoading(true)\n  }\n\n  const closeDelayLoading = debounce(() => {\n    setLoading(false)\n  }, 1000)\n\n  const closeLoading = () => {\n    setLoading(false)\n  }\n\n  return (\n    <LoadingContext.Provider value={{ loading, openLoading, closeLoading, closeDelayLoading }}>\n      {children}\n    </LoadingContext.Provider>\n  )\n}\n\nexport const Loading = () => {\n  const { loading, closeLoading } = useLoading()\n  const [show, setShow] = React.useState(false)\n  React.useEffect(() => {\n    let timer: any;\n    if (loading) {\n      setTimeout(() => {\n        setShow(true)\n        clearTimeout(timer)\n      }, 2000)\n    }\n\n    return () => {\n      setShow(false)\n      clearTimeout(timer)\n    }\n  }, [loading])\n\n  return (\n    loading && <div id=\"loading\">\n      <div id=\"loading-center\">\n        <div id=\"loading-center-absolute\">\n          <div className=\"object\" id=\"object_four\"></div>\n          <div className=\"object\" id=\"object_three\"></div>\n          <div className=\"object\" id=\"object_two\"></div>\n          <div className=\"object\" id=\"object_one\"></div>\n        </div>\n        {show && <div id=\"close-loading\" onClick={closeLoading}><CloseCircleOutlined /></div>}\n        {show && <div id=\"close-text\" >上链以及获取速度较慢，请耐心等待哦。</div>}\n      </div>\n    </div>\n  );\n};\n\nexport const useSmallLoading = () => {\n  const [smallLoading, setSmallLoading] = React.useState(false);\n\n  const SmallLoading = (props: { size: number, color?: string }) => {\n    const { size, color = \"#165DFF\" } = props;\n    return (\n      smallLoading && <div className=\"small-loading\" style={{\n        width: size,\n        height: size,\n        background: `conic-gradient(from 114.04deg at 50% 50%, ${color} -3.75deg, rgba(22, 93, 255, 0) 331.83deg, ${color} 339.88deg, ${color} 356.25deg, rgba(22, 93, 255, 0) 691.83deg)`\n      }}></div>\n    )\n  }\n\n  return {\n    SmallLoading,\n    setSmallLoading,\n    smallLoading\n  }\n}","import { gql } from \"@apollo/client\"\n\nexport const AVATER_LIST = gql`\nquery($address:Bytes){\n        avaters(where: {id: $address} ) {\n        id\n        avater{\n          id\n          owner\n          rawData\n          remake\n          composed\n          composes\n          config{\n              id\n              name\n              time\n              position\n              zIndex\n              decode\n              sort\n          }\n        }\n      }\n    }\n  `;\n\nexport const COMPOSE_LIST = gql`\n  query($first: Int, $ids: [BigInt]) {\n    materials(\n      first: $first,\n      where: {\n        id_in: $ids\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}`\n\nexport const MATERIAL_LEN_LIST = gql`\nquery GetMaterialsLen {\n  materials(\n      first: 1,\n      orderBy: \"createID\", \n      orderDirection: \"desc\",\n      where: {\n        createID_not: \"0\"\n      }) {\n        id\n    }\n}`\n\nexport const MATERIAL_ALL_LIST = gql`\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: Bytes) {\n    materials(\n      first: $first,\n      orderBy: \"createID\", \n      orderDirection: $orderDirection,\n      where: {\n        composed: 0,\n        owner_not: \"0x0000000000000000000000000000000000000000\",\n        createID_lt: $createID,\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}`\n\nexport const MATERIAL_ID_LIST = gql`\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $id: [BigInt]) {\n    materials(\n      orderBy: \"createID\", \n      orderDirection: $orderDirection,\n      where: {\n        createID_lt: $createID,\n        id_in: $id\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}`\n\nexport const MATERIAL_ADDRESS_LIST = gql`\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: Bytes) {\n    materials(\n      first: $first,\n      orderBy: \"createID\", \n      orderDirection: $orderDirection,\n      where: {\n        createID_lt: $createID,\n        owner: $owner\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}`\n\nexport const MATERIAL_ADDRESS_ID_LIST = gql`\n  query($first: Int, $orderBy: String, $orderDirection: String, $createID: String, $owner: [Bytes], $id: BigInt) {\n    materials(\n      first: $first,\n      orderBy: \"createID\", \n      orderDirection: $orderDirection, \n      where: {\n        createID_gt: $createID,\n        id_in: $id,\n        owner: $owner\n      }) {\n        id\n        owner\n        rawData\n        remake\n        composed\n        composes\n        config{\n            id\n            name\n            time\n            position\n            zIndex\n            decode\n            sort\n        }\n    }\n}`","import React, { useCallback, useMemo } from \"react\";\nimport { Dictionary, isEmpty, keyBy, map } from \"lodash\";\nimport { ReactNode, useContext, useEffect, useState } from \"react\";\nimport { createContext, Dispatch } from \"react\";\nimport { MaterialItem } from \"./Card\";\nimport { useContractRequest, useReadContractRequest, useWeb3Info } from \"abi-to-request\";\nimport { useLoading, useSmallLoading } from \"./Loading\";\nimport { QueryResult, useQuery } from \"@apollo/client\";\nimport {\n  COMPOSE_LIST,\n  MATERIAL_ALL_LIST,\n  AVATER_LIST,\n  MATERIAL_ADDRESS_LIST,\n  MATERIAL_ADDRESS_ID_LIST,\n  MATERIAL_ID_LIST,\n  MATERIAL_LEN_LIST\n} from \"../gql\";\nimport { currentID } from \"../client/PMT721\";\nimport { useQueryString } from \"../helpers/utilities\";\nimport { BigNumber } from \"ethers\";\n\nexport const UserInfoContext = createContext(\n  {} as {\n    userInfo: any;\n    materialList: MaterialItem[];\n    materialId?: number;\n    getMaterials: QueryResult<any, {\n      first: number;\n      orderDirection: string;\n      createID: string;\n    }>;\n    setMaterialId: Dispatch<React.SetStateAction<number | undefined>>;\n    composeList: string[];\n    setComposeList: Dispatch<React.SetStateAction<string[]>>;\n    materialListObj: Dictionary<MaterialItem>;\n    setSmallLoading: React.Dispatch<React.SetStateAction<boolean>>;\n    SmallLoading: (props: {\n      size: number;\n      color?: string | undefined;\n    }) => JSX.Element\n  },\n);\n\nexport const useUserInfo = () => useContext(UserInfoContext);\n\nconst convertedData = (item: any) => {\n  return {\n    composes: item?.composes || [],\n    material: {\n      id: item?.id,\n      compose: item?.composed,\n      time: \"time\",\n      position: \"position\",\n      zIndex: \"zIndex\",\n      owner: item?.owner,\n      data: item?.dataBytes\n    },\n    baseInfo: {\n      data: item?.rawData,\n      category: \"category\",\n      decode: \"decode\",\n      name: item?.config?.name,\n      userId: \"userId\"\n    },\n    composeData: []\n  } as MaterialItem\n}\n\nconst useMaterialObj = (list: MaterialItem[]) => {\n  return useMemo(() => {\n    if (isEmpty(list)) return {} as Dictionary<MaterialItem>\n    const obj: Dictionary<MaterialItem> = keyBy(list, (item: MaterialItem) => item?.material?.id);\n    const getData = (items: MaterialItem) => {\n      const data: MaterialItem[] = []\n      const fun = (item: MaterialItem) => {\n        if (item?.composes?.length === 0) return\n        map(item?.composes, (ite: number) => {\n          if (obj[ite]) data.push(obj[ite])\n          fun(obj[ite])\n        })\n      }\n      fun(items)\n      return data\n    }\n    map(list, (item: MaterialItem) => {\n      const data = getData(item)\n      if (isEmpty(data)) obj[item?.material?.id].composeData = [item]\n      obj[item?.material?.id].composeData = data;\n    })\n    return obj as Dictionary<MaterialItem>\n  }, [list])\n}\n\nconst useMaterialAndCompose = (data: any[]) => {\n  return useMemo(() => {\n    if (!data?.length) return {\n      list: [],\n      composes: []\n    } as { list: MaterialItem[], composes: string[] }\n\n    const composes: string[] = []\n    const list = map(data, item => {\n      composes.push(...(item?.composes || []))\n      return convertedData(item)\n    })\n    return {\n      list,\n      composes\n    } as { list: MaterialItem[], composes: string[] }\n  }, [data])\n}\n\nconst useComposeList = (composes: string[]) => {\n  return useQuery(COMPOSE_LIST, {\n    variables: { ids: composes },\n    skip: composes?.length === 0\n  })\n}\n\nconst useGetData = (materials: any[]) => {\n  const { list, composes } = useMaterialAndCompose(materials);\n  const getComposes = useComposeList(composes);\n\n  const mergeList = useMemo(() => {\n    if (!list) return []\n    return [...list, ...map(getComposes?.data?.materials, item => convertedData(item))]\n  }, [getComposes?.data?.materials, list]);\n\n  const materialObj = useMaterialObj(mergeList);\n\n  return [list, materialObj] as const\n}\n\nexport type TQuery = {\n  owner?: string,\n  id?: string[],\n  createID: string,\n  pollInterval?: number\n}\n\n//没找到条件合并查询的例子和文档，如果后续找到了，则直接更换回来。\nconst useQueryMaterials = (variables: TQuery) => {\n  const [type, setType] = useState<string>(\"all\")\n  useEffect(() => {\n    if (variables?.owner && !variables?.id) setType(\"address\");\n    else if (variables?.id && !variables?.owner) setType(\"id\");\n    else if (variables?.id && variables?.owner) setType(\"address-id\");\n    else setType(\"all\");\n  }, [variables?.owner, variables?.id])\n\n  const getAllMaterials = useQuery(MATERIAL_ALL_LIST, {\n    variables: {\n      first: 10,\n      orderDirection: 'desc',\n      createID: variables?.createID\n    },\n    skip: type !== \"all\" || !variables?.createID,\n    pollInterval: variables?.pollInterval || 0\n  })\n\n  const getAddressMaterials = useQuery(MATERIAL_ADDRESS_LIST, {\n    variables: {\n      first: 10,\n      orderDirection: 'desc',\n      createID: variables?.createID,\n      owner: variables?.owner\n    },\n    skip: type !== \"address\" || !variables?.createID,\n    pollInterval: variables?.pollInterval || 0\n  })\n\n  const getIdMaterials = useQuery(MATERIAL_ID_LIST, {\n    variables: {\n      first: 10,\n      orderDirection: 'desc',\n      createID: variables?.createID,\n      id: variables?.id\n    },\n    skip: type !== \"id\" || !variables?.createID,\n    pollInterval: variables?.pollInterval || 0\n  })\n\n  const getAddressAndIdMaterials = useQuery(MATERIAL_ADDRESS_ID_LIST, {\n    variables: {\n      first: 10,\n      orderDirection: 'desc',\n      createID: variables?.createID,\n      owner: variables?.owner,\n      id: variables?.id\n    },\n    skip: type !== \"address-id\" || !variables?.createID,\n    pollInterval: variables?.pollInterval || 0\n  })\n\n  const getMaterials = useMemo(() => {\n    if (variables?.owner && !variables?.id) return getAddressMaterials;\n    if (variables?.id && !variables?.owner) return getIdMaterials;\n    if (variables?.id && variables?.owner) return getAddressAndIdMaterials;\n    else return getAllMaterials;\n  }, [variables, getAllMaterials, getAddressMaterials, getIdMaterials, getAddressAndIdMaterials])\n\n  return getMaterials\n}\n\nexport const useCreateID = () => {\n  const getMaterialLens = useQuery(MATERIAL_LEN_LIST);\n  const tokenID = useMemo(() => getMaterialLens?.data?.materials ? getMaterialLens?.data?.materials[0]?.id : {}, [getMaterialLens?.data?.materials])\n  const { searchString } = useQueryString();\n\n  return useMemo(() => {\n    const createID = searchString?.createID ? Number(searchString?.createID) + 1 : (tokenID ? Number(tokenID) + 1 : tokenID)\n    return createID ? String(createID) : \"\"\n  }, [searchString, tokenID])\n}\n\nexport const UserInfoProvider = ({ children }: { children: ReactNode }) => {\n  const [materialId, setMaterialId] = useState<number | undefined>();\n  const [composeList, setComposeList] = React.useState<string[]>([])\n  const { openLoading, closeDelayLoading } = useLoading();\n  const { address, chainId } = useWeb3Info();\n  const { searchString } = useQueryString();\n  const { contracts } = useContractRequest()\n  const { setSmallLoading, SmallLoading } = useSmallLoading()\n\n  //const str = window?.location?.hash?.split(\"?\")\n  //const searchInit = useMemo(() => str[1] ? getSearchObj(window?.location?.hash?.split(\"?\")[1]) : {}, [])\n  //console.log(searchInit)\n\n  const addresss = searchString?.address || address\n  const getAvater = useQuery(AVATER_LIST, { variables: { address: addresss?.toLowerCase() }, skip: !addresss });\n  const userInfo = useMemo(() => getAvater?.data?.avaters ? getAvater?.data?.avaters[0]?.avater : {}, [getAvater?.data?.avaters])\n  const createID = useCreateID();\n\n  const getMaterials = useQueryMaterials({\n    createID,\n    owner: searchString?.owner || \"\",\n    id: searchString?.id ? searchString?.id?.split(\",\") : undefined\n  })\n\n  useEffect(() => {\n    if (getMaterials?.loading) openLoading()\n    else closeDelayLoading()\n  }, [getMaterials?.loading])\n\n  const [materialList, materialListObj] = useGetData(getMaterials?.data?.materials);\n\n  useEffect(() => {\n    getMaterials?.stopPolling()\n    setSmallLoading(false)\n  }, [materialList])\n\n  useEffect(() => {\n    const contract = contracts[\"PixelsMetaverse\"];\n    (contract as any)?.on(\"AvaterEvent\", (owner: string) => {\n      if (owner?.toLowerCase() === address?.toLowerCase()) {\n        getAvater.startPolling(1000);\n        setSmallLoading(true)\n      }\n    })\n  }, [contracts, address])\n\n  useEffect(() => {\n    const contract = contracts[\"PixelsMetaverse\"]\n    let timer: any = null;\n    (contract as any)?.on(\"MaterialEvent\", (_: string, id: BigNumber) => {\n      getMaterials.refetch({\n        ...getMaterials.variables,\n        createID: id?.add(1)?.toString()\n      })\n      if (timer) {\n        clearTimeout(timer)\n        getMaterials.stopPolling();\n      }\n      timer = setTimeout(() => {\n        getMaterials.startPolling(1000);\n        setSmallLoading(true)\n      }, 1000)\n    })\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [contracts])\n\n  useEffect(() => {\n    const contract = contracts[\"PixelsMetaverse\"];\n    let timer: any = null;\n    (contract as any)?.on(\"ComposeEvent\", (_: string, id: string, ids: string, isAdd: boolean) => {\n      if (!getMaterials.variables?.createID || isAdd) return\n      getMaterials.refetch()\n      if (timer) {\n        clearTimeout(timer)\n        getMaterials.stopPolling();\n      }\n      timer = setTimeout(() => {\n        getMaterials.startPolling(1000);\n      }, 1000)\n    })\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [contracts, getMaterials.variables])\n\n  useEffect(() => {\n    getAvater?.stopPolling()\n    setSmallLoading(false)\n  }, [getAvater?.data?.avaters])\n\n  return (\n    <UserInfoContext.Provider value={{\n      getMaterials,\n      userInfo,\n      materialList,\n      materialId,\n      setMaterialId,\n      composeList,\n      setComposeList,\n      materialListObj,\n      setSmallLoading,\n      SmallLoading\n    } as any}>\n      {children}\n    </UserInfoContext.Provider>\n  )\n}","import { useCallback, useMemo, useState } from \"react\"\nimport { cloneDeep, Dictionary, isEmpty, map } from \"lodash\";\nimport { IConfigOptions, IImgSize, TData } from \"../PixelsMetaversImg\";\n\nexport const useDisplayGrad = () => {\n  return useCallback((context: CanvasRenderingContext2D, config: IConfigOptions) => {\n    if (config.withGrid) {\n      context.strokeStyle = config?.gridColor || \"white\";\n      for (let i = 0; i < config.imgSize.width; i += config.sizeGrid) {\n        if (i === 0) continue\n        context.beginPath()\n        context.moveTo(i, 0)\n        context.lineTo(i, config.imgSize.height)\n        context.stroke()\n      }\n      for (let i = 0; i < config.imgSize.height; i += config.sizeGrid) {\n        if (i === 0) continue\n        context.beginPath()\n        context.moveTo(0, i)\n        context.lineTo(config.imgSize.width, i)\n        context.stroke()\n      }\n    }\n  }, [])\n}\n\nexport const useSetCanvasSize = () => {\n  return useCallback((canvas: HTMLCanvasElement, size: IImgSize) => {\n    if (!canvas) return\n    canvas.width = size.width\n    canvas.height = size.height\n    canvas.style.width = size.width + \"px\"\n    canvas.style.height = size.height + \"px\"\n  }, [])\n}\n\nexport const useClearCanvas = () => {\n  return useCallback((canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => {\n    if (!canvas) return\n    context.beginPath()\n    context.clearRect(0, 0, canvas.width, canvas.height)\n    context.stroke()\n  }, [])\n}\n\nexport const useDrawImgColor = () => {\n  return useCallback((imgSize: IImgSize, context: CanvasRenderingContext2D, data: Dictionary<string>, sizeGrid: number) => {\n    if (!context) return\n    for (let i in data) {\n      if (!data[i]) continue\n      context.beginPath()\n      const sort = Number(i || 0)\n      const count = imgSize.width / sizeGrid // 一行或一列有多少个\n      const x = ((sort % count || count) - 1) * sizeGrid;\n      const y = (Math.ceil(sort / count) - 1) * sizeGrid;\n      context.fillStyle = data[i]\n      context.fillRect(x, y, sizeGrid, sizeGrid);\n      context.stroke()\n    }\n  }, [])\n}\n\nexport const useDealImg = () => {\n  //处理图片\n  return useCallback((canvas: HTMLCanvasElement, context: CanvasRenderingContext2D, img: CanvasImageSource) => {\n    if (img) {\n      context.drawImage(img, 0, 0, canvas.width, canvas.height)\n    }\n  }, [])\n}\n\nexport const useGetClickGradPosition = () => {\n  return useCallback((event: MouseEvent, canvas: HTMLCanvasElement | null) => {\n    if (!canvas) {\n      return {\n        x: 0,\n        y: 0\n      }\n    }\n    const offsetX = event.pageX - (canvas?.offsetLeft || 0)\n    const offsetY = event.pageY - (canvas?.offsetTop || 0)\n    return {\n      x: offsetX,\n      y: offsetY,\n    }\n  }, [])\n}\n\nexport const useDealClick = () => {\n  const [value, setValue] = useState<Dictionary<string>>({})\n  const add = useCallback(\n    (num, color) => {\n      setValue((pre) => {\n        return ({ ...pre, [num]: color })\n      })\n    }, [])\n\n  const remove = useCallback(\n    (num) => {\n      setValue((pre) => {\n        const value = cloneDeep(pre)\n        delete value[num]\n        return value\n      })\n    }, [])\n\n  const clear = useCallback(\n    () => {\n      setValue({})\n    }, [])\n\n  return {\n    value,\n    add,\n    remove,\n    clear,\n    setValue\n  }\n}\n\n/* export const useGetPositionData = (address: string) => {\n  const [value, setValue] = useState<TData>({\n    bgColor: \"\",\n    gridColor: \"\",\n    positions: {},\n    size: \"large\"\n  })\n  const { contract } = usePixelsMetaverse()\n\n  useEffect(() => {\n    if (!address) return\n    if (!contract) return\n  }, [address, setValue, contract])\n\n  return value\n} */\n\nexport const useConvertedPostion = () => {\n  return useCallback((data: TData) => {\n    if(isEmpty(data?.positions)) return {}\n    const position = data?.positions?.split(\"-\")\n    let positionObj: Dictionary<string> = {}\n    let postionStr = \"\"\n    const len = position.length\n    const min = Number(position[len - 1])\n\n    for (let i = 0; i < len; i++) {\n      if (i === len - 1) continue\n\n      if (i % 2 === 0) {\n        postionStr = `${parseInt(position[i], 36).toString(16)}`\n        if (postionStr.length) {\n          let str = \"\"\n          for (let k = 0; k < 6 - postionStr.length; k++) {\n            str += \"0\"\n          }\n          postionStr = \"#\" + str + postionStr\n        }\n      }\n\n      if (i % 2 === 1) {\n        const numArr = position[i].split(\"|\")\n        for (let j = 0; j < numArr.length; j++) {\n          positionObj[Number(parseInt(numArr[j], 36)) + min] = postionStr\n        }\n      }\n    }\n    return positionObj\n  }, [])\n}\n\nexport const useGetPositionStr = (outfitEdList: any[]) => {\n  const convertedPostion = useConvertedPostion()\n  return useMemo(() => {\n    let data: Dictionary<any> = {}\n    map(outfitEdList, item => {\n      const positionsData = convertedPostion({\n        positions: item?.data\n      })\n      data = { ...data, ...positionsData }\n    })\n\n    const colors: Dictionary<number[]> = {}\n    for (let i in data) {\n      colors[data[i]] ? colors[data[i]].push(Number(i)) : colors[data[i]] = [Number(i)]\n    }\n\n    let str = \"\"\n    let min = 1\n    for (let i in colors) {\n      const position = map(colors[i], ite => (ite - min).toString(36)).join(\"|\")\n      str += `${parseInt(i.slice(1), 16).toString(36)}-${position}-`\n    }\n    return `${str}${min}`\n  }, [outfitEdList])\n}","import React, { useEffect, createContext, ReactNode, useState, useContext, Dispatch } from \"react\";\nimport Web3 from \"web3\";\nimport PixelsMetaverseContract from \"../../contracts/hardhat_contracts.json\";\nimport { Contract } from 'web3-eth-contract';\nimport { AbiItem } from 'web3-utils';\nimport { ethers } from \"ethers\"\n\n//const config = require(\"../../../packages/react-app/converted.config.js\")\n\nexport const PixelsMetaverseContext = createContext(\n  {} as {\n    networkId?: number\n    contract?: Contract;\n    setNetworkId: Dispatch<React.SetStateAction<number | undefined>>;\n    setContract: Dispatch<React.SetStateAction<Contract | undefined>>;\n    etherContract?: ethers.Contract;\n    setEtherContract: Dispatch<React.SetStateAction<ethers.Contract | undefined>>;\n  },\n);\n\nexport const usePixelsMetaverse = () => useContext(PixelsMetaverseContext);\n\nexport const supperChain = {\n  1: \"mainnet\",\n  3: \"ropsten\",\n  4: \"rinkeby\",\n  5: \"goerli\",\n  42: \"kovan\",\n  100: \"xdai\",\n  137: \"polygon\",\n  1337: \"ganache\",\n  31337: \"localhost\"\n} as { [key in number]: string }\n\nconst defaultChain = 31337\n\ntype TLibrary = Web3 | ethers.providers.JsonRpcProvider | ethers.providers.Web3Provider | ethers.providers.InfuraProvider | undefined\n\nexport const PixelsMetaverseContextProvider = ({ children, library }: { children: ReactNode, library: Web3 | ethers.providers.JsonRpcProvider | ethers.providers.Web3Provider | ethers.providers.InfuraProvider | undefined }) => {\n  const [networkId, setNetworkId] = useState<number>();\n  const [contract, setContract] = useState<Contract>();\n  const [etherContract, setEtherContract] = useState<ethers.Contract>();\n\n  const getContract = async (library: TLibrary, chainId: number) => {\n    let deployedNetwork = (PixelsMetaverseContract as any)[chainId || defaultChain] as any\n    /* let contractInfo = deployedNetwork[supperChain[chainId]]?.contracts[\"PixelsMetaverse\"];\n    if (contract?.options?.address === contractInfo?.address) return\n    try {\n      if (contractInfo && contractInfo.address) {\n        if (library instanceof Web3) {\n          const contract = new library.eth.Contract(\n            contractInfo && contractInfo.abi as AbiItem[],\n            contractInfo && contractInfo.address\n          );\n          setContract(contract)\n        } else {\n          let contract2 = new ethers.Contract(\n            contractInfo.address,\n            contractInfo && contractInfo.abi as AbiItem[],\n            library as any\n          );\n          if (library?.getSigner) {\n            const singer = await library?.getSigner()\n            contract2 = contract2.connect(singer as any);\n          }\n          setEtherContract(contract2)\n        }\n      }\n    } catch {\n      setContract(undefined)\n    } */\n  }\n\n  const subscribeProvider = async (provider: any) => {\n    if (!provider?.on) return;\n    provider.on(\"close\", () => { });\n    provider.on(\"chainChanged\", async (chainId: string) => {\n      setNetworkId(parseInt(chainId))\n    });\n  };\n\n  useEffect(() => {\n    if (!library) return\n    if (library instanceof Web3 && library?.currentProvider) {\n      subscribeProvider(library?.currentProvider)\n    }\n\n    if (library instanceof Web3) {\n      library?.eth.getChainId().then(chainId => {\n        setNetworkId(parseInt(`${chainId || 3}`))\n      })\n    } else {\n      library?.getNetwork().then(net => {\n        const chainId = net?.chainId;\n        setNetworkId(parseInt(`${chainId}`))\n      })\n    }\n  }, [library])\n\n  useEffect(() => {\n    if (!networkId || !library) return\n    getContract(library, networkId)\n  }, [networkId, library])\n\n  return (\n    <PixelsMetaverseContext.Provider value={{ networkId, contract, setNetworkId, setContract, etherContract, setEtherContract }}>\n      {children}\n    </PixelsMetaverseContext.Provider>\n  )\n}","export type IPosition = { x: number; y: number };\n\nexport const positionToGrad = (point: IPosition, sizeGrid: number) => {\n  return {\n    x: Math.ceil((point.x / sizeGrid)),\n    y: Math.ceil((point.y / sizeGrid)),\n  }\n}\n\nexport const gradToSort = (grad: IPosition, width: number, sizeGrid: number) => {\n  return grad.x + (grad.y - 1) * (width / sizeGrid)\n}","import React, { useEffect, createContext, ReactNode, useState, useContext, Dispatch, useRef } from \"react\";\nimport { IConfigOptions, TCanvasHTMLAttributes, TData, TPostions } from \"./PixelsMetaversImg\";\nimport { Dictionary, map } from \"lodash\";\nimport { useConvertedPostion, useDealClick, useGetClickGradPosition } from \"./hook/canvas\";\n\nexport const PixelsMetaverseHandleImgContext = createContext(\n  {} as {\n    canvasRef: React.RefObject<HTMLCanvasElement>;\n    canvas2Ref: React.RefObject<HTMLCanvasElement>;\n    config: IConfigOptions;\n    positions: TPostions;\n    positionsArr: number[];\n    selectList: string[];\n    setSelectList: Dispatch<React.SetStateAction<string[]>>;\n    setConfig: Dispatch<React.SetStateAction<IConfigOptions>>;\n    setPositions: Dispatch<React.SetStateAction<TPostions>>;\n    setPositionsArr: Dispatch<React.SetStateAction<number[]>>;\n    dealClick: {\n      value: Dictionary<string>;\n      add: (num: any, color: any) => void;\n      remove: (num: any) => void;\n      clear: () => void;\n      setValue: Dispatch<React.SetStateAction<Dictionary<string>>>\n    },\n    getGradPosition: (event: MouseEvent, canvas: HTMLCanvasElement | null) => {\n      x: number;\n      y: number;\n    }\n  },\n);\n\nexport const usePixelsMetaverseHandleImg = () => useContext(PixelsMetaverseHandleImgContext);\n\nexport type IPixelsMetaverseHandleImg = {\n  data: TData;\n  size: number; //高宽长度一致\n  showGrid?: boolean;\n  handDraw?: boolean\n} & TCanvasHTMLAttributes\n\nexport const PixelsMetaverseHandleImgProvider = ({ children, data, size, showGrid, handDraw }: { children: ReactNode } & IPixelsMetaverseHandleImg) => {\n  const [config, setConfig] = useState<IConfigOptions>({\n    imgSize: { width: size, height: size },\n    sizeGrid: data.size === \"small\" ? size / 48 : size / 24,\n    withGrid: !!showGrid,\n    bgImg: \"\",\n    bgImgUp: \"\",\n    bgColor: data.bgColor || \"transparent\",\n    gridColor: data.gridColor || \"#e1e1e1\",\n    isHandDraw: !!handDraw\n  });\n\n  const [selectList, setSelectList] = useState<string[]>([])\n\n  const [positions, setPositions] = useState<TPostions>({})\n  const [positionsArr, setPositionsArr] = useState<number[]>([])\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const canvas2Ref = useRef<HTMLCanvasElement>(null)\n  const dealClick = useDealClick()\n  const getGradPosition = useGetClickGradPosition()\n  const getPositionData = useConvertedPostion()\n\n  useEffect(() => {\n    if (!data.positions) return\n    if (data.positions === \"empty\") {\n      setPositions({})\n    }\n    let selectData: Dictionary<any> = {}\n\n    map(selectList, item => {\n      const positionsData = getPositionData({\n        positions: item\n      })\n      selectData = { ...selectData, ...positionsData }\n    })\n\n    const positionObj = getPositionData(data)\n    setPositions({ ...positionObj, ...selectData })\n  }, [data.positions, selectList])\n\n  useEffect(() => {\n    dealClick?.setValue({ ...positions })\n  }, [positions, dealClick?.setValue])\n\n  return (\n    <PixelsMetaverseHandleImgContext.Provider\n      value={{\n        config,\n        setConfig,\n        positions,\n        setPositions,\n        canvasRef,\n        dealClick,\n        canvas2Ref,\n        getGradPosition,\n        positionsArr,\n        setPositionsArr,\n        selectList,\n        setSelectList\n      }}\n    >\n      {children}\n    </PixelsMetaverseHandleImgContext.Provider>\n  )\n}","import React, { DetailedHTMLProps, RefObject, useEffect, useMemo, useRef, useState } from \"react\"\nimport { cloneDeep, Dictionary, filter, isArray } from \"lodash\";\nimport { useClearCanvas, useConvertedPostion, useDisplayGrad, useDrawImgColor, useGetPositionStr, useSetCanvasSize } from \"./hook/canvas\";\nimport { usePixelsMetaverse } from \"./PixelsMetaversProvider\";\nimport { get16Color } from \"./utilities\";\nimport { gradToSort, positionToGrad } from \"./utilities/position\";\nimport { usePixelsMetaverseHandleImg } from \"./PixelsMetaverseHandleImgProvider\";\n\nexport type TMaterialData = {\n  id: number,\n  owner: string,\n  name: string,\n  category: string,\n  data: string,\n  price: number,\n  isSale: boolean,\n  isOutfit: boolean,\n  bgColor: string\n}\n\nexport type IPosition = { x: number; y: number };\n\nexport type IPositionGroup = IPosition[];\n\nexport type TPostions = Dictionary<string>\n\nexport interface IImgSize {\n  width: number;\n  height: number\n}\n\nexport interface IConfigOptions {\n  sizeGrid: number,\n  withGrid: boolean,\n  imgSize: IImgSize,\n  bgImg: CanvasImageSource | any,\n  bgColor: string,\n  bgImgUp: CanvasImageSource | any, // 外面那一层的img\n  isHandDraw?: boolean,\n  gridColor?: string,\n  drawColor?: string\n}\n\nexport type TCanvasHTMLAttributes = DetailedHTMLProps<React.CanvasHTMLAttributes<HTMLCanvasElement>, HTMLCanvasElement>\n\nexport type TData = {\n  positions?: any;\n  materialData?: TMaterialData[]\n  size?: string;\n  bgColor?: string;\n  gridColor?: string\n}\n\nexport type IPixelsMetaverseImgByAddress = {\n  address: string;\n  size: number;\n  showGrid?: boolean\n} & TCanvasHTMLAttributes\n\nexport type TPostionsData = {\n  positions?: any;\n  materialData?: TMaterialData[]\n  bgColor?: string;\n  gridColor?: string;\n  id: any;\n  price: any;\n  start: any;\n  end: any;\n  zIndex: any;\n  isSale: any;\n  isOutfit: any;\n  owner: any;\n  data: any;\n  baseInfo: any\n}\n\nexport type IPixelsMetaverseImgByPositionData = {\n  data: TData;\n  size: number; //高宽长度一致\n  showGrid?: boolean;\n  handDraw?: boolean\n} & TCanvasHTMLAttributes\n\nexport type TSize = number | string\n\nexport type IPixelsMetaverseImgByPositionData2 = {\n  data: TPostionsData | TPostionsData[];\n  size?: TSize | [TSize, TSize]; //[width, height]\n  gridColor?: string;\n  bgColor?: string\n} & TCanvasHTMLAttributes\n\n// 传入地址后获取图片数据再渲染\nexport const PixelsMetaverseImgByAddress = ({ address, size, showGrid, ...props }: IPixelsMetaverseImgByAddress) => {\n  const { networkId, contract, } = usePixelsMetaverse()\n  const [materialList, setMaterialList] = useState<any[]>([]);\n\n  useEffect(() => {\n    if (!contract) return\n    //fetchGetMaterialIdList({ contract, networkId }, { setValue: setMaterialList })\n    console.log(networkId, setMaterialList)\n  }, [contract])\n\n  const avatarList: TMaterialData[] = useMemo(() => {\n    return filter(materialList, item => item?.owner === address && item?.isOutfit)\n  }, [materialList])\n\n  return (\n    <PixelsMetaverseImgByPositionData\n      showGrid={showGrid}\n      size={size}\n      data={{ materialData: avatarList }}\n      {...props}\n    />\n  )\n}\n\n// 仅仅只是拿到位置数据后绘制canvas而不对canvas进行操作， 可支持一次获取数据批量绘制头像，获取逻辑在外层进行。此处只进行绘制\nexport const PixelsMetaverseImgByPositionData = ({ data, size, showGrid, ...props }: IPixelsMetaverseImgByPositionData) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const getPositionData = useConvertedPostion()\n\n  const config = useMemo(() => {\n    return {\n      imgSize: { width: size, height: size },\n      sizeGrid: data.size === \"large\" ? size / 48 : size / 24,\n      withGrid: !!showGrid,\n      bgImg: \"\",\n      bgColor: \"red\" || \"#638496\",\n      gridColor: \"red\" || \"white\"\n    } as IConfigOptions\n  }, [data])\n\n  const getPositionStr = useGetPositionStr(data?.materialData || [])\n\n  const postionData = useMemo(() => {\n\n    if (!getPositionStr) return {}\n    if (!getPositionStr?.includes(\"-\")) return {}\n\n    return getPositionData({ ...data, positions: getPositionStr })\n  }, [getPositionStr])\n\n  return (\n    <PixelsMetaverseCanvas\n      config={config}\n      data={postionData}\n      canvasRef={canvasRef}\n      showGridColor\n      style={{\n        backgroundColor: config?.bgColor\n      }}\n      {...props}\n    />\n  )\n}\n\nexport const PixelsMetaverseImgByPositionData2 = ({ data, size, gridColor, bgColor, ...props }: IPixelsMetaverseImgByPositionData2) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const getPositionData = useConvertedPostion()\n  const ref = useRef<HTMLDivElement>(null)\n  const list = isArray(data) ? data : [data]\n  const [{ width, height }, setSize] = useState({ width: 0, height: 0 })\n\n  const config = useMemo(() => {\n    return {\n      imgSize: { width, height },\n      sizeGrid: 24,\n      withGrid: !!gridColor,\n      bgColor: gridColor || \"#638496\",\n      gridColor: bgColor || \"white\"\n    } as IConfigOptions\n  }, [list, width, height])\n\n  const getPositionStr = useGetPositionStr(isArray(data) ? data : [data])\n\n  const postionData = useMemo(() => {\n\n    if (!getPositionStr) return {}\n    if (!getPositionStr?.includes(\"-\")) return {}\n\n    return getPositionData({ ...list, positions: getPositionStr })\n  }, [getPositionStr])\n\n  useEffect(() => {\n    if (!ref?.current) return\n    setSize({ width: ref?.current?.offsetWidth, height: ref?.current?.offsetHeight })\n  }, [ref])\n\n  return (\n    <div ref={ref} style={{ width: (isArray(size) ? size[0] : size) || \"100%\", height: (isArray(size) ? size[1] : size) || \"100%\", border: \"1px solid red\" }}>\n      <PixelsMetaverseCanvas2\n        config={config}\n        data={postionData}\n        canvasRef={canvasRef}\n        showGridColor\n        style={{\n          backgroundColor: config?.bgColor\n        }}\n        {...props}\n      />\n    </div>\n  )\n}\n\nexport const PixelsMetaverseHandleImg = ({ canvasRef, showBgImg, showGridColor, ...props }: { canvasRef: React.RefObject<HTMLCanvasElement>, showBgImg?: boolean; showGridColor?: boolean; } & TCanvasHTMLAttributes) => {\n  const { config, getGradPosition, setPositionsArr, positionsArr, dealClick: { add, value, remove } } = usePixelsMetaverseHandleImg()\n  let timer: any;\n\n  const clickCanvas = (event: MouseEvent, canvasRef: RefObject<HTMLCanvasElement> | null) => {\n    clearTimeout(timer);\n    if (!canvasRef?.current) return\n    timer = setTimeout(() => {\n      const position = positionToGrad(getGradPosition(event, canvasRef.current), config.sizeGrid)\n      const context = canvasRef.current?.getContext(\"2d\") as CanvasRenderingContext2D\n      const { x, y } = getGradPosition(event, canvasRef.current)\n      let data = context.getImageData(x, y, 1, 1).data\n      const rgba = 'rgb(' + data[0] + ',' + data[1] + ',' + data[2] + ')';\n      const sort = gradToSort(position, config.imgSize.width, config.sizeGrid)\n      const ponitColor = get16Color(config.drawColor || rgba)\n      add(sort, ponitColor)\n      if (!positionsArr.includes(sort)) {\n        setPositionsArr(((pre) => ([...pre, sort])))\n      }\n    }, 200);\n  }\n\n  const doubleClickCanvas = (event: MouseEvent, canvasRef: RefObject<HTMLCanvasElement> | null) => {\n    clearTimeout(timer);\n    if (!canvasRef?.current) return\n    const position = positionToGrad(getGradPosition(event, canvasRef.current), config.sizeGrid)\n    const sort = gradToSort(position, config.imgSize.width, config.sizeGrid)\n    remove(sort)\n    setPositionsArr((pre) => {\n      const positionss = cloneDeep(pre)\n      const positionssIndex = positionss.indexOf(sort)\n      positionss.splice(positionssIndex, 1)\n      return positionss\n    })\n  }\n\n  return (\n    <PixelsMetaverseCanvas\n      config={config}\n      data={value}\n      canvasRef={canvasRef}\n      showBgImg={showBgImg}\n      showGridColor={showGridColor}\n      style={{\n        backgroundColor: config?.bgColor\n      }}\n      onClick={(e) => {\n        if (!config.isHandDraw) return\n        const event = e as unknown as MouseEvent\n        clickCanvas(event, canvasRef)\n      }}\n      onDoubleClick={(e) => {\n        if (!config.isHandDraw) return\n        const event = e as unknown as MouseEvent\n        doubleClickCanvas(event, canvasRef)\n      }}\n      {...props}\n    />)\n}\n\nexport const PixelsMetaverseCanvas = ({\n  data,\n  config,\n  canvasRef,\n  showBgImg,\n  showGridColor,\n  ...props\n}: {\n  data: Dictionary<string>; // 某个位置的颜色数据\n  config: IConfigOptions;\n  showBgImg?: boolean;\n  showGridColor?: boolean;\n  canvasRef: RefObject<HTMLCanvasElement> | null;\n} & TCanvasHTMLAttributes) => {\n  const setSize = useSetCanvasSize()\n  const setGrad = useDisplayGrad()\n  const drawPixelsImg = useDrawImgColor()\n  const clearCanvas = useClearCanvas()\n\n  useEffect(() => {\n    const canvas = canvasRef?.current\n    if (!canvas || config.imgSize.width <= 0 || (config?.withGrid && config.sizeGrid <= 0)) return\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D\n    setSize(canvas, config.imgSize)\n    clearCanvas(canvas, context)\n    if (config.imgSize.width > 1 && config.imgSize.height > 1 && config.sizeGrid >= 1) {\n      //showBgImg && dealBgImg(canvas, context, config.bgImgUp)\n      showGridColor && drawPixelsImg(config.imgSize, context, data, config.sizeGrid)\n    }\n    if (config.sizeGrid >= 1) {\n      setGrad(context, config)\n    }\n  }, [canvasRef, data, config])\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={0}\n      height={0}\n      {...props}\n    >Sorry, your browser dose not support canvas.</canvas>\n  )\n}\n\nexport const PixelsMetaverseCanvas2 = ({\n  data,\n  config,\n  canvasRef,\n  showBgImg,\n  showGridColor,\n  ...props\n}: {\n  data: Dictionary<string>; // 某个位置的颜色数据\n  config: IConfigOptions;\n  showBgImg?: boolean;\n  showGridColor?: boolean;\n  canvasRef: RefObject<HTMLCanvasElement> | null;\n} & TCanvasHTMLAttributes) => {\n  const setSize = useSetCanvasSize()\n  const setGrad = useDisplayGrad()\n  const drawPixelsImg = useDrawImgColor()\n  const clearCanvas = useClearCanvas()\n\n  useEffect(() => {\n    const canvas = canvasRef?.current\n    if (!canvas || config.imgSize.width <= 0 || (config?.withGrid && config.sizeGrid <= 0)) return\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D\n    setSize(canvas, config.imgSize)\n    clearCanvas(canvas, context)\n    if (config.imgSize.width > 1 && config.imgSize.height > 1 && config.sizeGrid >= 1) {\n      //showBgImg && dealBgImg(canvas, context, config.bgImgUp)\n      showGridColor && drawPixelsImg(config.imgSize, context, data, config.sizeGrid)\n    }\n    if (config.sizeGrid >= 1) {\n      setGrad(context, config)\n    }\n  }, [canvasRef, data, config])\n\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={0}\n      height={0}\n      {...props}\n    >Sorry, your browser dose not support canvas.</canvas>\n  )\n}","import \"./position\"\nimport \"./radix\"\n\nexport const get16Color = (color: string) => {\n  // RGB颜色值的正则\n  const reg = /^(rgb|RGB)/;\n  if (reg.test(color)) {\n    let strHex = \"#\";\n    // 把RGB的3个数值变成数组\n    const colorArr = color.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\");\n    // 转成16进制\n    for (let i = 0; i < colorArr.length; i++) {\n      let hex = Number(colorArr[i]).toString(16);\n      if (hex.length < 2) {\n        hex = `0${hex}`\n      }\n      strHex += hex;\n    }\n    return strHex;\n  } else {\n    return String(color);\n  }\n}","// @ts-nocheck\nexport default class SLIC {\n    constructor(imageArray, width, height) {\n        this.rgbImage = Uint8ClampedArray.from(imageArray)\n        this.imageArray = Array.from(imageArray)\n        this.width = width\n        this.height = height\n    }\n\n\n    rgb2lab(sR, sG, sB) {\n        //rgb2xyz\n        let R = sR / 255\n        let G = sG / 255\n        let B = sB / 255\n\n        let r, g, b\n        if (R <= 0.04045) r = R / 12.92\n        else r = Math.pow((R + 0.055) / 1.055, 2.4)\n        if (G <= 0.04045) g = G / 12.92\n        else g = Math.pow((G + 0.055) / 1.055, 2.4)\n        if (B <= 0.04045) b = B / 12.92\n        else b = Math.pow((B + 0.055) / 1.055, 2.4)\n\n        let X, Y, Z\n        X = r * 0.4124564 + g * 0.3575761 + b * 0.1804375\n        Y = r * 0.2126729 + g * 0.7151522 + b * 0.0721750\n        Z = r * 0.0193339 + g * 0.1191920 + b * 0.9503041\n\n        //xyz2lab\n        let epsilon = 0.008856\t//actual CIE standard\n        let kappa = 903.3\t\t//actual CIE standard\n\n        let Xr = 0.950456\t//reference white\n        let Yr = 1.0\t\t//reference white\n        let Zr = 1.088754\t//reference white\n        let xr = X / Xr\n        let yr = Y / Yr\n        let zr = Z / Zr\n\n        let fx, fy, fz\n        if (xr > epsilon) fx = Math.pow(xr, 1.0 / 3.0)\n        else fx = (kappa * xr + 16.0) / 116.0\n        if (yr > epsilon) fy = Math.pow(yr, 1.0 / 3.0)\n        else fy = (kappa * yr + 16.0) / 116.0\n        if (zr > epsilon) fz = Math.pow(zr, 1.0 / 3.0)\n        else fz = (kappa * zr + 16.0) / 116.0\n\n        let lval = 116.0 * fy - 16.0\n        let aval = 500.0 * (fx - fy)\n        let bval = 200.0 * (fy - fz)\n\n        return { l: lval, a: aval, b: bval }\n    }\n\n    lab2rgb(sL, sA, sB) {\n\n    }\n\n\n    showCenters(ctx) {\n\n        // let canvas = document.getElementById(\"canvas\")\n        // let ctx = canvas.getContext(\"2d\")\n        //ctx.fillStyle = \"#FF0000\"\n        ctx.fillStyle = \"#\" + (\"00000\" + ((Math.random() * 16777215 + 0.5) >> 0).toString(16)).slice(-6)\n        for (let i = 0; i < this.centers.length; i++) {\n            //console.log(this.centers[i].x + \"  \" + this.centers[i].y)\n            ctx.fillRect(this.centers[i].y, this.centers[i].x, 5, 5)\n        }\n    }\n\n    showContours(ctx) {\n        let dx8 = [-1, -1, 0, 1, 1, 1, 0, -1]\n        let dy8 = [0, -1, -1, -1, 0, 1, 1, 1]\n\n        let contours = []\n        let istaken = Array.from({ length: this.height }).map(linearray =>\n            linearray = Array.from({ length: this.width }).map(item => item = false))\n\n        for (let i = 0; i < this.height; i++) {\n            for (let j = 0; j < this.width; j++) {\n                let nr_p = 0\n\n                /* Compare the pixel to its 8 neighbours. */\n                for (let k = 0; k < 8; k++) {\n                    let x = i + dx8[k], y = j + dy8[k]\n\n                    if (x >= 0 && x < this.height && y >= 0 && y < this.width) {\n                        if (istaken[x][y] === false && this.clusterID[i * this.width + j] !== this.clusterID[x * this.width + y]) {\n                            nr_p += 1\n                        }\n                    }\n                }\n\n                /* Add the pixel to the contour list if desired. */\n                if (nr_p >= 2) {\n                    contours.push({\n                        x: i,\n                        y: j\n                    })\n                    istaken[i][j] = true\n                }\n            }\n        }\n        for (let i = 0; i < contours.length; i++) {\n            // let ctx = this.canvas.getContext(\"2d\")\n            ctx.fillStyle = \"#ffffff\"\n            ctx.fillRect(contours[i].y, contours[i].x, 2, 2)\n        }\n    }\n\n\n    findLocalMinimum(hpos, wpos) {\n        let min_grad = Number.MAX_VALUE\n        let loc_min = {}\n\n        for (let i = hpos - 1; i <= hpos + 1 && i >= 0 && i < this.height - 1; i++) {\n            for (let j = wpos - 1; j <= wpos + 1 && j >= 0 && j < this.width - 1; j++) {\n                let i1 = this.imageArray[4 * (i * this.width + j + 1)]//right pixel\n                let i2 = this.imageArray[4 * ((i + 1) * this.width + j + 1)] // bottom pixel\n                let i3 = this.imageArray[4 * (i * this.width + j)] // self\n                if (Math.sqrt(Math.pow(i1 - i3, 2)) + Math.sqrt(Math.pow(i2 - i3, 2)) < min_grad) {\n                    min_grad = Math.abs(i1 - i3) + Math.abs(i2 - i3)\n                    loc_min.x = i\n                    loc_min.y = j\n                }\n            }\n        }\n        return loc_min\n    }\n\n    computeDist(centerPos, pixX, pixY) {\n        // if(pixX <=2)\n        // console.log(pixX, pixY)\n\n        let center = this.centers[centerPos]\n        //     let v1=Math.pow(center.l - this.image[pixX][pixY][0],2)\n        //     let v2=Math.pow(center.a - this.image[pixX][pixY][1],2)\n        //     let v3=Math.pow(center.b - this.image[pixX][pixY][2],2)\n\n        //    let temp=(Math.pow(center.l - this.image[pixX][pixY][0],2) + Math.pow(center.a - this.image[pixX][pixY][1],2)+ Math.pow(center.b - this.image[pixX][pixY][2],2))\n\n        let dc = Math.sqrt(Math.pow(center.l - this.imageArray[4 * (pixX * this.width + pixY)], 2)\n            + Math.pow(center.a - this.imageArray[4 * (pixX * this.width + pixY) + 1], 2)\n            + Math.pow(center.b - this.imageArray[4 * (pixX * this.width + pixY) + 2], 2))\n        let ds = Math.sqrt(Math.pow(center.x - pixX, 2) + Math.pow(center.y - pixY, 2))\n\n        return Math.pow(dc / this.weight, 2) + Math.pow(ds / this.step, 2)\n    }\n\n    computePixel() {\n        //Initialize cluster centers by sampling pixels at regualr grid step \n        this.clusterID = Array.from({ length: this.width * this.height }).map(item => item = -1)\n        this.centers = new Array()\n\n        for (let i = this.step; i < this.height; i += this.step) {\n            for (let j = this.step; j < this.width; j += this.step) {\n                let center = this.findLocalMinimum(i, j)\n                center.l = (this.imageArray)[4 * (center.x * this.width + center.y)]\n                center.a = (this.imageArray)[4 * (center.x * this.width + center.y) + 1]\n                center.b = (this.imageArray)[4 * (center.x * this.width + center.y) + 2]\n                this.centers.push(center)\n            }\n        }\n\n        //Interations\n        for (let i = 0; i < this.iters; i++) {\n            // minimum distance to centers \n            let distances = Array.from({ length: this.width * this.height }).map(item => item = Number.MAX_VALUE)\n\n            for (let j = 0; j < this.centers.length; j++) {\n                for (let m = this.centers[j].x - this.step; m < this.centers[j].x + this.step; m++) {\n                    for (let n = this.centers[j].y - this.step; n < this.centers[j].y + this.step; n++) {\n                        if (m >= 0 && m < this.height && n >= 0 && n < this.width) {\n                            //console.log(this.centers[j].x, this.centers[j].y, intStep)\n                            let d = this.computeDist(j, m, n)\n                            if (d < distances[m * this.width + n]) {\n                                distances[m * this.width + n] = d\n                                this.clusterID[m * this.width + n] = j\n                            }\n                        }\n                    }\n                }\n            }\n\n\n            let oldcenters = JSON.parse(JSON.stringify(this.centers))\n            //clear old value\n            for (var ele of this.centers) {\n                ele.c = ele.l = ele.a = ele.b = ele.x = ele.y = 0\n            }\n\n            //compute new cluster centers\n\n            for (let j = 0; j < this.height; j++)\n                for (let k = 0; k < this.width; k++) {\n                    let c = this.clusterID[j * this.width + k]\n                    if (c !== -1) {\n                        this.centers[c].l += this.imageArray[4 * (j * this.width + k)]\n                        this.centers[c].a += this.imageArray[4 * (j * this.width + k) + 1]\n                        this.centers[c].b += this.imageArray[4 * (j * this.width + k) + 2]\n                        this.centers[c].x += j\n                        this.centers[c].y += k\n                        this.centers[c].c += 1\n                    }\n                }\n\n            for (var index in this.centers) {\n                if (this.centers[index].c === 0 || this.centers[index].x === undefined || this.centers[index].y === undefined) {\n                    // this.centers[index]= JSON.parse(JSON.stringify(oldcenters[index]))\n                    //    console.log(\"--\")\n                    // console.log(index,this.centers[index].c,this.centers[index].x,this.centers[index].y)\n                    this.centers[index] = JSON.parse(JSON.stringify(oldcenters[index]))\n                    // console.log(index,this.centers[index].c,this.centers[index].x,this.centers[index].y)\n\n                    let canvas = document.getElementById(\"canvas\")\n                    let context = canvas.getContext(\"2d\")\n                    context.fillRect(this.centers[index].y, this.centers[index].x, 10, 10)\n                }\n                else {\n                    this.centers[index].l /= this.centers[index].c\n                    this.centers[index].a /= this.centers[index].c\n                    this.centers[index].b /= this.centers[index].c\n                    this.centers[index].x = Math.floor(this.centers[index].x / this.centers[index].c)\n                    this.centers[index].y = Math.floor(this.centers[index].y / this.centers[index].c)\n                }\n            }\n        }\n    }\n\n    pickPixel() {\n        // pick pixel \n        let row = Math.ceil(this.height / this.stride)\n        let col = Math.ceil(this.width / this.stride)\n        let resultImage = new Uint8ClampedArray(this.width * this.height * 4)\n\n        // iteration for every pix rectangle\n        for (let m = 0; m < row; m++) {\n            for (let n = 0; n < col; n++) {\n\n                let startj = m * this.stride\n                let startk = n * this.stride\n                let counts = {}\n\n                for (let j = startj; j < startj + this.stride && j < this.height; j++) {\n                    for (let k = startk; k < startk + this.stride && k < this.width; k++) {\n                        let c = this.clusterID[j * this.width + k]\n                        if (c !== -1) {\n                            if (counts[c]) {\n                                counts[c]++\n                            } else {\n                                counts[c] = 1\n                            }\n                        }\n                    }\n                }\n                let centerpos = -1\n                let max = Number.MIN_VALUE\n                for (let pos in counts) {\n                    if (counts[pos] > max) {\n                        max = counts[pos]\n                        centerpos = pos\n                    }\n                }\n\n                for (let j = startj; j < startj + this.stride && j < this.height; j++) {\n                    for (let k = startk; k < startk + this.stride && k < this.width; k++) {\n                        resultImage[4 * (j * this.width + k)] = this.rgbImage[4 * (this.centers[centerpos].x * this.width + this.centers[centerpos].y)]\n                        resultImage[4 * (j * this.width + k) + 1] = this.rgbImage[4 * (this.centers[centerpos].x * this.width + this.centers[centerpos].y) + 1]\n                        resultImage[4 * (j * this.width + k) + 2] = this.rgbImage[4 * (this.centers[centerpos].x * this.width + this.centers[centerpos].y) + 2]\n                        resultImage[4 * (j * this.width + k) + 3] = this.rgbImage[4 * (this.centers[centerpos].x * this.width + this.centers[centerpos].y) + 3]\n                    }\n                }\n            }\n        }\n        return resultImage\n    }\n\n    //pixelate image\n    pixelDeal(step, iters, stride, weight) {\n        this.step = step\n        this.iters = iters\n        this.stride = stride\n        this.weight = weight\n\n        //tranlate rgb to lab\n        for (let i = 0; i < this.width * this.height; i += 4) {\n            let labColor = this.rgb2lab(this.imageArray[i], this.imageArray[i + 1], this.imageArray[i + 2])\n            this.imageArray[i] = labColor.l\n            this.imageArray[i + 2] = labColor.a\n            this.imageArray[i + 3] = labColor.b\n        }\n        this.computePixel()\n        let result = this.pickPixel()\n\n        return result\n    }\n    changeBlockSize(blockSize) {\n        this.step = blockSize\n        this.computePixel()\n        let result = this.pickPixel()\n        return result\n    }\n    changeWeight(weight) {\n        this.weight = weight\n        this.computePixel()\n        let result = this.pickPixel()\n        return result\n    }\n    changeStride(stride) {\n        this.stride = stride\n        let result = this.pickPixel()\n        return result\n    }\n    changeIters(iters) {\n        this.iters = iters\n        this.computePixel()\n        let result = this.pickPixel()\n        return result\n    }\n\n\n}","import SLIC from \"./slic/index\"\n\nexport const loadProduced = ({\n  canvas,\n  context,\n  img,\n  sizeGrid\n}: {\n  canvas: HTMLCanvasElement,\n  context: CanvasRenderingContext2D,\n  img: HTMLImageElement,\n  sizeGrid: number\n}) => {\n  let config = {\n    blockSize: sizeGrid,\n    weight: 30,\n    iters: sizeGrid,\n    stride: sizeGrid,\n    withGrid: false,\n    withCenters: false,\n    withContours: false,\n  }\n  let pixelImage: Uint8ClampedArray\n  let slic: SLIC\n\n  //paiting pixel in canvas\n  function displayImg() {\n    let imgData = context.createImageData(canvas.width, canvas.height)\n    for (let i = 0; i < pixelImage.length; i++)\n      imgData.data[i] = pixelImage[i]\n    context.putImageData(imgData, 0, 0)\n\n    if (config.withGrid) {\n      context.strokeStyle = \"white\"\n      context.lineWidth = 1\n      for (let i = 0; i < canvas.width; i += config.stride) {\n        context.beginPath()\n        context.moveTo(i, 0)\n        context.lineTo(i, canvas.height)\n        context.stroke()\n      }\n      for (let i = 0; i < canvas.height; i += config.stride) {\n        context.beginPath()\n        context.moveTo(0, i)\n        context.lineTo(canvas.width, i)\n        context.stroke()\n      }\n    }\n  }\n\n  function dealImg(img: HTMLImageElement) {\n    context.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n    let canvasData = context.getImageData(0, 0, canvas.width, canvas.height)\n    let binaryData = canvasData.data\n    let nr_superpixels = canvas.width\n    config.blockSize = Math.round(Math.sqrt((canvas.width * canvas.height) / nr_superpixels))\n    slic = new SLIC(binaryData, canvas.width, canvas.height)\n    pixelImage = slic.pixelDeal(config.blockSize, config.iters, config.stride, config.weight)\n    displayImg()\n  }\n  if (img) {\n    dealImg(img)\n  }\n}\n","import React from \"react\"\nimport { useEffect, useRef } from \"react\"\nimport { useClearCanvas, useDealImg, useDisplayGrad } from \"./hook/canvas\"\nimport { usePixelsMetaverseHandleImg } from \"./PixelsMetaverseHandleImgProvider\"\nimport { loadProduced } from \"./SlicImg\"\n\nexport const CanvasSlicImg = ({ img, sizeGrid }: { img: HTMLImageElement, sizeGrid: number }) => {\n  const { setConfig, config, canvasRef, dealClick: { value } } = usePixelsMetaverseHandleImg()\n  const canvas2Ref = useRef<HTMLCanvasElement>(null)\n  const drawImg = useDealImg()\n  const clearCanvas = useClearCanvas()\n  const setGrad = useDisplayGrad()\n  const size = {\n    width: 480,\n    height: 480\n  }\n\n  useEffect(() => {\n    const canvas = canvas2Ref.current\n    let context;\n    if (canvas) {\n      canvas.width = size.width\n      canvas.height = size.height\n      canvas.style.width = size.width + \"px\"\n      canvas.style.height = size.height + \"px\"\n      context = canvas.getContext(\"2d\") as CanvasRenderingContext2D\n    }\n    if (canvas && context) {\n      loadProduced({\n        canvas,\n        context,\n        img,\n        sizeGrid\n      })\n    }\n  }, [img, canvas2Ref, sizeGrid])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const canvas2 = canvas2Ref.current\n    if (canvas && canvas2) {\n      const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D\n      clearCanvas(canvas, context)\n      drawImg(canvas, context, config.bgImgUp)\n      setGrad(context, config)\n    }\n  }, [canvas2Ref, canvasRef, config, value, config.bgImgUp])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const canvas2 = canvas2Ref.current\n    if (canvas && canvas2) {\n      const imgURL = canvas2.toDataURL(\"image/jpeg\")\n      if (!imgURL) return\n      let img = new Image()\n      img.src = imgURL\n      img.onload = function () {\n        setConfig((pre) => ({ ...pre, bgImgUp: img }))\n      }\n    }\n  }, [config.bgImg])\n\n  return (\n    <div\n      className=\"absolute\"\n      style={{\n        left: (canvasRef?.current?.offsetLeft || 30),\n        top: canvasRef?.current?.offsetTop\n      }}\n    >\n      <canvas ref={canvas2Ref}>Sorry, your browser dose not support canvas.</canvas>\n    </div>\n  )\n}\n","import { useHistory } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\nimport { memo, useEffect, useState } from \"react\";\nimport { ellipseAddress } from \"../helpers/utilities\";\nimport { useTranslation } from \"react-i18next\"\nimport { Button, Menu, message } from \"antd\";\nimport { isEmpty } from \"lodash\";\nimport i18n from \"i18next\";\nimport { useWeb3Info } from \"abi-to-request\"\nimport { useUserInfo } from \"./UserProvider\";\n\nconst nav = [\n  // { label: \"加工\", path: \"/action\" },\n  { label: \"生产\", path: \"/produced\" },\n  { label: \"仓库\", path: \"/lockers\" },\n  // { label: \"个人中心\", path: \"/person-center\" },\n]\n\nconst menu = () => {\n  const changeLanguage = (val: string) => {\n    i18n.changeLanguage(val);\n  };\n\n  return (\n    <Menu>\n      <Menu.Item key=\"cd\" onClick={() => changeLanguage(\"cn\")}>简体</Menu.Item>\n      <Menu.Item key=\"hk\" onClick={() => changeLanguage(\"hk\")}>繁体</Menu.Item>\n      <Menu.Item key=\"en\" onClick={() => changeLanguage(\"en\")}>英文</Menu.Item>\n    </Menu>\n  )\n}\n\nexport const useQueryParams = () => {\n  const { search } = useLocation();\n  const parmasString = search.substring(1);\n  const params = new URLSearchParams(parmasString);\n  return params\n}\n\nexport const Header = memo(() => {\n  const { connected, address, killSession, toConnect, chainData } = useWeb3Info();\n  const { t } = useTranslation()\n  const history = useHistory()\n  const { pathname } = useLocation()\n  const params = useQueryParams()\n  const [inputStr, setInputStr] = useState<string | null>()\n  const { SmallLoading } = useUserInfo()\n  /*   const [data] = useGetDataRequest(fetchGetMaterialLength, undefined)\n  \n    console.log(data?.toString()) */\n\n  useEffect(() => {\n    if (params && params?.get(\"address\")) {\n      setInputStr(params?.get(\"address\"))\n    }\n  }, [params?.get(\"address\")])\n\n  return (\n    <div className=\"flex px-4 items-center justify-between text-l fixed w-full h-16 bg-white bg-opacity-10 text-white text-opacity-70 z-50\">\n      <div className=\"text-2xl cursor-pointer mr-20\" onClick={() => history.push(\"/\")}>像素元宇宙</div>\n      <div className=\"flex items-center justify-between flex-1\">\n        <div className=\"flex justify-around items-center w-40\">\n          {nav.map(item => {\n            return (<div\n              key={item?.label}\n              style={{ color: pathname === item?.path ? \"#EF4444\" : \"rgba(225,225,225,.9)\" }}\n              className=\"cursor-pointer hover:text-red-500\"\n              onClick={() => history.push(item?.path)}\n            >{item?.label}</div>)\n          })}\n        </div>\n        <div className=\"flex justify-end relative\">\n          {/* <div className=\"mr-4 flex items-center bg-white bg-opacity-10\" style={{ borderRadius: 20 }}>\n            <input\n              className=\"px-4 bg-transparent outline-none focus:outline-none w-60\"\n              placeholder=\"请输入用户钱包地址\"\n              value={inputStr || \"\"}\n              onChange={(e) => setInputStr(e.target.value)}\n            />\n            <Button type=\"primary\" size=\"large\" className=\"w-24\"\n              style={{ borderRadius: 0, borderTopRightRadius: 20, borderBottomRightRadius: 20, height: \"100%\" }}\n              onClick={() => {\n                if (inputStr && (inputStr?.length !== 42 || inputStr?.indexOf(\"0x\") !== 0)) {\n                  message.warning(\"Please enter a well-formed address\");\n                  return;\n                }\n                history.push(`/action${inputStr ? \"?address=\" + inputStr : \"\"}`)\n              }}\n            >查询</Button>\n          </div> */}\n          <div className=\"mr-4 flex items-center\">\n            <SmallLoading size={20} color={\"#EF4444\"} />\n          </div>\n\n\n          {address && !isEmpty(chainData) && connected ? (\n            <div className=\"px-2 rounded bg-white bg-opacity-10 relative w-52 h-11\">\n              <div className=\"font-bold\">{ellipseAddress(address, 12)}</div>\n              <div className=\"flex justify-between text-xs\">\n                <div className=\"w-32 ellipsis\">\n                  {chainData?.name}\n                </div>\n                <span className=\"cursor-pointer hover:text-white\" onClick={killSession}>断开连接</span>\n              </div>\n            </div>)\n            : <div className=\"flex items-center justify-center rounded cursor-pointer bg-white bg-opacity-10 w-24 hover:text-white h-10\"\n              onClick={() => {\n                localStorage.clear()\n                toConnect && toConnect()\n              }}>连接钱包</div>\n          }\n          {/* <Dropdown overlay={menu} placement=\"bottomLeft\">\n          <div className=\"flex items-center justify-center rounded cursor-pointer bg-white bg-opacity-10 w-24 hover:text-white ml-4\">{t(\"home.content\")}</div>\n        </Dropdown> */}\n        </div>\n      </div >\n    </div>\n  );\n});","export default __webpack_public_path__ + \"static/media/bg.751f37e6.svg\";","import { Api, JsonRpc } from 'eosjs'\nconst { JsSignatureProvider } = require('eosjs/dist/eosjs-jssig');\n\nconst contract = 'yijiaxunkeji';\n\nconst network = {\n    blockchain: 'eos',\n    protocol: 'https',\n    host: 'api-kylin.eosasia.one',\n    port: 443,\n    chainId: '5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191',\n}\n\nconst defaultPrivateKey = \"5JSAusb6xRiunAo5x9qCwk7MMATxLEEKHWDa5FmLpXVLoXBbCsU\"; // kylin yijiaxunkeji active\nconst signatureProvider = new JsSignatureProvider([defaultPrivateKey]);\nconst url = network.protocol + '://' + network.host + ':' + network.port;\n\nconst rpc = new JsonRpc(url)\nconst api = new Api({\n    rpc,\n    signatureProvider,\n    chainId: network.chainId\n});\n\nexport { api, JsSignatureProvider, contract, network, rpc }","import { api, contract } from \"./config\"\n\nexport interface IProps {\n  actor?: string,\n  permission?: \"active\" | \"owner\",\n  action: string,\n  data?: any,\n}\n\nexport const pushAction = async (props: IProps) => {\n  const {\n    actor = contract,\n    permission = \"active\",\n    action,\n    data,\n  } = props\n  try {\n    const result = await api.transact(\n      {\n        actions: [\n          {\n            account: actor,\n            name: action,\n            authorization: [\n              {\n                actor,\n                permission,\n              },\n            ],\n            data,\n          },\n        ],\n      },\n      {\n        blocksBehind: 3,\n        expireSeconds: 30,\n      }\n    )\n    return result\n  } catch (error) {\n    return {}\n  }\n}\n\nexport const add = (content: string) => pushAction({ action: \"add\", data: { content } }).then((res) => res)","import { useHistory } from \"react-router-dom\";\nimport { RefObject, useCallback, useEffect, useRef } from \"react\";\nimport { add } from \"../../eos-api/fetch\";\n\nexport const usePrint = () => {\n  const print = useCallback(\n    (ref: RefObject<HTMLDivElement>, text: string) => {\n      if (!ref.current) return\n      const dom = ref.current;\n      let i = 0, timer: any = 0\n      function typing() {\n        if (i <= text.length) {\n          dom.innerHTML = text.slice(0, i++) + '_'\n          timer = setTimeout(typing, 200)\n        }\n        else {\n          dom.innerHTML = text//结束打字,移除 _ 光标\n          clearTimeout(timer)\n        }\n      }\n      typing()\n    }, [])\n\n  return { print }\n}\n\nexport const Website = () => {\n  const history = useHistory()\n  const ref = useRef<HTMLDivElement>(null)\n  const { print } = usePrint()\n\n  useEffect(() => {\n    if (localStorage.getItem(\"transaction_id\")) return\n    add(\"项目被克隆和启动了\").then((res) => {\n      const transaction_id = (res as { transaction_id: string })?.transaction_id\n      localStorage.setItem(\"transaction_id\", transaction_id)\n    })\n  }, [])\n\n  useEffect(() => {\n    print(ref, \"这里是像素元宇宙，一个已经创世但是还没有被绘制的世界！等待着我们去建造，你准备好了吗！我的少年！让我们一起在像素的世界里遨游吧！像素元宇宙，我们来啦！\")\n  }, [ref])\n\n  return (\n    <>\n      <main className=\"mx-auto max-w-7xl px-4\">\n        <div className=\"sm:text-center lg:text-left lg:pt-40\">\n          <h1 className=\"tracking-tight font-extrabold text-gray-200 sm:text-4xl text-xl\">\n            <p className=\"block md:mb-8\" >欢迎来到，我的像素元宇宙！</p>\n            <p className=\"font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-green-300 to-blue-500 animate-pulse\">Hello! Pixels Metaverse!</p>\n          </h1>\n          <p\n            className=\"mt-3 text-base text-gray-400 h-48 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0 lg:mt-12\"\n            ref={ref}>\n          </p>\n          <div className=\"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start lg:mt-12 text-2xl\">\n            <div className=\"rounded-md shadow transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105\">\n              <div className=\"cursorP w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white hover:text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10\"\n                onClick={() => history.push(\"produced\")}>\n                Get started\n              </div>\n            </div>\n            {/* <div className=\"cursorP mt-3 sm:mt-0 sm:ml-3 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105\">\n              <div className=\"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 hover:text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10\"\n              >\n                白皮书\n                </div>\n            </div> */}\n          </div>\n        </div>\n      </main>\n      {/* <div className=\"relative lg:-top-30 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2\">\n        <img className=\"absolute right-0 bottom-0 h-72 w-50 z-10 sm:h-96 animate-bounce\" src={\"https://github.githubassets.com/images/modules/site/home/astro-mona.webp\"} alt=\"\" />\n      </div> */}\n    </>\n  );\n};","import { TContract, convertedBigNumber } from \"abi-to-request\";\nimport { Contract } from 'web3-eth-contract';\nimport { TransactionResponse } from \"@ethersproject/abstract-provider\";\nimport { TransactionReceipt } from 'web3-core';\nimport { ethers } from \"ethers\";\n\n//nonpayable\nexport const addition = {\n\tname: \"addition\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tids: string | number; //uint256\n\t\t\tidList: (string | number)[]; //uint256[]\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { ids, idList } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).addition(ids, idList)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.addition(ids, idList).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//view\nexport const avater = {\n\tname: \"avater\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\taddressParams1: string; //address\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { addressParams1 } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).avater(addressParams1)\n\t\t\treturn convertedBigNumber(res) as string; //uint256\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.avater(addressParams1).call()\n\t\t\treturn res as string; //uint256\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const compose = {\n\tname: \"compose\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tidList: (string | number)[]; //uint256[]\n\t\t\tname: string; //string\n\t\t\ttime: string; //string\n\t\t\tposition: string; //string\n\t\t\tzIndex: string; //string\n\t\t\tdecode: string; //string\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { idList, name, time, position, zIndex, decode } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).compose(idList, name, time, position, zIndex, decode)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.compose(idList, name, time, position, zIndex, decode).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//view\nexport const dataOwner = {\n\tname: \"dataOwner\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tbytes32Params1: string; //bytes32\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { bytes32Params1 } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).dataOwner(bytes32Params1)\n\t\t\treturn convertedBigNumber(res) as string; //address\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.dataOwner(bytes32Params1).call()\n\t\t\treturn res as string; //address\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const handleTransfer = {\n\tname: \"handleTransfer\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tfrom: string; //address\n\t\t\tto: string; //address\n\t\t\tid: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { from, to, id } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).handleTransfer(from, to, id)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.handleTransfer(from, to, id).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const make = {\n\tname: \"make\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tname: string; //string\n\t\t\trawData: string; //string\n\t\t\ttime: string; //string\n\t\t\tposition: string; //string\n\t\t\tzIndex: string; //string\n\t\t\tdecode: string; //string\n\t\t\tnum: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { name, rawData, time, position, zIndex, decode, num } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).make(name, rawData, time, position, zIndex, decode, num)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.make(name, rawData, time, position, zIndex, decode, num).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//view\nexport const material = {\n\tname: \"material\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tuint256Params1: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { uint256Params1 } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).material(uint256Params1)\n\t\t\treturn convertedBigNumber(res) as {\n\t\t\tcomposed: string; //uint256\n\t\t\tdataBytes: string; //bytes32\n\t\t\tremake: string; //bool\n\t\t\t}\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.material(uint256Params1).call()\n\t\t\treturn res as {\n\t\t\tcomposed: string; //uint256\n\t\t\tdataBytes: string; //bytes32\n\t\t\tremake: string; //bool\n\t\t\t}\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const reMake = {\n\tname: \"reMake\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tid: string | number; //uint256\n\t\t\tnum: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { id, num } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).reMake(id, num)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.reMake(id, num).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const setAvater = {\n\tname: \"setAvater\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tid: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { id } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).setAvater(id)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.setAvater(id).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const setConfig = {\n\tname: \"setConfig\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tid: string | number; //uint256\n\t\t\tname: string; //string\n\t\t\ttime: string; //string\n\t\t\tposition: string; //string\n\t\t\tzIndex: string; //string\n\t\t\tdecode: string; //string\n\t\t\tsort: string | number; //uint256\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { id, name, time, position, zIndex, decode, sort } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).setConfig(id, name, time, position, zIndex, decode, sort)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.setConfig(id, name, time, position, zIndex, decode, sort).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const setDataOwner = {\n\tname: \"setDataOwner\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tdataBytes: string; //bytes32\n\t\t\tto: string; //address\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { dataBytes, to } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).setDataOwner(dataBytes, to)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.setDataOwner(dataBytes, to).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n\n//nonpayable\nexport const subtract = {\n\tname: \"subtract\",\n\tcontract: \"PixelsMetaverse\",\n\tfun: async (\n\t\tcontract: TContract,\n\t\targ?: {\n\t\t\tids: string | number; //uint256\n\t\t\tidList: (string | number)[]; //uint256[]\n\t\t}\n\t) => {\n\t\tif (!arg) return\n\t\tconst { ids, idList } = arg;\n\t\tif ((contract as any)?.address && !(contract as any)?.methods) {\n\t\t\tlet res = await (contract as ethers.Contract).subtract(ids, idList)\n\t\t\treturn res as TransactionResponse\n\t\t} else {\n\t\t\tlet res = await (contract as Contract).methods.subtract(ids, idList).send({ from: contract.sendAccount })\n\t\t\treturn res as TransactionReceipt\n\t\t}\n\t}\n}\n","import React, { Dispatch, InputHTMLAttributes, ReactNode, useCallback, useEffect, useMemo, useState } from 'react';\nimport { Select, message, Tabs, Button, Radio } from 'antd';\nimport { isEmpty, map } from 'lodash';\nimport { useUserInfo } from '../../../components/UserProvider';\nimport { PixelsMetaverseImgByPositionData } from '../../../pixels-metaverse';\nimport { ClearIcon } from './SearchQuery';\nimport { MaterialItem } from '../../../components/Card';\nimport { categoryData, IMerchandise } from '../../produced/components/Submit';\nimport { useRequest } from 'abi-to-request';\nimport { addition, compose } from '../../../client/PixelsMetaverse';\nconst { Option } = Select;\nconst { TabPane } = Tabs;\n\ninterface ICompose {\n  singles: string[],\n  composes: string[],\n  composesData: MaterialItem[],\n}\n\nconst Label = ({ children, noNeed }: { children: ReactNode, noNeed?: boolean }) => {\n  return <div className=\"pd-4 mb-1\">{children}{!noNeed && <span className=\"text-red-500\">*</span>}</div>\n}\n\nexport const ComposeDetails = ({ setIsModalVisible }: { setIsModalVisible: Dispatch<React.SetStateAction<boolean>> }) => {\n  const [type, setType] = useState<ICompose>()\n  const [tab, setTab] = useState<string>(\"new\")\n  const [value, setValue] = React.useState<string>(\"-1\");\n  const { composeList, setComposeList, materialListObj, userInfo, setSmallLoading } = useUserInfo()\n  const [{ name }, setMerchandies] = React.useState<IMerchandise>({ name: \"\", num: \"\" })\n\n  const [composeFun] = useRequest(compose, {\n    isGlobalTransactionHookValid: true,\n    onSuccess: () => {\n      setIsModalVisible(false)\n      setSmallLoading(true);\n    },\n    onTransactionSuccess: () => {\n      message.success(\"合成成功！正在获取链上新数据...\")\n      setComposeList && setComposeList([])\n    }\n  }, [])\n\n  const [join] = useRequest(addition, {\n    isGlobalTransactionHookValid: true,\n    onSuccess: () => {\n      setIsModalVisible(false)\n      setSmallLoading(true);\n    },\n    onTransactionSuccess: () => {\n      message.success(`合成至 ${value} 成功！正在获取链上新数据...`)\n      setComposeList && setComposeList([])\n      setIsModalVisible(false)\n    }\n  }, [value, composeList])\n\n  useEffect(() => {\n    if (isEmpty(composeList) || isEmpty(materialListObj)) return\n    const type: ICompose = {\n      singles: [],\n      composes: [],\n      composesData: []\n    }\n    map(composeList, item => {\n      if (isEmpty(materialListObj[item]?.composes)) {\n        type?.singles.push(item)\n        type?.composesData.push(materialListObj[item]);\n      } else {\n        type?.composes.push(item)\n        type.composesData = [...type?.composesData, ...materialListObj[item]?.composeData];\n      }\n    })\n    setType(type)\n  }, [composeList, materialListObj])\n\n  const data = useMemo(() => {\n    if (isEmpty(type?.composesData)) return []\n    return map(type?.composesData, it => ({ ...it, data: it?.baseInfo?.data } as any))\n  }, [type?.composesData])\n\n  const checkData = useCallback(() => {\n    if (!name) {\n      message.warn(\"请输入物品名称\");\n      return;\n    }\n    return true;\n  }, [name]);\n\n  const isUser = useMemo(() => userInfo?.id !== \"0\", [userInfo]);\n\n  return (\n    <div className=\"rounded-md text-black text-opacity-70 bg-white bg-opacity-10 flex items-center justify-between\" style={{ height: 400 }}>\n      <PixelsMetaverseImgByPositionData\n        data={{ positions: \"\", materialData: data }}\n        size={400}\n        style={{ background: \"#323945\", cursor: \"pointer\", boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\", marginRight: 20 }} />\n      <div className=\"flex flex-col justify-between h-full\">\n        {\n          isEmpty(type?.composes)\n            ? <CreateMaterial name={name} setMerchandies={setMerchandies} />\n            : <Tabs defaultActiveKey=\"1\" centered onChange={(key) => {\n              setTab(key)\n            }}>\n              <TabPane tab=\"合并为新的物品\" key=\"new\">\n                <CreateMaterial name={name} setMerchandies={setMerchandies} />\n              </TabPane>\n              <TabPane tab=\"合并至已存在的物品\" key=\"exist\">\n                <MergeMaterial composes={type?.composes} value={value} setValue={setValue} />\n              </TabPane>\n            </Tabs>\n        }\n        <Button\n          type=\"primary\"\n          size=\"large\" onClick={() => {\n            if (!isUser) return\n            if (tab === \"new\") {\n              const is = checkData()\n              if (!is) return\n            }\n            if (tab === \"exist\") {\n              if (!isNaN(Number(value)) && Number(value) <= 0) {\n                message.warn(\"请选择你要合并到的目标ID\");\n                return\n              }\n            }\n\n            if (tab === \"new\") {\n              composeFun({ idList: composeList, name, decode: \"\", time: \"\", position: \"\", zIndex: \"\" })\n            } else {\n              const idList = [...composeList];\n              idList.splice(idList?.indexOf(value), 1);\n              join({ ids: Number(value), idList })\n            }\n          }}>确定</Button>\n      </div>\n    </div >\n  );\n};\n\nexport const Input = (props: InputHTMLAttributes<HTMLInputElement>) => {\n  return (\n    <input\n      className=\"pl-2 inputPlaceholder outline-none :focus:outline-none h-10 bg-black bg-opacity-10 rounded-sm w-full\"\n      {...props}\n      placeholder={`请输入${props.placeholder}`}\n    />\n  )\n}\n\nexport const CreateMaterial = ({\n  name,\n  category,\n  setMerchandies\n}: {\n  name: string;\n  category?: string,\n  setMerchandies: Dispatch<React.SetStateAction<IMerchandise>>\n}) => {\n  return (\n    <div id=\"create-material\" className=\"overflow-y-scroll\" style={{ width: 400 }}>\n      <Label>名称</Label>\n      <Input value={name} placeholder=\"物品名称\" maxLength={15} onChange={(e) => setMerchandies((pre) => ({ ...pre, name: e.target.value }))} />\n      <div className=\"h-8\"></div>\n      {/* <Label>种类</Label>\n      <Select\n        className=\"select outline-none :focus:outline-none h-10 bg-black bg-opacity-10 rounded w-full\"\n        bordered={false}\n        dropdownClassName=\"bg-gray-300\"\n        size=\"large\"\n        allowClear\n        style={{ fontSize: 14, color: \"rgba(0, 0, 0, 0.7) !important\" }}\n        value={category}\n        placeholder=\"请选择种类\"\n        optionFilterProp=\"children\"\n        onChange={(e: string) => { setMerchandies((pre) => ({ ...pre, category: e })) }}\n        clearIcon={ClearIcon}\n      >\n        {map(categoryData, item => <Option key={item.value} value={item.value}>{item.label}</Option>)}\n      </Select> */}\n    </div>\n  )\n}\n\nexport const MergeMaterial = ({ composes, value, setValue }: { composes?: string[], value?: string, setValue: Dispatch<React.SetStateAction<string>> }) => {\n  const { materialListObj } = useUserInfo()\n\n  return <div className=\"overflow-y-scroll\" style={{ width: 400, height: 280 }}>\n    <Radio.Group onChange={(e) => {\n      setValue(e.target.value)\n    }} value={value}>\n      {map(composes, item => {\n        return (\n          <Radio value={item} key={item} style={{ marginTop: 20 }}>\n            <div className=\"flex items-center\">\n              <div className=\"inline-block\" style={{ width: 50 }}>ID:{item} </div>\n              <div className=\"ellipsis inline-block\" style={{ width: 300 }}>&emsp;{materialListObj[item]?.baseInfo?.name}</div>\n            </div>\n          </Radio>\n        )\n      })}\n    </Radio.Group>\n  </div>\n}","import { useState } from \"react\";\nimport { map } from \"lodash\";\nimport { Button, Input, Modal } from \"antd\";\nimport { useUserInfo } from \"../../../components/UserProvider\";\nimport { CloseSquareOutlined } from \"@ant-design/icons\";\nimport { ComposeDetails } from \"./ComposeDetails\";\nimport { useQueryString } from \"../../../helpers/utilities\";\n\nexport const ClearIcon = () => <div className=\"relative bg-white bg-opacity-10\"><CloseSquareOutlined className=\"absolute\" style={{ top: -2, left: -2, fontSize: 16 }} /></div>\n\nexport const SearchQuery = () => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const { composeList } = useUserInfo();\n  const { searchString, setSearchString } = useQueryString();\n  const [{\n    id,\n    owner\n  }, setFilter] = useState({\n    owner: searchString?.owner || \"\",\n    id: searchString?.id || \"\",\n  })\n\n  const query = ()=>{\n    const data = {\n      ...searchString,\n      id: id.trim() ? id?.split(\",\") : undefined,\n      owner: owner.trim() || undefined,\n      createID: \"\"\n    }\n    setSearchString(data)\n  }\n\n  return (\n    <div className=\"flex justify-between items-center\">\n      <Button\n        type=\"primary\"\n        disabled={composeList?.length < 2}\n        onClick={() => { setIsModalVisible(true); }}\n      >一键合成</Button>\n      <Modal\n        title=\"合成虚拟物品\"\n        okText={\"合成\"}\n        cancelText=\"取消\"\n        width={1000}\n        visible={isModalVisible}\n        footer={null}\n        onCancel={() => { setIsModalVisible(false); }}\n      >\n        <ComposeDetails setIsModalVisible={setIsModalVisible} />\n      </Modal>\n      <Input\n        style={{ width: 350, marginLeft: 10 }}\n        allowClear\n        placeholder=\"所有者地址\"\n        value={owner}\n        onPressEnter={query}\n        onChange={(val) => {\n          setFilter((pre) => ({ ...pre, owner: val?.target?.value?.trim() }))\n        }}\n      >\n      </Input>\n      <Input\n        style={{ width: 350, marginLeft: 10, marginRight: 10 }}\n        allowClear\n        placeholder=\"物品ID，查询多个ID请用英文逗号隔开\"\n        value={id}\n        onPressEnter={query}\n        onChange={(val) => {\n          const value = val?.target?.value\n          if (value === \"\") setFilter((pre) => ({ ...pre, id: \"\" }))\n          const lastStr = value?.slice(-1), last2Str = value?.slice(-2);\n          if (lastStr?.trim() === \"\" || last2Str === \",,\") return\n          if (isNaN(Number(lastStr)) && lastStr !== \",\") return\n          setFilter((pre) => ({ ...pre, id: value }))\n        }}\n      >\n      </Input>\n      <Button\n        type=\"primary\"\n        onClick={query}>查询</Button>\n      {/* <Select\n        showSearch\n        style={{ width: 330, marginLeft: 10 }}\n        allowClear\n        placeholder=\"所有者地址\"\n        optionFilterProp=\"children\"\n        onChange={(val) => {\n          setList((pre) => ({ ...pre, owner: val }))\n        }}\n        onSearch={onSearch}\n        filterOption={(input, option) =>\n          option?.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n        clearIcon={ClearIcon}\n      >\n        {map(keys(shopList), item => <Option key={item} value={item}>{item}</Option>)}\n      </Select>\n      <Select\n        style={{ width: 120, marginLeft: 10 }}\n        allowClear\n        placeholder=\"物品类别\"\n        optionFilterProp=\"children\"\n        onChange={(val) => {\n          setList((pre) => ({ ...pre, category: val }))\n        }}\n        clearIcon={ClearIcon}\n      >\n        {map(filter(keys(materialCatagoryList), item=>!!item), item => <Option key={item} value={item}>{filter(categoryData, ite => ite.value === item)[0]?.label}</Option>)}\n      </Select>\n       */}{/* <Select\n        style={{ width: 120, marginLeft: 10 }}\n        allowClear\n        placeholder=\"是否收藏\"\n        optionFilterProp=\"children\"\n        onChange={(val) => {\n          setList((pre) => ({ ...pre, sale: val }))\n        }}\n        clearIcon={ClearIcon}\n      >\n        {map(keys(saleList), item => <Option key={item} value={item}>{item === \"true\" ? \"未收藏\" : \"已收藏\"}</Option>)}\n      </Select> */}\n      {/* <Select\n        style={{ width: 120, marginLeft: 10 }}\n        allowClear\n        placeholder=\"排序\"\n        optionFilterProp=\"children\"\n        onChange={(val) => {\n          setList((pre) => ({ ...pre, sort: val }))\n        }}\n        clearIcon={ClearIcon}\n      >\n        {map(sortList, item => <Option key={item.value} value={item?.value}>{item?.label}</Option>)}\n      </Select> */}\n    </div>\n  )\n}","import { CopyOutlined, SmileOutlined } from \"@ant-design/icons\";\nimport { Checkbox, message, Modal, Tooltip, Tree, Typography } from \"antd\";\nimport { DataNode } from \"antd/lib/tree\";\nimport { cloneDeep, find, isEmpty, map } from \"lodash\";\nimport React, { Dispatch, ReactNode, useEffect, useMemo, useState } from \"react\";\nimport { useUserInfo } from \"../components/UserProvider\";\nimport { useRequest, useWeb3Info } from \"abi-to-request\";\nimport { categoryData } from \"../pages/produced/components/Submit\";\nimport { PixelsMetaverseImgByPositionData } from \"../pixels-metaverse\";\nimport {\n  setAvater,\n  subtract\n} from \"../client/PixelsMetaverse\";\nimport { useLoading } from \"./Loading\";\nconst { Text } = Typography;\n\nexport interface IMaterial {\n  id: string;\n  compose: string;\n  time: string;\n  position: string;\n  zIndex: string;\n  owner: string;\n  data: string;\n}\n\nexport interface IBaseInfo {\n  data: string;\n  category: string;\n  decode: string;\n  name: string;\n  userId?: string;\n}\n\nexport interface MaterialItem {\n  composes: string[];\n  material: IMaterial;\n  baseInfo: IBaseInfo;\n  composeData: MaterialItem[]\n}\n\nexport const CancelCompose = ({ item, setIsModalVisible }: { item: MaterialItem, setIsModalVisible?: Dispatch<React.SetStateAction<boolean>> }) => {\n  const { composeList, setSmallLoading } = useUserInfo()\n\n  const [cancelCompose] = useRequest(subtract, {\n    isGlobalTransactionHookValid: true,\n    onSuccess: () => {\n      setSmallLoading(true);\n      setIsModalVisible && setIsModalVisible(false)\n    },\n    onTransactionSuccess: () => {\n      message.success(\"分解成功！正在获取链上新数据...\")\n    }\n  }, [composeList, item])\n\n  return (<span className=\"inline-block bg-red-500 text-white ml-4 px-2 rounded-sm cursor-pointer\" onClick={() => { cancelCompose({ ids: item?.material?.id, idList: [] }) }}>\n    分解\n  </span>)\n}\n\nexport const RemoveCompose = ({ item, setIsModalVisible }: { item: MaterialItem, setIsModalVisible?: Dispatch<React.SetStateAction<boolean>> }) => {\n  const { materialListObj, setSmallLoading } = useUserInfo()\n\n  const [substract] = useRequest(subtract, {\n    isGlobalTransactionHookValid: true,\n    onSuccess: () => {\n      setIsModalVisible && setIsModalVisible(false)\n      setSmallLoading(true);\n    },\n    onTransactionSuccess: () => {\n      message.success(\"移除成功！正在获取链上新数据...\")\n    }\n  }, [item])\n  const from = useMemo(() => materialListObj[item?.material?.compose], [materialListObj, item])\n  const isShow = useMemo(() => from?.material?.compose === \"0\", [from, item])\n\n  return (isShow ? <span className=\"inline-block bg-red-500 text-white ml-4 px-2 rounded-sm cursor-pointer\" onClick={() => { substract({ ids: from?.material?.id, idList: [item?.material?.id] }) }}>\n    移除该物品\n  </span> : null)\n}\n\nexport const SetAvater = ({ item }: { item: MaterialItem }) => {\n  const { openLoading, closeDelayLoading } = useLoading()\n  const { address } = useWeb3Info()\n  const { composeList, setComposeList, materialListObj, userInfo, setSmallLoading } = useUserInfo()\n\n  const [setAvaterFun] = useRequest(setAvater, {\n    isGlobalTransactionHookValid: true,\n    onSuccess: () => {\n      setSmallLoading(true);\n    },\n    onTransactionSuccess: () => {\n      message.success(\"头像设置成功！正在获取链上新数据...\")\n    }\n  })\n\n  if (address?.toLowerCase() === item?.material?.owner?.toLowerCase() && String(userInfo?.id) !== item?.material?.id) {\n    return (<span className=\"inline-block bg-red-500 text-white ml-4 px-2 rounded-sm cursor-pointer\" onClick={() => { setAvaterFun({ id: item?.material?.id }) }}>\n      设置为头像\n    </span>)\n  } else {\n    return null\n  }\n}\n\nexport const DetailsBody = ({ item, child, setIsModalVisible }: { item: MaterialItem, child?: boolean, setIsModalVisible?: Dispatch<React.SetStateAction<boolean>> }) => {\n  const { materialListObj, userInfo } = useUserInfo()\n  const { address } = useWeb3Info()\n  const data = useMemo(() => {\n    if (isEmpty(item) || isEmpty(materialListObj)) return []\n    if (isEmpty(item?.composes)) return [({ ...item, data: item?.baseInfo?.data } as any)]\n    return map(item?.composeData, it => ({ ...it, data: it?.baseInfo?.data } as any))\n  }, [item, materialListObj])\n\n  return (\n    <div className=\"flex\">\n      <PixelsMetaverseImgByPositionData\n        data={{ ...item, positions: item?.baseInfo?.data, materialData: data }}\n        size={200}\n        style={{ background: \"#323945\", cursor: \"pointer\", boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\" }} />\n      <div className=\"ml-10 flex flex-col justify-between\">\n        <div>物品名称：{item?.baseInfo?.name || \"这什么鬼名称\"}<SetAvater item={item} /></div>\n        <div className=\"flex\">组成部分：<div className=\"overflow-x-scroll\" style={{ maxWidth: !child ? 800 : 400 }}>{item?.composes?.join(\",\") || \"暂无\"}{/* {!isEmpty(item?.composes) && Number(item?.material?.compose) === 0 && <CancelCompose item={item} setIsModalVisible={setIsModalVisible} />} */}</div></div>\n        <div className=\"relative\">所属地址：<Text copyable={{\n          text: item?.material?.owner,\n          icon: [<CopyOutlined className=\"absolute top-1\" />, <SmileOutlined className=\"absolute top-1\" />],\n          tooltips: false\n        }}>\n          {item?.material?.owner}\n        </Text></div>\n        <div>所属ID：{Number(item?.material?.compose) > 0 ? <>{item?.material?.compose}<RemoveCompose item={item} setIsModalVisible={setIsModalVisible} /></> : \"暂未被合成\"}</div>\n        {/* <div className=\"flex\">是否收藏：{isCollect ? \"是\" : `否`} {!isCollect && <div className=\"ml-8 flex w-90\" style={{ color: !isCollect && item?.material?.owner === address ? \"rgba(0,0,0,0.7)\" : \"white\" }}><Collection item={item} /></div>}</div> */}\n      </div>\n    </div>\n  )\n}\n\nexport const MaterialTreeData = ({ item }: { item: MaterialItem }) => {\n  const { materialListObj } = useUserInfo()\n  const [select, setSelect] = useState<MaterialItem>()\n  const [treeData, setTreeData] = useState<DataNode[]>();\n\n  useEffect(() => {\n    if (isEmpty(item) || isEmpty(materialListObj)) return\n    const nodeData: DataNode[] = [];\n    const fun = (item: MaterialItem, node: DataNode[]) => {\n      if (item?.composes?.length === 0) return\n      map(item?.composes, (ite: string) => {\n        if (materialListObj[ite] && materialListObj[ite]?.material?.compose === item?.material?.id) {\n          node?.push({\n            key: ite,\n            title: ite,\n            children: []\n          })\n          const childNode = find(node, it => it.key === ite)?.children;\n          childNode && fun(materialListObj[ite], childNode);\n        }\n      })\n    }\n    fun(item, nodeData)\n    nodeData[0]?.key && setSelect(materialListObj[nodeData[0]?.key]);\n    setTreeData(nodeData)\n  }, [item, materialListObj])\n\n  const onSelect = (selectedKeys: React.Key[]) => {\n    !isEmpty(selectedKeys) && setSelect(materialListObj[selectedKeys[0]])\n  };\n\n  return (\n    <div className=\"flex justify-between\" style={{ height: 300, minWidth: 1200 }}>\n      {treeData && treeData[0] && <Tree\n        className=\"flex-1\"\n        height={300}\n        showLine={true}\n        defaultExpandedKeys={[treeData[0]?.key]}\n        onSelect={onSelect}\n        treeData={treeData}\n      />}\n      {!isEmpty(treeData) && select && <div className=\"border-l border-black border-opacity-10 p-4\" style={{ width: 800, minWidth: 800 }}>\n        <DetailsBody item={select} child />\n      </div>}\n    </div>\n  );\n}\n\nexport const Details = ({ id, setIsModalVisible }: { id: string, setIsModalVisible: Dispatch<React.SetStateAction<boolean>> }) => {\n  const { materialListObj } = useUserInfo()\n  const item = useMemo(() => materialListObj[id], [materialListObj, id])\n\n  return (\n    <div className=\"text-black text-opacity-70\">\n      <p className=\"text-xl\">ID:{id} 详情</p>\n      <DetailsBody item={item} setIsModalVisible={setIsModalVisible} />\n      {!isEmpty(item?.composes) && <div className=\"pt-4 mt-8 border-t border-black border-opacity-70 border-dashed\">\n        <MaterialTreeData item={item} />\n      </div>}\n    </div>\n  )\n}\n\nexport const MaterialLabel = ({\n  children,\n  toRight,\n  toDetails,\n  ...props\n}: {\n  children: ReactNode,\n  toRight?: boolean,\n  toDetails?: boolean\n} & React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>) => {\n  const [isModalVisible, setIsModalVisible] = useState<boolean>(false);\n\n  if (!children) return null\n\n  return (\n    <>\n      <Tooltip className=\"cursor-pointer text-sm\" color=\"#29303d\" title={toDetails ? `点击可查看详情` : \"\"}>\n        <div\n          className={`p px-2 rounded-sm bg-white bg-opacity-10 text-white text-opacity-90`}\n          style={{ marginRight: toRight ? 0 : 10, marginLeft: toRight ? 10 : 0, cursor: toDetails ? \"pointer\" : \"default\" }}\n          onClick={() => {\n            toDetails && setIsModalVisible(true)\n          }}\n          {...props}>{children}</div>\n      </Tooltip>\n      {toDetails && <Modal\n        title=\"\"\n        width={1200}\n        visible={isModalVisible}\n        footer={null}\n        onCancel={() => { setIsModalVisible(false) }}\n      >\n        <Details id={String(children)} setIsModalVisible={setIsModalVisible} />\n      </Modal>}\n    </>\n  )\n}\n\n/* export const Collection = ({ item }: { item: MaterialItem }) => {\n  const { collectList } = useUserInfo()\n  const { address } = useWeb3Info()\n\n  const [collect] = useRequest(PixelsMetaverse_Collect, {\n    isGlobalTransactionHookValid: true,\n    onTransactionSuccess: () => {\n      message.success(\"收藏成功！\")\n    }\n  }, [])\n\n  const [cancelCollect] = useRequest(PixelsMetaverse_CancelCollect, {\n    isGlobalTransactionHookValid: true,\n    onTransactionSuccess: () => {\n      message.success(\"已取消收藏！\")\n    }\n  }, [])\n\n  const index = useMemo(() => collectList?.indexOf(item?.material?.id), [collectList, item, address])\n\n  return (\n    <>\n      {address?.toLowerCase() !== item?.material?.owner?.toLowerCase() ? <button\n        className=\"p px-2 bg-red-500 rounded-sm \" onClick={() => {\n          if (index !== undefined && index >= 0) cancelCollect({ id: Number(item?.material?.id), index })\n          else collect({ id: Number(item?.material?.id) })\n        }}\n      >{index !== undefined && index >= 0 ? \"取消收藏\" : \"收藏\"}</button> : <div>当前账户</div>}\n    </>\n  )\n} */\n\nexport const Composes = ({\n  item\n}: {\n  item: MaterialItem,\n}) => {\n  const { address } = useWeb3Info()\n  const { composeList, setComposeList } = useUserInfo()\n\n  return (\n    <>\n      {Number(item?.material?.compose) === 0\n        ? (address?.toLowerCase() === item?.material?.owner?.toLowerCase() ? <Checkbox\n          checked={composeList.includes(item?.material?.id)}\n          onChange={(checked) => {\n            setComposeList && setComposeList((pre: string[]) => {\n              const list = cloneDeep(pre)\n              if (checked?.target?.checked) {\n                list?.push(item?.material?.id)\n              } else {\n                list?.splice(list.indexOf(item?.material?.id), 1)\n              }\n              return list\n            })\n          }} /> : <div>非当前账户</div>)\n        : <div>已合成至{item?.material?.compose}</div>\n      }\n    </>\n  )\n}","import { find, isEmpty, map } from \"lodash\";\nimport { useUserInfo } from \"../../../components/UserProvider\";\nimport { categoryData } from \"../../produced/components/Submit\";\nimport { useHistory } from \"react-router\";\nimport { PixelsMetaverseImgByPositionData } from \"../../../pixels-metaverse\";\nimport { useMemo, useState } from \"react\";\nimport { ellipseAddress } from \"../../../helpers/utilities\";\nimport { Composes, Details, MaterialItem, MaterialLabel } from \"../../../components/Card\";\nimport { message, Modal, Typography } from \"antd\";\nimport { useWeb3Info } from \"abi-to-request\";\nconst { Paragraph } = Typography;\n\nexport const MaterialCard = ({ item }: { item: MaterialItem }) => {\n  const { userInfo, materialListObj } = useUserInfo()\n  const [isModalVisible, setIsModalVisible] = useState<boolean>(false);\n  const [isBigImg, setIsBigImg] = useState<boolean>(false);\n  const { address } = useWeb3Info()\n  const data = useMemo(() => {\n    if (isEmpty(item) || isEmpty(materialListObj)) return []\n    if (isEmpty(item?.composes)) return [({ ...item, data: item?.baseInfo?.data } as any)]\n    return map(item?.composeData, it => ({ ...it, data: it?.baseInfo?.data } as any))\n  }, [item, materialListObj])\n\n  const copyToClipboard = (content: string) => {\n    const el = document.createElement(\"textarea\");\n    el.value = content;\n    el.setAttribute(\"readonly\", \"\");\n    el.style.position = \"absolute\";\n    el.style.left = \"-9999px\";\n    document.body.appendChild(el);\n    el.select();\n    el.setSelectionRange(0, 99999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n    message.success(\"复制成功！\");\n  };\n\n  return (\n    <div\n      key={item?.material?.id}\n      className=\"p-2 mb-4 flex-col flex rounded-md bg-white bg-opacity-10\"\n      style={{\n        height: 216 + 100,\n        width: 216,\n        margin: 7\n      }}>\n      <PixelsMetaverseImgByPositionData\n        data={{ ...item, positions: item?.baseInfo?.data, materialData: data }}\n        size={200}\n        style={{ background: userInfo?.user?.bgColor || \"#e1e1e11a\", cursor: \"pointer\", boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\" }}\n        onClick={() => { setIsBigImg(true) }}\n      />\n      {/* <PixelsMetaverseImgByPositionData2 data={item} size={[\"50%\", \"50%\"]} style={{ borderRadius: 4, background: item?.bgColor || userInfo?.user?.bgColor || \"#e1e1e11a\", cursor: \"pointer\", boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\" }} /> */}\n      <div className=\"flex flex-col justify-between flex-1 mt-4\" style={{ fontSize: 12, width: 200 }}>\n        <div className=\"text-right flex-1\" style={{ height: 40, textOverflow: \"ellipsis\", overflow: \"hidden\" }}>{item?.baseInfo?.name || \"这什么鬼\"}</div>\n        <div className=\"flex justify-between items-center mt-2\">\n          <div className=\"flex justify-between items-center\">\n            <MaterialLabel toDetails>{item?.material?.id}</MaterialLabel>\n            {/* <MaterialLabel>{(find(categoryData, ite => ite?.value === item?.baseInfo?.category) || {})?.label}</MaterialLabel> */}\n          </div>\n          <Composes item={item} />\n        </div>\n        <div className=\"flex justify-between items-center mt-2\">\n          {item?.material?.owner && <div\n            className=\"p rounded-sm overflow-x-scroll hover:text-red-500 cursor-pointer\"\n            style={{ height: 20, textOverflow: \"ellipsis\", overflow: \"hidden\" }}\n            onClick={()=>{\n              copyToClipboard(item?.material?.owner)\n            }}\n          >{ellipseAddress(item?.material?.owner, 15)}</div>}\n        </div>\n      </div>\n      {isModalVisible && item?.material?.id && <Modal\n        title=\"\"\n        width={1200}\n        visible={isModalVisible}\n        footer={null}\n        onCancel={() => { setIsModalVisible(false) }}\n      >\n        <Details id={item?.material?.id} setIsModalVisible={setIsModalVisible} />\n      </Modal>}\n      {isBigImg && item?.material?.id && <Modal\n        title=\"\"\n        width={600}\n        visible={isBigImg}\n        footer={null}\n        bodyStyle={{ padding: 0 }}\n        closable={false}\n        onCancel={() => { setIsBigImg(false) }}\n      >\n        <PixelsMetaverseImgByPositionData\n          data={{ ...item, positions: item?.baseInfo?.data, materialData: data }}\n          size={600}\n          style={{ background: \"#323945\", cursor: \"pointer\", boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\", margin: \"auto\" }} />\n      </Modal>}\n    </div>\n  )\n}","import { ReactNode, CSSProperties } from \"react\";\nimport { Empty } from \"antd\";\nimport { isEmpty } from \"lodash\";\nimport { useWeb3Info } from \"abi-to-request\";\n\nexport const DataStateBox = ({\n  data,\n  children,\n  styleCSS,\n  classCSS,\n  emptyDesc = \"请链接钱包\"\n}: {\n  data: any;\n  children: ReactNode;\n  styleCSS?: CSSProperties;\n  classCSS?: string;\n  emptyDesc?: string;\n}) => {\n  const { connected, networkId } = useWeb3Info();\n\n  return (\n    <div\n      className={`w-full h-full ${classCSS}`}\n      style={{ height: \"calc(100vh - 170px)\", ...styleCSS }}\n    >\n      {isEmpty(data)\n        ? <div className=\"w-full h-full flex justify-center items-center opacity-70\">\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description={connected && networkId ? [42].includes(networkId) ? \"暂无数据\" : \"请链接 Kovan 网络\" : emptyDesc} style={{ color: \"#fff\" }} />\n        </div>\n        : children}\n    </div>\n  );\n};\n","import { ChangeEvent, InputHTMLAttributes, ReactNode, useCallback, useMemo, useState } from 'react';\nimport { Select, message, Modal, Button } from 'antd';\nimport { Dictionary, keys, map } from 'lodash';\nimport { useUserInfo } from '../../../components/UserProvider';\nimport { usePixelsMetaverseHandleImg } from '../../../pixels-metaverse';\nimport React from 'react';\nimport { make } from '../../../client/PixelsMetaverse';\nimport { useWeb3Info, useRequest, useContractRequest } from 'abi-to-request';\nimport { useLoading } from '../../../components/Loading';\nconst { Option } = Select;\n\nexport const Label = ({ children, noNeed }: { children: ReactNode, noNeed?: boolean }) => {\n  return <div className=\"pt-4 mb-1\">{children}{!noNeed && <span className=\"text-red-500\">*</span>}</div>\n}\n\nexport const Input = (props: InputHTMLAttributes<HTMLInputElement>) => {\n  return (\n    <input\n      className=\"pl-2 inputPlaceholder outline-none :focus:outline-none h-10 bg-white bg-opacity-20 rounded-sm w-full\"\n      {...props}\n      placeholder={`请输入${props.placeholder}`}\n    />\n  )\n}\n\nexport const mustNum = (e: ChangeEvent<HTMLInputElement>) => {\n  const val = Number(e?.target?.value);\n  if (Number(e.target.value) >= 0 && !isNaN(val)) {\n    return e.target.value\n  }\n  if (isNaN(parseFloat(e.target.value))) {\n    return \"\"\n  }\n  return `${parseFloat(e.target.value)}`\n}\n\nexport const categoryData = [\n  {\n    label: \"脸\",\n    value: \"face\"\n  }, {\n    label: \"头发\",\n    value: \"hair\"\n  }, {\n    label: \"眼睛\",\n    value: \"eye\"\n  }, {\n    label: \"鼻子\",\n    value: \"nose\"\n  }, {\n    label: \"嘴巴\",\n    value: \"mouth\"\n  }, {\n    label: \"耳朵\",\n    value: \"ear\"\n  }, {\n    label: \"脖子\",\n    value: \"neck\"\n  }, {\n    label: \"胡子\",\n    value: \"beard\"\n  }, {\n    label: \"饰品\",\n    value: \"accessories\"\n  }, {\n    label: \"其他\",\n    value: \"other\"\n  }\n]\n\nexport interface IMerchandise {\n  name: string;\n  num: string;\n  data?: string;\n  decode?: string;\n  time?: string;\n  position?: string;\n  zIndex?: string;\n}\n\nexport const Submit = () => {\n  const { positionsArr, setPositionsArr, config, dealClick: { value, clear } } = usePixelsMetaverseHandleImg()\n  const [{\n    name,\n    num,\n    decode,\n    time,\n    position,\n    zIndex\n  }, setMerchandies] = React.useState<IMerchandise>({\n    name: \"\",\n    num: \"\",\n    decode: \"\",\n    time: \"\",\n    position: \"\",\n    zIndex: \"\",\n  })\n  const [positionData, setPostionData] = useState(\"\")\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const { address: addresss } = useWeb3Info()\n  const { setSmallLoading } = useUserInfo()\n  const { openLoading, closeDelayLoading } = useLoading()\n  const address = addresss\n  const { contracts } = useContractRequest()\n\n  const [makeFun] = useRequest(make, {\n    onSuccessBefore: openLoading,\n    onSuccess: ()=>{ \n      setSmallLoading(true)\n      closeDelayLoading();\n    },\n    onTransactionSuccess: () => {\n      message.success(\"物品制造成功！正在获取链上新数据...\");\n      setMerchandies({ name: \"\", num: \"\", })\n      clear()\n      setPositionsArr([])\n    },\n    onFail: () => {\n      setIsModalVisible(false)\n    }\n  }, [\n    address,\n    name,\n    num,\n    decode,\n    position,\n    time,\n    zIndex\n  ])\n\n  const min = useMemo(() => Math.min(...positionsArr), [positionsArr])\n\n  const handleOk = useCallback(() => {\n    const rawData = `${positionData}${min}`;\n    makeFun({ name, num, rawData, decode: \"\", position: \"\", zIndex: \"\", time: \"\" });\n    setIsModalVisible(false);\n  }, [positionData, min, name, num]);\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const colorsObj = useMemo(() => {\n    const colors: Dictionary<number[]> = {}\n    map(positionsArr, item => {\n      colors[value[item]] ? colors[value[item]].push(item) : colors[value[item]] = [item]\n    })\n    return colors\n  }, [value, positionsArr])\n\n  const getPositionStr = useCallback(() => {\n    let str = \"\"\n    let min = Math.min(...positionsArr)\n    const colorsArrBySort = keys(colorsObj).sort((a, b) => parseInt(a.slice(1), 16) - parseInt(b.slice(1), 16))\n    for (let i = 0; i < colorsArrBySort.length; i++) {\n      //再对颜色排个序 小的放前面\n      const position = map(colorsObj[colorsArrBySort[i]], ite => (ite - min).toString(36)).join(\"|\")\n      str += `${parseInt(colorsArrBySort[i].slice(1), 16).toString(36)}-${position}-`\n    }\n    return `${str}`\n  }, [value, positionsArr, colorsObj, min])\n\n  const checkData = useCallback(() => {\n    if (!name) {\n      message.warn(\"请输入物品名称\");\n      return;\n    }\n    if (!num) {\n      message.warn(\"请输入物品数量\");\n      return;\n    }\n    return true;\n  }, [name, num, decode, position, time, zIndex]);\n\n  return (\n    <div className=\"rounded-md text-gray-300 w-72 p-4 bg-white bg-opacity-10\">\n      <div className=\"flex items-center text-2xl text-gray-300\">制作虚拟物品&nbsp;\n        {/* <Tooltip placement=\"right\" className=\"cursor-pointer\" title={`建议各部位分开创建，组合性更强。`} color=\"#29303d\">\n          <ExclamationCircleOutlined />\n        </Tooltip> */}\n      </div>\n      <div className=\"overflow-y-scroll\" style={{ height: 480 }}>\n        <Label>名称</Label>\n        <Input value={name} placeholder=\"物品名称\" maxLength={15} onChange={(e) => setMerchandies((pre) => ({ ...pre, name: e.target.value }))} />\n        {/* <Label>种类</Label>\n        <Select\n          className=\"select outline-none :focus:outline-none h-10 bg-white bg-opacity-20 rounded w-full\"\n          bordered={false}\n          dropdownClassName=\"bg-gray-300\"\n          size=\"large\"\n          allowClear\n          style={{ fontSize: 14, color: \"rgba(255, 255, 255, 0.1) !important\" }}\n          value={category}\n          placeholder=\"请选择种类\"\n          optionFilterProp=\"children\"\n          onChange={(e: string) => { setMerchandies((pre) => ({ ...pre, category: e })) }}\n          clearIcon={ClearIcon}\n        >\n          {map(categoryData, item => <Option key={item.value} value={item.value}>{item.label}</Option>)}\n        </Select> */}\n        <Label>数量</Label>\n        <Input value={num} placeholder=\"物品数量\" maxLength={8} onChange={(e) => setMerchandies((pre) => ({ ...pre, num: mustNum(e) }))} />\n        {/* <Label noNeed>开始时间(毫秒)</Label>\n        <Input value={num} placeholder=\"开始时间\" maxLength={1} onChange={(e) => setMerchandies((pre) => ({ ...pre, num: mustNum(e) }))} />\n        <div className=\"flex items-center mt-4 mb-1\">\n          <div>层级</div>\n          <Tooltip placement=\"top\" className=\"cursor-pointer\" title={`当前绘制的物品显示的层级，越高越显示在外层`} color=\"#29303d\">\n            <ExclamationCircleOutlined />\n          </Tooltip>\n        </div>\n        <Input value={num} placeholder=\"层级\" maxLength={1} onChange={(e) => setMerchandies((pre) => ({ ...pre, num: mustNum(e) }))} />\n        <div className=\"flex items-center mt-4 mb-1\">\n          <div>位置</div>\n          <Tooltip placement=\"top\" className=\"cursor-pointer\" title={`当前绘制的图片的URL地址`} color=\"#29303d\">\n            <ExclamationCircleOutlined />\n          </Tooltip>\n        </div>\n        <Input value={position} placeholder=\"位置\" maxLength={10} onChange={(e) => setMerchandies((pre) => ({ ...pre, weight: mustNum(e) }))} />\n        <div className=\"flex items-center mt-4 mb-1\">\n          <div>解码方式</div>\n          <Tooltip placement=\"top\" className=\"cursor-pointer\" title={`当前绘制的图片的URL地址`} color=\"#29303d\">\n            <ExclamationCircleOutlined />\n          </Tooltip>\n        </div>\n        <Input value={position} placeholder=\"解码方式\" maxLength={10} onChange={(e) => setMerchandies((pre) => ({ ...pre, weight: mustNum(e) }))} />\n */}\n        {/* {<div className=\"mt-4\">你还不是宇宙创始居民，请\n          <span className=\"text-red-500 cursor-pointer\" onClick={() => {\n            setAvater({\n              id: 2\n            })\n          }}>激活</span>自己的元宇宙身份！</div>} */}\n        <Button\n          type=\"primary\"\n          size=\"large\"\n          className=\"mt-6 w-full rounded\"\n          onClick={() => {\n            const is = checkData()\n            if (!is) return\n            const positionData = getPositionStr()\n            setPostionData(positionData)\n            if (!positionData) {\n              message.warn(\"请绘制虚拟物品\");\n              return;\n            }\n            setIsModalVisible(true);\n          }}\n        >提交</Button>\n      </div>\n\n      <Modal\n        title=\"是否发布物品\"\n        okText={positionData?.length >= 64 ? \"不用担心，硬核提交\" : \"确认\"}\n        cancelText=\"取消\"\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <p>是否确认发布该物品？</p>\n        <p>{positionData?.length >= 50 && \"当前数据量较大，可能消耗的GAS较多，且有可能提交不成功，请问是否继续提交数据？\"}</p>\n      </Modal>\n    </div >\n  );\n};","import { find, isEmpty, map } from \"lodash\";\nimport {\n  PixelsMetaverseImgByPositionData,\n  usePixelsMetaverseHandleImg\n} from \"../pixels-metaverse\";\nimport { useLocation } from \"react-router-dom\";\nimport { useUserInfo } from \"./UserProvider\";\nimport { categoryData } from \"../pages/produced/components/Submit\";\nimport { useWeb3Info } from \"abi-to-request\";\nimport { useMemo } from \"react\";\nimport { Composes, MaterialItem, MaterialLabel } from \"./Card\";\n\nexport const AvatarCard = ({ item, star }: {\n  item: MaterialItem, star?: boolean\n}) => {\n  const { address: addresss } = useWeb3Info()\n  const { setSelectList } = usePixelsMetaverseHandleImg()\n  const { search } = useLocation()\n  const address = search ? search.split(\"=\")[1] : addresss\n  const { materialListObj, userInfo } = useUserInfo()\n\n  const data = useMemo(() => {\n    if (isEmpty(item) || isEmpty(materialListObj)) return []\n    if (isEmpty(item?.composes)) return [({ ...item, data: item?.baseInfo?.data } as any)]\n    return map(item?.composeData, it => ({ ...it, data: it?.baseInfo?.data } as any))\n  }, [item, materialListObj])\n\n  return (\n    <div\n      key={item?.material?.id}\n      className=\"mt-2 item-avatar p-2 flex justify-between border-gray-500 border-b\"\n    >\n      <PixelsMetaverseImgByPositionData\n        data={{ ...item, positions: item?.baseInfo?.data, materialData: data }}\n        size={96}\n        style={{ background: userInfo?.user?.bgColor || \"#e1e1e11a\", cursor: 'pointer', boxShadow: \"0px 0px 5px rgba(225,225,225,0.3)\" }}\n        onClick={() => {\n          /* setSelectList((pre: any) => {\n            const list = cloneDeep(pre) as string[]\n            const index = list.indexOf(item?.baseInfo?.data)\n            if (index >= 0) {\n              list.splice(index, 1)\n            } else {\n              list.push(item?.baseInfo?.data)\n            }\n            return list\n          }) */\n        }}\n      />\n      <div className=\"flex justify-end flex-1\">\n        <div className=\"ml-2 flex flex-col justify-between items-end\">\n          <div className=\"text-right\" style={{ height: 40, textOverflow: \"ellipsis\", overflow: \"hidden\" }}>{item?.baseInfo?.name || \"这什么鬼\"}</div>\n          {!star && <Composes item={item} />}\n          <div className=\"flex justify-end items-center\">\n            <MaterialLabel toRight toDetails>{item?.material?.id}</MaterialLabel>\n            <MaterialLabel toRight>{(find(categoryData, ite => ite?.value === item?.baseInfo?.category) || {})?.label}</MaterialLabel>\n          </div>\n          {/* {star && <Collection item={item} />} */}\n        </div>\n      </div>\n    </div>\n  )\n}","import { isEmpty, map } from \"lodash\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { AvatarCard } from \"../../../components/AvatarCard\";\nimport { MaterialItem } from \"../../../components/Card\";\nimport { DataStateBox } from \"../../../components/DataStateBox\";\n\nexport const PersonCenter = ({\n  avater,\n  colectionList,\n  onwerList\n}: {\n  avater?: MaterialItem;\n  colectionList: MaterialItem[];\n  onwerList: MaterialItem[]\n}) => {\n  const history = useHistory()\n  const { search } = useLocation()\n  const address = search ? search.split(\"=\")[1] : \"\"\n\n  return (\n    <div className=\"border m-4 p-4 card\">\n      <div className=\"mb-2 flex justify-between\">\n        <div>个人中心</div>\n        <div\n          className=\"cursor-pointer hover:text-red-500\"\n          onClick={() => { history.push(`/person-center${address ? \"?address=\" + address : \"\"}`) }}\n        >查看更多</div>\n      </div>\n      <DataStateBox data={[...colectionList, ...onwerList]}>\n        <div\n          className=\"overflow-y-scroll\"\n          style={{ height: \"calc(100% - 30px)\" }}>\n          {avater && <div className=\"mt-2 pb-4\">\n            <div className=\"\">Avater</div>\n            {map([avater], item => <AvatarCard key={item?.material.id} item={item} />)}\n          </div>}\n          {!isEmpty(onwerList) && <div className=\"mt-4\">\n            <div className=\"\">Your Material</div>\n            {map(onwerList, item => <AvatarCard key={item?.material?.id} item={item} />)}\n          </div>}\n          {!isEmpty(colectionList) && <div className=\"mt-4\">\n            <div className=\"\">Your Star</div>\n            {map(colectionList, item => <AvatarCard key={item?.material?.id} item={item} star/>)}\n          </div>}\n        </div>\n      </DataStateBox>\n    </div>\n  );\n};","import { PixelsMetaverseHandleImg, usePixelsMetaverseHandleImg } from \"../../../pixels-metaverse\";\n\nexport const Avatar = () => {\n  const { config, canvas2Ref } = usePixelsMetaverseHandleImg()\n\n  return (\n    <div\n      className=\"m-4 card main-box overflow-hidden bg-transparent\"\n      style={{\n        width: config?.imgSize?.width,\n        height: config?.imgSize?.height,\n        minWidth: config?.imgSize?.width\n      }}>\n      <PixelsMetaverseHandleImg canvasRef={canvas2Ref} showGridColor />\n    </div>\n  );\n};","import { map } from \"lodash\";\nimport { useHistory } from \"react-router-dom\";\nimport { AvatarCard } from \"../../../components/AvatarCard\";\nimport { MaterialItem } from \"../../../components/Card\";\nimport { DataStateBox } from \"../../../components/DataStateBox\";\n\nexport const Collections = ({ noCollectionList }: { noCollectionList: MaterialItem[] }) => {\n  const history = useHistory()\n\n  return (\n    <div className=\"border m-4 p-4 card\" style={{ boxShadow: \"5px 5px 10px rgba(225,225,225,0.3)\" }}>\n      <div className=\"mb-2 flex justify-between\">\n        <div>未收藏</div>\n        <div className=\"cursor-pointer hover:text-red-500\" onClick={() => { history.push(\"/lockers\") }}>去收藏更多</div>\n      </div>\n      <DataStateBox data={noCollectionList}>\n        <div className=\"overflow-y-scroll\" style={{ height: \"calc(100% - 30px)\" }}>\n          {map(noCollectionList, item => <AvatarCard key={item?.material?.id} item={item} star/>)}\n        </div>\n      </DataStateBox>\n    </div>\n  );\n};","\nimport { isEmpty } from \"lodash\";\nimport { Tooltip } from \"antd\";\nimport { AppstoreOutlined, ClearOutlined, DeleteOutlined, ExclamationCircleOutlined } from \"@ant-design/icons\";\nimport { usePixelsMetaverseHandleImg } from \"../../../pixels-metaverse\";\n\nexport const Controller = () => {\n  const {\n    setConfig,\n    config,\n    setPositionsArr,\n    dealClick: { clear, value }\n  } = usePixelsMetaverseHandleImg()\n\n  return (\n    <div\n      className=\"flex flex-col items-center text-gray-300 w-8 absolute py-4 left-0 top-38 text-xl\"\n      style={{ height: 480 + 2, boxShadow: \"0px 0px 10px rgba(225,225,225,0.3)\" }}\n    >\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={`${config?.withGrid ? \"隐藏\" : \"显示\"}辅助线`} color=\"#29303d\" >\n        <AppstoreOutlined style={{ color: config?.withGrid ? 'white' : \"gray\" }} onClick={() => setConfig((pre) => ({ ...pre, withGrid: !config?.withGrid }))} />\n      </Tooltip>\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={`清除画布`} color=\"#29303d\">\n        <ClearOutlined style={{ color: !isEmpty(value) ? 'white' : \"gray\" }} onClick={() => {\n          clear()\n          setPositionsArr([])\n        }} />\n      </Tooltip>\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={`选择绘制颜色`} color=\"#29303d\">\n        <input type=\"color\" className=\"w-5\" onChange={(e) => setConfig((pre) => ({ ...pre, drawColor: e.target.value }))} />\n      </Tooltip>\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={`丢弃选取的颜色`} color=\"#29303d\">\n        <DeleteOutlined style={{ color: !isEmpty(config?.drawColor) ? 'white' : \"gray\" }} onClick={() => setConfig((pre) => ({ ...pre, drawColor: \"\" }))} />\n      </Tooltip>\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={`调整背景色`} color=\"#29303d\">\n        <input type=\"color\" className=\"w-5\" onChange={(e) => setConfig((pre) => ({ ...pre, bgColor: e.target.value }))} />\n      </Tooltip>\n      <Tooltip placement=\"right\" className=\"mb-4 cursor-pointer\" title={() => {\n        return (<div style={{ fontSize: 12 }}>\n          <div>1.清除画布数据会导致之前所有绘制丢失</div>\n          <div>2.选择了绘制颜色后，将不会从当前选中地方取色，除非丢弃该颜色</div>\n          <div>3.丢弃当前选中色后，绘制的颜色将是点击处颜色</div>\n          <div>4.双击即可删除当前位置数据</div>\n        </div>)\n      }} color=\"#29303d\">\n        <ExclamationCircleOutlined />\n      </Tooltip>\n    </div>\n  )\n}","import CloseCircleOutlined from \"@ant-design/icons/lib/icons/CloseCircleOutlined\"\nimport { Button } from \"antd\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\"\nimport { usePixelsMetaverseHandleImg } from \"../../../pixels-metaverse\";\n\nexport const UploadImg = () => {\n  const { setConfig, config, dealClick: { setValue } } = usePixelsMetaverseHandleImg()\n  const filedomRef = useRef<HTMLInputElement>(null)\n  const [src, setSrc] = useState(localStorage.getItem(\"imgUrl\") || \"\")\n  const [url, setUrl] = useState(src)\n\n  //上传图片\n  const fileOnChange = useCallback(() => {\n    const filedom = filedomRef.current\n    if (filedom && filedom?.files) {\n      const file = filedom?.files[0];\n      if (!file.type.match(\"image.*\")) {\n        return\n      }\n      let reader = new FileReader()\n      reader.onload = function () {\n        let bytes = this.result\n        let img = new Image()\n        img.src = \"\" + bytes\n        img.onload = function () {\n          setValue({})\n          setConfig((pre) => ({ ...pre, bgImg: img }))\n        }\n      }\n      reader.readAsDataURL(file)\n    }\n  }, [filedomRef])\n\n  const onLoadImg = (src: string) => {\n    let img = new Image()\n    img.src = src\n    img.crossOrigin = \"\"\n    img.onload = function () {\n      setValue({})\n      setConfig((pre) => ({ ...pre, bgImg: img }))\n    }\n  }\n\n  useEffect(() => {\n    localStorage.setItem(\"imgUrl\", url)\n    onLoadImg(src)\n  }, [src])\n\n  return (\n    <div className=\"mb-4 flex items-center justify-between h-10 text-white\" style={{ width: config?.imgSize.width }}>\n      <div className=\"flex items-center justify-between rounded-sm bg-white bg-opacity-10 w-96\">\n        <input className=\"pl-4 bg-transparent search w-64\" style={{ outline: \"none\" }} placeholder=\"请输入图片链接\" value={url} onChange={(e) => setUrl(e.target.value)} />\n        {url && <CloseCircleOutlined onClick={() => setUrl(\"\")} />}\n        <Button type=\"primary\" size=\"large\" className=\"w-24\"\n          style={{ borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\n          onClick={() => {\n            setSrc(url);\n            if (!url) setConfig((pre) => ({ ...pre, bgImg: null }))\n          }}>导入图片</Button>\n      </div>\n      <Button type=\"primary\" size=\"large\" className=\"ml-2 w-24\" onClick={() => setSrc(url)}>\n        <input type=\"file\" id=\"avatar\" accept=\"image/png, image/jpeg, image.jpg\" hidden onChange={fileOnChange} ref={filedomRef} />\n        <label htmlFor=\"avatar\" className=\"cursor-pointer\">上传文件</label>\n      </Button>\n    </div>\n  )\n}","import { Submit } from \"./components/Submit\";\nimport { PixelsMetaverseHandleImg, PixelsMetaverseHandleImgProvider, usePixelsMetaverseHandleImg, CanvasSlicImg } from \"../../pixels-metaverse\";\nimport { Controller } from \"./components/Controller\";\nimport { UploadImg } from \"./components/UploadImg\";\n\nexport const ProducedCore = () => {\n  const { config, canvasRef, canvas2Ref } = usePixelsMetaverseHandleImg()\n\n  return (\n    <div className=\"flex w-full p-8 pt-24 justify-between\">\n      <div>\n        <UploadImg />\n        <Controller />\n        <div className=\"flex border border-gray-500\" style={{ cursor: \"cell\", boxShadow: \"0px 0px 10px rgba(225,225,225,0.3)\" }}>\n          {config?.bgImg && <>\n            <PixelsMetaverseHandleImg canvasRef={canvasRef} showBgImg className=\"bg-transparent z-50\" />\n            <CanvasSlicImg img={config?.bgImg} sizeGrid={config?.sizeGrid} />\n          </>}\n          <PixelsMetaverseHandleImg canvasRef={canvas2Ref} showGridColor style={{ backgroundColor: config.bgColor }} />\n        </div>\n      </div>\n      <Submit />\n    </div>\n  )\n}\n\nexport const Produced = () => {\n  return (\n    <PixelsMetaverseHandleImgProvider\n      size={480}\n      showGrid\n      handDraw\n      data={{\n        positions: [],\n        size: 'large',\n        bgColor: \"transparent\",\n        gridColor: \"rgba(225,225,225,0.7)\",\n      }}\n    >\n      <ProducedCore />\n    </PixelsMetaverseHandleImgProvider>\n  )\n}","import { map } from \"lodash\"\nimport { Route, Switch } from \"react-router-dom\"\nimport { Website } from \"../pages/home\"\nimport { Lockers } from \"../pages/lockers\"\nimport { PersonCenter } from \"../pages/person-center\"\nimport { PixelsMetaverse } from \"../pages/play\"\nimport { Produced } from \"../pages/produced\"\n\nexport const routes = [\n  { name: \"控制台\", path: \"/action\", component: PixelsMetaverse },\n  { name: \"作坊\", path: \"/produced\", component: Produced },\n  { name: \"储物柜\", path: \"/lockers\", component: Lockers },\n  // { name: \"个人中心\", path: \"/person-center\", component: PersonCenter },\n  { name: \"首页\", path: \"/\", component: Website },\n]\n\nexport const Routes = () => {\n  return (\n    <Switch>\n      {map(routes, item => <Route key={item.path} path={item?.path} component={item.component} />)}\n      <Route exact component={Website} />\n    </Switch>\n  )\n}","import { PersonCenter } from \"./components/PersonCenter\";\nimport { Avatar } from \"./components/Avatar\";\nimport { Collections } from \"./components/Collections\";\nimport { Dictionary, isEmpty, map } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { useUserInfo } from \"../../components/UserProvider\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport {\n  PixelsMetaverseHandleImgProvider,\n  useConvertedPostion\n} from \"../../pixels-metaverse\";\nimport { useWeb3Info } from \"abi-to-request\";\nimport { MaterialItem } from \"../../components/Card\";\n\nexport const useGetPersonData = () => {\n  const { address: addresss } = useWeb3Info()\n  const { search } = useLocation()\n  const address = search ? search.split(\"=\")[1] : addresss\n  const { materialList, userInfo } = useUserInfo();\n  return useMemo(() => {\n    const noCollectionList: MaterialItem[] = [], colectionList: MaterialItem[] = [], onwerList: MaterialItem[] = [];\n    let avater: MaterialItem | undefined;\n    map(materialList, (item: MaterialItem) => {\n      const isCurAddress = address === item?.material?.owner\n      if (item?.material?.id === userInfo?.id) {\n        avater = item;\n      } else if (isCurAddress) {\n        onwerList.push(item)\n      } else if (item?.baseInfo?.userId !== \"0\" && item?.material?.id !== \"0\") {\n        noCollectionList.push(item);\n      }\n    })\n    return { noCollectionList, avater, colectionList, onwerList }\n  }, [materialList, userInfo])\n}\n\nexport const PixelsMetaverse = () => {\n  const { address: addresss } = useWeb3Info();\n  const { search } = useLocation();\n  const address = search ? search.split(\"=\")[1] : addresss;\n  const { userInfo } = useUserInfo();\n  const convertedPostion = useConvertedPostion();\n  const a = useParams();\n  const { noCollectionList, avater, colectionList, onwerList } = useGetPersonData();\n\n  const avaterData = React.useMemo(() => {\n    avater?.composeData?.push(avater)\n    return avater\n  }, [avater?.composeData])\n\n  const positions = useMemo(() => {\n    if (isEmpty(avaterData?.composeData)) return \"empty\"\n    let data: Dictionary<any> = {}\n    map(avaterData?.composeData, item => {\n      if (item?.baseInfo?.data) {\n        const positionsData = convertedPostion({\n          positions: item?.baseInfo?.data\n        })\n        data = { ...data, ...positionsData }\n      }\n    })\n\n    const colors: Dictionary<number[]> = {}\n    for (let i in data) {\n      colors[data[i]] ? colors[data[i]].push(Number(i)) : colors[data[i]] = [Number(i)]\n    }\n\n    let str = \"\"\n    let min = 1\n    for (let i in colors) {\n      const position = map(colors[i], ite => (ite - min).toString(36)).join(\"|\")\n      str += `${parseInt(i.slice(1), 16).toString(36)}-${position}-`\n    }\n    return `${str}${min}`\n  }, [avaterData?.composeData])\n\n  return (\n    <PixelsMetaverseHandleImgProvider\n      size={480}\n      showGrid={userInfo?.withGrid}\n      data={{\n        positions: positions,\n        size: 'large',\n        bgColor: userInfo?.bgColor,\n        gridColor: userInfo?.gridColor,\n      }}\n    >\n      <div className=\"flex justify-between bg-transparent flex-1 pt-20\">\n        <PersonCenter avater={avater} colectionList={colectionList} onwerList={onwerList} />\n        <Avatar />\n        <Collections noCollectionList={noCollectionList} />\n      </div>\n    </PixelsMetaverseHandleImgProvider>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { SearchQuery } from \"./components/SearchQuery\";\nimport { MaterialCard } from \"./components/MaterialCard\";\nimport { DataStateBox } from \"../../components/DataStateBox\";\nimport { isEmpty, last, map } from \"lodash\";\nimport { useUserInfo } from \"../../components/UserProvider\";\nimport { useQueryString } from \"../../helpers/utilities\";\nimport RightOutlined from \"@ant-design/icons/lib/icons/RightOutlined\";\nimport { Input } from \"antd\";\n\nexport const Lockers = () => {\n  const { materialList } = useUserInfo()\n  const { searchString, setSearchString } = useQueryString();\n  const [createID, setCreateID] = useState(\"\")\n  useEffect(() => { setCreateID(searchString?.createID) }, [searchString?.createID])\n\n  return (\n    <main className=\"pt-20\">\n      <div className=\"m-auto p-6 rounded-md w-5/6\"\n        style={{\n          background: \"rgba(225,225,225, 0.05)\",\n          height: \"calc(100vh - 90px)\",\n          color: \"rgba(225, 225, 225, 0.8)\",\n          minWidth: 1200\n        }}>\n        <div className=\"mb-4 flex justify-between\">\n          <div className=\"text-2xl\">储物室</div>\n          <SearchQuery />\n        </div>\n        <DataStateBox data={materialList} styleCSS={{ height: \"calc(100vh - 200px)\" }}>\n          <div>\n            <div className=\"flex flex-wrap overflow-scroll\" style={{ height: \"calc(100vh - 200px)\" }}>\n              {map(materialList, (item, i) => {\n                if (item?.baseInfo?.userId === \"0\" && item?.material?.id === \"0\") return null\n                return <MaterialCard key={`${i}`} item={item} />\n              })}\n            </div>\n          </div>\n        </DataStateBox>\n        {!searchString?.id && !isEmpty(materialList) && <div className=\"flex justify-center mt-2\">\n          <div className=\"flex justify-between items-center\">\n            <Input\n              style={{ width: 100, marginLeft: 10, marginRight: 10 }}\n              size=\"small\"\n              allowClear\n              placeholder=\"跳转至ID\"\n              value={createID}\n              onPressEnter={() => {\n                setSearchString({ ...searchString, createID });\n              }}\n              onChange={(val) => {\n                setCreateID(val?.target?.value)\n              }}\n            ></Input>\n            {materialList?.length >= 10 && <RightOutlined className=\"cursor-pointer mx-4\" onClick={() => {\n              const data = {\n                ...searchString,\n                createID: last(materialList)?.material?.id ? String(Number(last(materialList)?.material?.id) - 1) : \"\"\n              }\n              setSearchString(data);\n              //getMaterials?.refetch(data as TQuery)\n            }} />}\n          </div>\n        </div>}\n      </div>\n    </main>\n  )\n}","import { TAbiItem } from \"abi-to-request\";\n\nexport const abis: TAbiItem[] = [\n  {\n    \"contractName\": \"PMT721\",\n    \"abi\": [\n      {\n        \"inputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"approved\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bool\",\n            \"name\": \"approved\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"ApprovalForAll\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"burn\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"currentID\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"exits\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"getApproved\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"isApprovedForAll\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"mint\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"minter\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"ownerOf\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"safeTransferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bytes\",\n            \"name\": \"_data\",\n            \"type\": \"bytes\"\n          }\n        ],\n        \"name\": \"safeTransferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"approved\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"setApprovalForAll\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_minter\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"setMinter\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"setOwner\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"bytes4\",\n            \"name\": \"interfaceId\",\n            \"type\": \"bytes4\"\n          }\n        ],\n        \"name\": \"supportsInterface\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"tokenURI\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }\n    ],\n    \"chainId\": \"42\",\n    \"address\": \"0x96688f74507649170110d1F29884179ab4aD1b7B\",\n    \"frame\": \"hardhat\",\n    \"netName\": \"kovan\"\n  },\n  {\n    \"contractName\": \"PixelsMetaverse\",\n    \"abi\": [\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"pmt721\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"avater\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"AvaterEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"fromID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"toID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256[]\",\n            \"name\": \"id\",\n            \"type\": \"uint256[]\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bool\",\n            \"name\": \"isAdd\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"ComposeEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"sort\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"ConfigEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bytes32\",\n            \"name\": \"dataBytes\",\n            \"type\": \"bytes32\"\n          }\n        ],\n        \"name\": \"DataOwnerEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"dataID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"configID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"rawData\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bool\",\n            \"name\": \"remake\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"MaterialEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"ids\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          }\n        ],\n        \"name\": \"addition\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"avater\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          }\n        ],\n        \"name\": \"compose\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"bytes32\",\n            \"name\": \"\",\n            \"type\": \"bytes32\"\n          }\n        ],\n        \"name\": \"dataOwner\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"handleTransfer\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"rawData\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"num\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"make\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"material\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"composed\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bytes32\",\n            \"name\": \"dataBytes\",\n            \"type\": \"bytes32\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"remake\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"num\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"reMake\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"setAvater\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"sort\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"setConfig\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"bytes32\",\n            \"name\": \"dataBytes\",\n            \"type\": \"bytes32\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"setDataOwner\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"ids\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          }\n        ],\n        \"name\": \"subtract\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }\n    ],\n    \"chainId\": \"42\",\n    \"address\": \"0xe9b1Fb1B42C59aC6e660dAeCDe374505a1F0E75A\",\n    \"frame\": \"hardhat\",\n    \"netName\": \"kovan\"\n  },\n  {\n    \"contractName\": \"PMT721\",\n    \"abi\": [\n      {\n        \"inputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"approved\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bool\",\n            \"name\": \"approved\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"ApprovalForAll\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"burn\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"currentID\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"exits\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"getApproved\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"isApprovedForAll\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"mint\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"minter\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"ownerOf\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"safeTransferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bytes\",\n            \"name\": \"_data\",\n            \"type\": \"bytes\"\n          }\n        ],\n        \"name\": \"safeTransferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"operator\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"approved\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"setApprovalForAll\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_minter\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"setMinter\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"setOwner\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"bytes4\",\n            \"name\": \"interfaceId\",\n            \"type\": \"bytes4\"\n          }\n        ],\n        \"name\": \"supportsInterface\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"tokenURI\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"tokenId\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }\n    ],\n    \"chainId\": \"31337\",\n    \"address\": \"0xa513E6E4b8f2a923D98304ec87F64353C4D5C853\",\n    \"frame\": \"hardhat\",\n    \"netName\": \"localhost\"\n  },\n  {\n    \"contractName\": \"PixelsMetaverse\",\n    \"abi\": [\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"pmt721\",\n            \"type\": \"address\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"avater\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"AvaterEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"beforeFatherID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"afterFatherID\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"ComposeEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"sort\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"ConfigEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"bytes32\",\n            \"name\": \"dataBytes\",\n            \"type\": \"bytes32\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"rawData\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"dataID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"configID\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"bool\",\n            \"name\": \"remake\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"name\": \"MaterialEvent\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"ids\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          }\n        ],\n        \"name\": \"addition\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"avater\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"bytes32\",\n            \"name\": \"\",\n            \"type\": \"bytes32\"\n          }\n        ],\n        \"name\": \"baseInfo\",\n        \"outputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"rawData\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          }\n        ],\n        \"name\": \"compose\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"handleTransfer\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"rawData\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"num\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"make\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"material\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"composed\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bytes32\",\n            \"name\": \"dataBytes\",\n            \"type\": \"bytes32\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"remake\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"num\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"reMake\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"setAvater\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"time\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"position\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"zIndex\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"decode\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"sort\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"setConfig\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"ids\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256[]\",\n            \"name\": \"idList\",\n            \"type\": \"uint256[]\"\n          }\n        ],\n        \"name\": \"subtract\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }\n    ],\n    \"chainId\": \"31337\",\n    \"address\": \"0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6\",\n    \"frame\": \"hardhat\",\n    \"netName\": \"localhost\"\n  }\n]","import { useLocation } from \"react-router-dom\";\nimport { Loading, LoadingProvider, useLoading } from './components/Loading';\nimport { UserInfoProvider } from './components/UserProvider';\nimport { PixelsMetaverseContextProvider } from './pixels-metaverse';\nimport { Header } from './components/Header';\nimport bgSvg from \"./assets/image/bg.svg\"\nimport { Routes } from './routes';\nimport { ContractRequestContextProvider, useWeb3Info, Web3InfoProvider } from \"abi-to-request\";\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\"\nimport { abis } from \"./client/abis\";\n\nconst client = new ApolloClient({\n  uri: \"https://api.thegraph.com/subgraphs/id/QmbuqjhEAzeU1hG9fn2tCEJwmj8FiQvax5rsb9CzZmj4mS\",\n  //uri: \"https://api.thegraph.com/subgraphs/name/qianduanxinlv/pixels\",\n  cache: new InMemoryCache()\n})\n\ndeclare global {\n  // tslint:disable-next-line\n  interface Window {\n    web3: any;\n    ethereum: any;\n    Web3Modal: any;\n    Box: any;\n    box: any;\n    space: any;\n    [name: string]: any;\n  }\n}\n\nconst Main = () => {\n  const { pathname } = useLocation()\n  const { library } = useWeb3Info()\n  const { openLoading, closeDelayLoading } = useLoading()\n\n  return (\n    <ContractRequestContextProvider\n      library={library}\n      abis={abis}\n      transactionHook={{\n        onSuccessBefore: () => {\n          openLoading()\n        },\n        onSuccess: () => {\n          closeDelayLoading()\n        },\n        onFail: ()=>{\n          closeDelayLoading()\n        }\n      }}>\n      <PixelsMetaverseContextProvider library={library}>\n        <UserInfoProvider>\n          {pathname !== \"/\" && <Header />}\n          <Routes />\n          <Loading />\n        </UserInfoProvider>\n      </PixelsMetaverseContextProvider>\n    </ContractRequestContextProvider>\n  )\n}\n\nconst App = () => {\n  return (\n    <div className=\"relative bg-white overflow-hidden\" style={{ minWidth: 1400, minHeight: 600 }}>\n      <div className=\"relative w-full h-full min-h-screen mx-auto bg-no-repeat md:bg-contain bg-cover bg-gray-900\"\n        style={{ backgroundImage: `url(${bgSvg})` }}>\n        <ApolloProvider client={client}>\n          <Web3InfoProvider>\n            <LoadingProvider>\n              <Main />\n            </LoadingProvider>\n          </Web3InfoProvider>\n        </ApolloProvider>\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n//i18next-browser-languagedetector插件 \n//这是一个 i18next 语言检测插件，用于检测浏览器中的用户语言，\n//详情请访问：https://github.com/i18next/i18next-browser-languageDetector\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport en from \"./en-us.json\";\nimport hk from \"./zh-hk.json\";\nimport cn from \"./zh-cn.json\";\n\nconst resources = {\n    cn: {\n        translation: cn,\n    },\n    en: {\n        translation: en,\n    },\n    hk: {\n        translation: hk,\n    },\n};\n\ni18n.use(LanguageDetector) //嗅探当前浏览器语言 zh-CN\n    .use(initReactI18next)\n    .init({\n        resources,\n        fallbackLng: 'cn',\n        interpolation: {\n            escapeValue: false,\n        },\n        detection: {\n            caches: ['localStorage', 'sessionStorage', 'cookie'],\n        }\n    });\n\nexport default i18n;","import ReactDOM from 'react-dom';\nimport './index.css';\nimport './theme.less';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from \"react-router-dom\";\nimport \"./i18n/config\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}